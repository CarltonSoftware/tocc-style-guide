(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(t,e,i){var o=i(39),r=i(1002),n=i(436),a=i(140),s=i(138);function c(){this.isDefined=function(t){return"undefined"!==typeof t}}function p(t){for(var e=localStorage.length;e-- >0;){var i=localStorage.key(e);"/"===i[0]&&-1!==i.indexOf(t)&&localStorage.removeItem(i)}}c.prototype=new o,c.prototype.get=function(t){if("undefined"===typeof this.id)throw new r("Id not specified.");if("undefined"===typeof this.path)throw new n("No path specified for entity");return this.okPromiseResult(this.getUpdatePath(),null,t)},c.prototype.getCacheable=function(t,e){t||(t=3600);var i,o=localStorage.cachelog,r=this.getUpdatePath();this.cacheKey=r,o&&console.log("singleentty cacheable - "+r);var n=this.checkRootEntities(r);if(n&&(r="/"),t>0&&!e&&localStorage[r]){var a=JSON.parse(s.decompress(localStorage[r]));if(o&&(console.log("Cached at "+new Date(a.cachedTime)),console.log("Expires at "+new Date(a.cachedTime+1e3*t)),console.log("Time now "+new Date),console.log("Cached build date "+a.buildDate),console.log("Built at "+localStorage.buildDate)),a&&a.cachedTime+1e3*t>Date.now()&&a.buildDate===localStorage.buildDate)if(n){var c;for(var p in a.entity.static)p.toLowerCase()===n[0]&&a.entity.static[p].forEach(function(t){t.id==n[1]&&(c=t)});c&&(o&&console.log("cacheHit Root"),i=this.cachedOkPromiseResult(c))}else o&&console.log("cacheHit"),i=this.cachedOkPromiseResult(a.entity)}return i||(i=this.get(0!==t)),i},c.prototype.invalidateCache=function(){this.parent&&this.parent.invalidateCache&&this.parent.invalidateCache(),p(this.path.split("/")[0]),"tabsuser"===this.path&&p("whoami")},c.prototype.update=function(t){if(a.each(t,function(t,e){this[e]=t}.bind(this)),"undefined"===typeof this.id)throw new r("Id not specified.");if("undefined"===typeof this.path)throw new n("No path specified for entity");return this.invalidateCache(),this.updatePromiseResult(this.getUpdatePath(),this.removeUndefineds(this.toUpdateArray()))},c.prototype.removeUndefineds=function(t){return a.pick(t,this.isDefined)},c.prototype.create=function(t){if(a.each(t,function(t,e){this[e]=t}.bind(this)),"undefined"===typeof this.createPath)throw new n("No createPath specified for entity");return this.invalidateCache(),this.createPromiseResult(this.getCreatePath(),this.removeUndefineds(this.toCreateArray()))},c.prototype.upload=function(){if("undefined"===typeof this.createPath)throw new n("No createPath specified for entity");return this.uploadPromiseResult(this.getCreatePath(),this.toFormData())},c.prototype.delete=function(){if("undefined"===typeof this.id)throw new r("Id not specified.");if("undefined"===typeof this.path)throw new n("No deletePath specified for entity");return this.invalidateCache(),this.deletePromiseResult(this.getUpdatePath())},c.prototype.toArray=function(){return{}},c.prototype.validSchema=function(){return{}},c.prototype.toCreateArray=function(){return this.toArray()},c.prototype.toFormData=function(){return new FormData},c.prototype.toUpdateArray=function(){return a.extend({id:this.id},this.toCreateArray())},c.prototype.getCreatePath=function(t){return"object"===typeof this.parent&&(t=this.parent.getUpdatePath(t)),("string"===typeof t?t:"")+"/"+this.createPath},c.prototype.getUpdatePath=function(t){return this.getCreatePath(t)+"/"+this.id},t.exports=c},,,,function(t,e,i){var o=i(35);function r(t){this.entity=o.common[t.entity],this.parent=t.parent}r.prototype.factory=function(t){var e=t.split("/"),i=parseInt(e.pop());t=e.pop();var o=new this.entity(i);return"object"===typeof this.parent&&"function"===typeof this.parent.factory?o.parent=this.parent.factory(e.join("/")):"object"===typeof this.parent&&(o.parent=this.parent),"undefined"===typeof o.path&&(o.path=t,o.createPath=t),o},t.exports=r},function(t,e,i){(function(e){var o=i(40),r=i(436),n=i(138);function a(){this.page=1,this.limit=10,this.orderBy=null,this.category=null,this.getPath=function(){var t="";if("object"===typeof this.options.parent&&"string"===typeof this.options.path)t=this.options.parent.getUpdatePath()+"/"+this.options.path;else if("undefined"===typeof this.options.path)throw new r("No path specified for entity");var e=this.options.parents||[];if(0===t.length){for(var i=0;i<e.length;i++)t+=e[i].path+"/"+e[i].id+"/";t+=this.options.path}return t.startsWith("/")||(t="/"+t),t},o.apply(this,arguments)}a.prototype=new o,a.prototype.toArray=function(){return{page:this.page,limit:this.limit,orderBy:this.orderBy,view:this.view,filter:this.filters}},a.prototype.getFilterObject=function(){return this.filters},a.prototype.getHash=function(){var t=this.toArray();return t.fetchedTime=this.fetchedTime,window&&window.btoa?btoa(JSON.stringify(t)):e&&e.from?e.from(JSON.stringify(t),"binary").toString("base64"):""},a.prototype.getFullPath=function(){return this.getPath()+"?page="+this.page+"&limit="+this.limit},a.prototype.getMaxPages=function(){return this.total?Math.ceil(this.total/this.limit):this.page},a.prototype.nextPage=function(){var t=this.page+1;return t>this.getMaxPages()&&(t=1),this.page=t,this},a.prototype.previousPage=function(){var t=this.page-1;return t<=0&&(t=this.getMaxPages()),this.page=t,this},a.prototype.fetch=function(t,e){var i=this.okPromiseResult(this.getPath(),this.toArray(),e);return t&&t.length?new Promise(function(e){i.then(function(i){i.fetchedTime=new Date,Promise.all(t.map(function(t){var e={};return Promise.all(i.map(function(i){if(i[t]&&i[t].id){if(!(i[t].id in e))return e[i[t].id]=i[t],i[t].get();i[t]=e[i[t].id]}}))})).then(function(){e(i)})})}):i},a.prototype.fetchCacheable=function(t,e){"undefined"===typeof t&&(t=3600);var i=localStorage.cachelog,o=this.getFullPath();if(this.cacheKey=o,i&&console.log("collection cacheable - "+o),t>0&&!e&&localStorage[o]){var r=JSON.parse(n.decompress(localStorage[o]));if(i&&(console.log("Cached at "+new Date(r.cachedTime)),console.log("Expires at "+new Date(r.cachedTime+1e3*t)),console.log("Time now "+new Date),console.log("Cached build date "+r.buildDate),console.log("Built at "+localStorage.buildDate)),r&&r.cachedTime+1e3*t>Date.now()&&r.buildDate===localStorage.buildDate){i&&console.log("cacheHit");var a=this.cachedOkPromiseResult(r.entity)}else a=this.fetch(null,!0)}else a=this.fetch(null,0!==t);return a},t.exports=a}).call(this,i(211).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){var r=o(81),n=o(138),a=!0;if("undefined"===typeof localStorage){var s=o(957).LocalStorage;localStorage=new s("/tmp/scratch")}"undefined"===typeof window&&(window={},a=!1);var c=function(){var t,e="plato-js-client:token",s=new Date("2002-02-20 20:02:20");function c(t){if(!(this instanceof c))return new c(t);var s,p,h=o(985),d=o(681),u=o(987),l=o(998),m=o(999),y=o(1e3),b="/",g=!1,f=!1,w="",k="/oauth/v2/auth",x="",P=function(t){"undefined"!==typeof sessionStorage&&sessionStorage.setItem("tabs2:previousPath",window.location.pathname);"undefined"!==typeof window&&(window.location=t);localStorage.removeItem(e)};this.getDomain=function(){return b},this.getToken=function(){return this.token},this.setToken=function(t){return this.token=t,this},this.setInstance=function(t){return t||(t={}),g=t.oAuthWithoutHost?t.oAuthWithoutHost:g,b=t.apiRoot?t.apiRoot:b,w=t.apiPrefix?t.apiPrefix:w,s=t.oAuthRedirectUrl?t.oAuthRedirectUrl:s,k=t.authPath?t.authPath:k,x=null!=t.clientId?t.clientId:"",P=t.windowStrategy?t.windowStrategy:P,t.token?p=t.token:localStorage&&(p=localStorage.getItem(e)),f=!!t.storeResponse&&t.storeResponse,this.storeResponse=f,this.token=p,this},this._authenticate=function(t,e,i,o){var r={grant_type:o||"password",username:t,password:e,client_id:x,client_secret:i};return h.wrap(u).wrap(d,{prefix:b}).wrap(l).wrap(y)({path:"/oauth/v2/token",params:r})},this.handleAuthResponse=function(t){if(t.entity.error_description)throw Error("Auth failure: "+t.entity.error_description);if(!t.entity.access_token)throw Error("Auth failure: No token returned");return this.token=t.entity.access_token,t.entity.access_token},this.authenticate=function(t,e,i){return this._authenticate(t,e,i).then(function(t){return this.handleAuthResponse(t)}.bind(this))},this.oAuthLogout=function(){if(this.token=null,localStorage){localStorage.removeItem(e);for(var t=[],i=0;i<localStorage.length;i++)localStorage.key(i).startsWith("/")&&t.push(localStorage.key(i));t.forEach(function(t){localStorage.removeItem(t)})}var o=document.createElement("IFRAME");o.setAttribute("src",b+"/oauth/v2/auth_logout"),o.style.width="1px",o.style.height="1px",document.body.appendChild(o)},this.oAuthCallback=function(t){var i,o,r,n;o=0===t.indexOf("#")?t.substring(1):t,i={},n=(r=/([^&=]+)=([^&]*)/g).exec(o);do{i[decodeURIComponent(n[1])]=decodeURIComponent(n[2]),n=r.exec(o)}while(n);this.token=i.access_token,localStorage&&localStorage.setItem(e,this.token)},this.request=function(t,e){return(t=function(t){return t&&"undefined"!==typeof t||(t="/"),"string"===typeof t&&(t={path:t}),"object"!==typeof t?{path:"/"}:("object"===typeof t&&t.hasOwnProperty("path")&&(t.path="/"+t.path.replace(new RegExp("^/+"),"")),t)}(t)).hasOwnProperty("method")||(t.method=e),this.createClient()(t)},this.createClient=function(){var t=b+k;g&&(t=k);var e={clientId:x,authorizationUrlBase:t,token:!!this.token&&"Bearer "+this.token,redirectUrl:s,windowStrategy:P};return a||(m=o(435)),h.wrap(u).wrap(d,{prefix:b+w}).wrap(l).wrap(y).wrap(m,e)},this.getBasicEndpoint=function(t){var e=this.createClient()({path:t,method:"get"});return new Promise(function(i,o){e.then(function(e){if(200===e.status.code){try{localStorage[t]=n.compress(JSON.stringify({entity:e.entity,cachedTime:Date.now(),buildDate:localStorage.buildDate}))}catch(a){}i(e)}else o(new r(e))},o)})},this.getBasicEndpointCacheable=function(t,e,i){e||(e=3600);var o=localStorage.cachelog;if(o&&console.log("basic endpoint cacheable - "+t),e>0&&!i&&localStorage[t]){var r=JSON.parse(n.decompress(localStorage[t]));if(o&&(console.log("Cached at "+new Date(r.cachedTime)),console.log("Expires at "+new Date(r.cachedTime+1e3*e)),console.log("Time now "+new Date),console.log("Cached build date "+r.buildDate),console.log("Built at "+localStorage.buildDate)),r&&r.cachedTime+1e3*e>Date.now()&&r.buildDate===localStorage.buildDate){o&&console.log("cacheHit");var a=new Promise(function(t){t(r)})}else localStorage[t]="",a=this.getBasicEndpoint(t)}else a=this.getBasicEndpoint(t);return a},this.whoAmi=function(){return this.getBasicEndpoint("/whoami")},this.whoAmiCacheable=function(t,e){return t||(t=3600),this.getBasicEndpointCacheable("/whoami",t,e)},this.getRoot=function(){return this.getBasicEndpoint("/")},this.getRootCacheable=function(t,e){return t||(t=3600),this.getBasicEndpointCacheable("/",t,e)},this.getClient=function(){return h},this.getHost=function(){return b},this.setHost=function(t){return b=t,this},this.get=function(t){return this.request(t,"GET")},this.post=function(t){return t.headers={"Content-Type":"application/x-www-form-urlencoded"},this.request(t,"POST")},this.upload=function(t){return t.headers={"Content-Type":"multipart/form-data"},this.request(t,"POST")},this.put=function(t){return t.headers={"Content-Type":"application/x-www-form-urlencoded"},this.request(t,"PUT")},this.delete=function(t){return this.request(t,"DELETE")},this.options=function(t){return this.request(t,"OPTIONS")},this.type=function(t){return null==t?t+"":typeof t},this.isFunction=function(t){return"function"===this.type(t)},this.buildParams=function(t,e,o){var r,n,a,s=/\[\]$/;if(Array.isArray(e))for(n in e)a=e[n],s.test(t)?o(t,a):this.buildParams(t+"["+("object"===typeof v?i:"")+"]",a,o);else if("object"===this.type(e))for(r in e)this.buildParams(t+"["+r+"]",e[r],o);else o(t,e)},this.param=function(t){var e,i,o=[],r=function(t,e){e=this.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}.bind(this);if(Array.isArray(t))for(i in t)r(i,t[i]);else for(e in t)this.buildParams(e,t[e],r);return o.join("&").replace(/%20/g,"+")}}return localStorage.buildDate=s,{init:function(){return t||(t=c.apply(null,arguments)),t},getInstance:function(){return t||this.init.apply(this,arguments)},newInstance:function(){var t=new c;return t.setInstance(arguments),t}}}();t.exports=c},,function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="currency",this.createPath="currency",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{currencycode:r.string().required().label("currencycode"),currencyname:r.string().required().label("currencyname"),decimalplaces:r.string().required().label("decimalplaces")}},n.prototype.toArray=function(){return{currencycode:this.code,currencyname:this.name,decimalplaces:this.decimalplaces}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(81),n=i(0),a=i(5),s=i(4),c=i(96),p=i(256),h=i(257),d=i(144),u=i(258),l=i(83),m=i(58),y=i(290),b=i(165),g=i(280),f=i(118),w=i(283),v=i(285),k=i(286),x=i(225),P=i(167),j=i(279),A=i(333),S=i(397),q=i(140);function T(t){this.id=t,this.notes=new c({noteEntity:this,object:u,path:"actornote"}),this.documents=new a({object:p,path:"document",parent:this}),this.potentialduplicates=new a({object:h}),this.mergedinto=new s({entity:"Actor"}),this.createdby=new s({entity:"Actor"}),this.branding=new m,this.defaultbranding=new m,this.language=new d,this.language.code="EN",this.language.name="English",this.abroad=!1,this.enquirer=!1,this.bankaccounts=new a({object:y,parent:this}),this.activities=new a({object:w,parent:this}),this.security=new a({object:v,parent:this,path:"actorsecurity"}),this.settings=new a({object:k,parent:this,path:"setting"}),this.categories=new a({object:x,parent:this,path:"category"}),this.contactdetails=new a({object:f,parent:this,discriminator:"type",discriminatorMap:{C:f,P:b,F:g}}),this.contactdetailpermissions=new a({object:j,parent:this,path:"contactdetailpermission"}),this.flags=new a({object:A,parent:this,path:"flag"}),this.zendesktickets=new a({object:S,path:"zendeskticket",parent:this}),this.programs=new a({object:P,path:"program",parent:this})}T.prototype=new n,T.prototype.mutateResponse=function(t){this.bookings=new a({path:"booking",object:l,parent:this});var e=i(101),o=i(292);return this.accounts=new a({path:"account",object:e,parent:this,discriminator:"type",discriminatorMap:{Actor:e,Booking:o,SecurityDeposit:o}}),this.mutateEntity(t)},T.prototype.getFullName=function(t){if("agency"===this.path)return this.companyname;if("office"===this.path)return this.officename;var e=[];return!t&&this.title&&e.push(this.title),"system"==this.firstname&&"system"==this.surname?this.surname:(e=[this.title,this.firstname,this.surname].filter(function(t){return t&&"NoName"!==t&&"<title>"!==t})).length?e.join(" "):this.companyname||this.surname},T.prototype.getDefaultBookingBrand=function(){if(this.defaultbookingbrand&&this.defaultbookingbrand.id)return this.defaultbookingbrand},T.prototype.getDefaultBranding=function(){if(this.defaultbranding&&this.defaultbranding.id)return this.defaultbranding},T.prototype.getDefaultBrandingGroup=function(){if(this.defaultbrandinggroup&&this.defaultbrandinggroup.id)return this.defaultbrandinggroup},T.prototype.toString=T.prototype.getFullName,T.prototype.getContactDetails=function(t){var e=q.extend({excludeInvalid:!1},t),i={};return this.contactdetails.forEach(function(t){e.excludeInvalid&&t.invalid||("F"!==t.type||i.phone?"C"!==t.type||"email"!==t.contactmethodtype.toLowerCase()||i.email?"P"!==t.type||i.address||(i.address=t):i.email=t:i.phone=t)}),i},T.prototype.getContactPreference=function(t,e,i){var o=[],r=this.contactdetails.filter(function(e){return e.type==t});if(r&&r.length>0)for(var n in r.sort(function(t){return"Main"===t.contactmethodsubtype?0:"Home"===t.contactmethodsubtype?1:"Work"===t.contactmethodsubtype?2:3}),r)for(var a in r[n].contactpreferences.collection)if(!0!==r[n].contactpreferences.collection[a].donotuse&&r[n].contactpreferences.collection[a].rolereason.role.name==e&&r[n].contactpreferences.collection[a].rolereason.reason.name==i){var s=r[n].contactpreferences.collection[a];s.contact=r[n],o.push(s)}return o},T.prototype.getContactByPreference=function(t,e,i,o){var r=[],n=this.contactdetails.filter(function(i){return"P"==t?i.type.toLowerCase()==t.toLowerCase()&&0==i.invalid:i.type.toLowerCase()==t.toLowerCase()&&i.contactmethodtype.toLowerCase()==e.toLowerCase()&&0==i.invalid});if(n&&n.length>0)for(var a in n.sort(function(t){return"Main"===t.contactmethodsubtype?0:"Home"===t.contactmethodsubtype?1:"Work"===t.contactmethodsubtype?2:3}),n)for(var s in n[a].contactpreferences.collection)!0!==n[a].contactpreferences.collection[s].donotuse&&n[a].contactpreferences.collection[s].rolereason.role.name==i&&n[a].contactpreferences.collection[s].rolereason.reason.name==o&&r.push(n[a]);return r},T.prototype.toArray=function(){var t={title:this.title,firstname:this.firstname,surname:this.surname,salutation:this.salutation,languagecode:this.language.code,abroad:this.abroad,enquirer:this.enquirer,enquirydate:this.enquirydate,otheragent:this.otheragent,tabsusername:this.tabsusername,companyname:this.companyname,companynumber:this.companynumber,name:this.officename,inactive:this.inactive,tabscode:this.tabscode,actorcode:this.actorcode,accountingreference:this.accountingreference};return this.location&&(t.location=this.location),this.ownerdate&&(t.ownerdate=this.ownerdate),this.ownerenquiryinactivereason&&(t.ownerenquiryinactivereasonid=this.ownerenquiryinactivereason.id),this.ownerenquiryinactivedatetime&&(t.ownerenquiryinactivedatetime=this.ownerenquiryinactivedatetime),this.hasOwnProperty("affiliate")&&(t.affiliateid="undefined"!==typeof this.affiliate.id&&this.affiliate.id?this.affiliate.id:"null"),this.createdbyactor&&(t.createdbyactorid=this.createdbyactor.id),this.defaultbranding&&(t.defaultbrandingid=this.defaultbranding.id),this.password&&this.password.length>0&&(t.password=this.password),this.paymentbankaccount&&(t.paymentbankaccountid=this.paymentbankaccount.id),this.creditorpaymentmethod&&(t.creditorpaymentmethodid=this.creditorpaymentmethod.id),this.source&&(t.sourceid=this.source.id),this.assessgrade&&(t.assessmentgradeid=this.assessgrade.id),this.branding&&(t.brandingid=this.branding.id),this.hasOwnProperty("addaccidentaldamagedeposit")&&(t.addaccidentaldamagedeposit=this.addaccidentaldamagedeposit||!1),this.hasOwnProperty("accidentaldamagedepositnotetext")&&(t.accidentaldamagedepositnotetext=this.accidentaldamagedepositnotetext),this.hasOwnProperty("processbookingnotetext")&&(t.processbookingnotetext=this.processbookingnotetext),this.hasOwnProperty("sageaccountname")&&(t.sageaccountname=this.sageaccountname),this.hasOwnProperty("agencyemployed")&&(t.agencyemployed=this.agencyemployed),this.hasOwnProperty("donotpay")&&(t.donotpay=this.donotpay),this.hasOwnProperty("updateworkorders")&&(t.updateworkorders=this.updateworkorders),t},T.prototype.resetPassword=function(){return this.updatePromiseResult(this.getUpdatePath()+"/resetpassword",{})},T.prototype.printArrivalsReport=function(t,e){e.bookingbrand&&(e.bookingbrandid=e.bookingbrand.id,delete e.bookingbrand);var i=o.post({path:[this.path,this.id,"arrivalsreport"].join("/"),entity:e});return new Promise(function(e,n){i.then(function(i){if(201===i.status.code){var a=t.replacePath(i.headers["Content-Location"]);o.get({path:a}).then(function(i){e(t.mutateResponse(i.entity))},function(t){n(new r(t))},n)}else n(new r(i))},n)})},T.prototype.emailArrivalsReport=function(t){return t.bookingbrand&&(t.bookingbrandid=t.bookingbrand.id,delete t.bookingbrand),o.put({path:[this.path,this.id,"arrivalsreport"].join("/"),entity:t})},T.prototype.emailReport=function(t){return o.put({path:[this.path,this.id,"sendreport"].join("/"),entity:{reportrunid:t.id}})},T.prototype.emailDocument=function(t){return o.put({path:[this.path,this.id,"senddocument"].join("/"),entity:{documentbaseid:t.id}})},t.exports=T},,,function(t,e,i){t.exports.client=i(29),t.exports.common={},t.exports.common.Encoding=i(216),t.exports.common.Feature=i(437),t.exports.common.ApprovalType=i(217),t.exports.common.AvailableDay=i(218),t.exports.common.Unit=i(219),t.exports.common.Title=i(438),t.exports.common.SymfonyRoute=i(439),t.exports.common.Address=i(93),t.exports.common.Attribute=i(141),t.exports.common.AttributeGroup=i(221),t.exports.common.Category=i(224),t.exports.common.ActorCategory=i(225),t.exports.common.AssessmentGrade=i(441),t.exports.common.AttributeOption=i(222),t.exports.common.Contact=i(442),t.exports.common.DateToUse=i(491),t.exports.common.Agency=i(75),t.exports.common.AgencyBookingType=i(453),t.exports.common.AgencyCollection=i(454),t.exports.common.Country=i(220),t.exports.common.ExchangeRate=i(121),t.exports.common.Language=i(144),t.exports.common.Postcode=i(537),t.exports.common.CancellationAction=i(472),t.exports.common.CancellationReason=i(473),t.exports.common.CancellationReasonGroup=i(307),t.exports.common.ContactEntity=i(319),t.exports.common.ContactDocument=i(318),t.exports.common.ContactType=i(485),t.exports.common.ContactMethodType=i(227),t.exports.common.ContactMethodSubtype=i(481),t.exports.common.ContactReason=i(320),t.exports.common.ContactSend=i(484),t.exports.common.CostItemCode=i(100),t.exports.common.CreditorPaymentMethod=i(488),t.exports.common.Document=i(46),t.exports.common.DocumentTag=i(494),t.exports.common.DocumentBaseTag=i(146),t.exports.common.Image=i(155),t.exports.common.File=i(111),t.exports.common.Mimetype=i(145),t.exports.common.SecurityFeature=i(251),t.exports.common.PotentialBookingType=i(538),t.exports.common.Source=i(323),t.exports.common.Status=i(153),t.exports.common.Setting=i(569),t.exports.common.SettingType=i(570),t.exports.common.SettingEntity=i(380),t.exports.common.SettingValue=i(381),t.exports.common.SettingValueType=i(572),t.exports.common.SettingValueOption=i(571),t.exports.common.SourceCategory=i(324),t.exports.common.EventType=i(502),t.exports.common.EventLog=i(501),t.exports.common.OwnerEnquiryActionType=i(346),t.exports.common.OwnerBookingType=i(523),t.exports.common.OwnerPayment=i(528),t.exports.common.OwnerPaymentSelection=i(529),t.exports.common.OwnerPaymentSelectionBookingBrand=i(347),t.exports.common.OwnerPaymentSelectionProperty=i(348),t.exports.common.OwnerPaymentTerm=i(349),t.exports.common.OwnerPaymentTermExtra=i(350),t.exports.common.OwnerPaymentType=i(530),t.exports.common.OwnerCharge=i(180),t.exports.common.OwnerChargeAmountType=i(103),t.exports.common.OwnerChargeCode=i(47),t.exports.common.OwnerChargeImport=i(524),t.exports.common.OwnerStatement=i(531),t.exports.common.PaymentItem=i(532),t.exports.common.SagePayPayment=i(174),t.exports.common.PersonalisedBrochure=i(533),t.exports.common.OwnerEnquiryInactiveReason=i(527),t.exports.common.OwnerDocument=i(525),t.exports.common.Account=i(76),t.exports.common.AccountingDateDefinition=i(277),t.exports.common.AccountingPeriod=i(278),t.exports.common.AccountValueType=i(276),t.exports.common.BrandSource=i(305),t.exports.common.DoubleEntryDefinition=i(328),t.exports.common.Entry=i(495),t.exports.common.EntryDefinition=i(496),t.exports.common.EntryDefinitionCostItemCode=i(497),t.exports.common.EntryDefinitionExtraBranding=i(498),t.exports.common.EntryDefinitionOwnerChargeCode=i(499),t.exports.common.EntryDefinitionPaymentMethod=i(500),t.exports.common.TabsEvent=i(583),t.exports.common.TabsEventTransactionDefinition=i(584),t.exports.common.Transaction=i(329),t.exports.common.TransactionDefinition=i(175),t.exports.common.TransactionSource=i(330),t.exports.common.Actor=i(32),t.exports.common.ActorInstance=i(281),t.exports.common.Actors=i(451),t.exports.common.ActorContactDetailAddress=i(165),t.exports.common.ActorContactDetailOther=i(118),t.exports.common.ActorContactDetailPhone=i(280),t.exports.common.ActorContactDetailPermission=i(279),t.exports.common.ContactPreference=i(117),t.exports.common.ActorManagedActivity=i(283),t.exports.common.ActorLocation=i(448),t.exports.common.ActorNote=i(258),t.exports.common.ActorDevice=i(446),t.exports.common.ActorDocument=i(447),t.exports.common.BankAccount=i(290),t.exports.common.FlagType=i(334),t.exports.common.Flag=i(333),t.exports.common.PotentialDuplicate=i(257),t.exports.common.ActorVatRegistrationPeriod=i(450),t.exports.common.Voucher=i(300),t.exports.common.VoucherRestriction=i(303),t.exports.common.VoucherHolidayPeriod=i(302),t.exports.common.VoucherBookingPeriod=i(301),t.exports.common.VoucherSource=i(304),t.exports.common.BookingVoucher=i(299),t.exports.common.Customer=i(99),t.exports.common.CustomerDocument=i(256),t.exports.common.CustomerMarketingBrand=i(490),t.exports.common.CustomerSource=i(322),t.exports.common.CustomerEmailList=i(321),t.exports.common.TabsUser=i(95),t.exports.common.TabsUserGroup=i(585),t.exports.common.TabsUserGroupMember=i(586),t.exports.common.Owner=i(69),t.exports.common.OwnerEnquiryAction=i(526),t.exports.common.Office=i(282),t.exports.common.Supplier=i(98),t.exports.common.SupplierDayPlan=i(578),t.exports.common.SupplierHoliday=i(274),t.exports.common.SupplierServiceCharge=i(158),t.exports.common.SupplierServiceEvent=i(247),t.exports.common.SupplierInvoice=i(580),t.exports.common.SupplierInvoiceItem=i(102),t.exports.common.SupplierInvoiceItemPayment=i(345),t.exports.common.SupplierPayment=i(581),t.exports.common.SupplierWorkingDay=i(275),t.exports.common.SupplierWorkType=i(582),t.exports.common.SupplierDocument=i(579),t.exports.common.Affiliate=i(452),t.exports.common.AffiliateApiKey=i(287),t.exports.common.AffiliateBlockPeriod=i(288),t.exports.common.AffiliatePropertyBlockPeriod=i(289),t.exports.common.Properties=i(545),t.exports.common.Property=i(82),t.exports.common.PropertyAttribute=i(548),t.exports.common.PropertyAvailability=i(549),t.exports.common.PropertyBranding=i(112),t.exports.common.PropertyBrandingPricing=i(552),t.exports.common.PropertyBrandingPricingYear=i(553),t.exports.common.PropertyBrandingSpecialoffer=i(554),t.exports.common.PropertyBrandingStatus=i(555),t.exports.common.PropertyBrandingYearPriceband=i(150),t.exports.common.PropertyComment=i(556),t.exports.common.PropertyOwner=i(242),t.exports.common.PropertyNote=i(183),t.exports.common.PropertyNoteConfirmation=i(561),t.exports.common.PropertyDescription=i(557),t.exports.common.PropertySecurityDeposit=i(563),t.exports.common.PropertySupplier=i(243),t.exports.common.PropertySupplierDateRange=i(244),t.exports.common.PropertySupplierService=i(245),t.exports.common.PropertyOffice=i(249),t.exports.common.DescriptionType=i(327),t.exports.common.PropertySecurityFeature=i(250),t.exports.common.PropertyDocument=i(154),t.exports.common.PropertyRoom=i(159),t.exports.common.PropertyRoomType=i(160),t.exports.common.PropertyTabsUser=i(255),t.exports.common.PropertyTarget=i(254),t.exports.common.PartySizePricing=i(113),t.exports.common.PartySizePrice=i(234),t.exports.common.PartySizePriceType=i(235),t.exports.common.PricingImportExport=i(541),t.exports.common.RoomType=i(116),t.exports.common.BedTypeRoomType=i(252),t.exports.common.BedType=i(253),t.exports.common.Grouping=i(176),t.exports.common.GroupingValue=i(177),t.exports.common.PropertyGroupingValue=i(360),t.exports.common.PropertyBrochure=i(184),t.exports.common.PropertyMarketingBrand=i(560),t.exports.common.PropertyBookingBrand=i(550),t.exports.common.PropertyOwnerPaymentTerm=i(363),t.exports.common.PropertyCommission=i(359),t.exports.common.Inspection=i(513),t.exports.common.PropertyBookingBrandInstruction=i(551),t.exports.common.InspectionType=i(178),t.exports.common.InstructionType=i(336),t.exports.common.StatusReason=i(357),t.exports.common.PropertyQuestionCategory=i(182),t.exports.common.PropertyQuestion=i(562),t.exports.common.PropertyAnswer=i(547),t.exports.common.PropertyAnswerDocument=i(355),t.exports.common.PropertyTabsUserVisit=i(564),t.exports.common.AnswerOptionGroup=i(456),t.exports.common.AnswerOption=i(455),t.exports.common.PromotePeriod=i(544),t.exports.common.SpecialOfferDiscountExtra=i(573),t.exports.common.SpecialOfferDiscountedExtra=i(574),t.exports.common.PropertyApproval=i(356),t.exports.common.PropertyLink=i(361),t.exports.common.PropertyLinkHolidayPeriod=i(362),t.exports.common.ParkingPermit=i(351),t.exports.common.ParkingPermitHolidayPeriod=i(352),t.exports.common.Keyy=i(519),t.exports.common.KeyTag=i(341),t.exports.common.KeySet=i(340),t.exports.common.KeyUserType=i(338),t.exports.common.KeyCheckReason=i(179),t.exports.common.KeyCheck=i(517),t.exports.common.KeysBookingBrand=i(518),t.exports.common.AmountLimitType=i(169),t.exports.common.PmsChecklist=i(534),t.exports.common.WorkOrder=i(368),t.exports.common.WorkOrderActor=i(376),t.exports.common.WorkOrderAssociation=i(377),t.exports.common.WorkOrderExpense=i(374),t.exports.common.WorkOrderExpenseTemplate=i(598),t.exports.common.WorkOrderOwner=i(600),t.exports.common.WorkOrderOwnerCharge=i(375),t.exports.common.WorkOrderOwnerChargeTemplate=i(396),t.exports.common.WorkOrderPmsChecklist=i(601),t.exports.common.WorkOrderStatusHistory=i(369),t.exports.common.WorkOrderStatusHistorySubStatus=i(185),t.exports.common.WorkOrderSubStatus=i(370),t.exports.common.WorkOrderSubStatusNext=i(371),t.exports.common.WorkOrderSubStatusTemplate=i(372),t.exports.common.WorkOrderSubStatusTemplateAssignee=i(373),t.exports.common.WorkOrderSupplier=i(122),t.exports.common.WorkOrderNote=i(379),t.exports.common.WorkOrderDocument=i(378),t.exports.common.WorkOrderInvoice=i(599),t.exports.common.WorkType=i(186),t.exports.common.BookingProperty=i(293),t.exports.common.BookingCustomer=i(269),t.exports.common.BookingEnquiry=i(461),t.exports.common.BookingEnquiryExtra=i(462),t.exports.common.BookingExtra=i(170),t.exports.common.BookingEvent=i(248),t.exports.common.BookingDocument=i(270),t.exports.common.BookingGuest=i(271),t.exports.common.BookingNote=i(291),t.exports.common.BookingSecurityDeposit=i(272),t.exports.common.BookingSecurityDepositWithhold=i(466),t.exports.common.BookingSecurityDepositHold=i(465),t.exports.common.BookingSupplier=i(164),t.exports.common.BookingService=i(273),t.exports.common.BookingRoom=i(295),t.exports.common.BookingServiceCharge=i(296),t.exports.common.Bookings=i(467),t.exports.common.GuestAgeRange=i(511),t.exports.common.GuestType=i(512),t.exports.common.Booking=i(83),t.exports.common.BookingCancellationAction=i(460),t.exports.common.ServiceContract=i(568),t.exports.common.ServiceContractType=i(246),t.exports.common.BookingReason=i(294),t.exports.common.BookingApproval=i(459),t.exports.common.ComplaintReason=i(316),t.exports.common.ComplaintSource=i(315),t.exports.common.ComplaintStatus=i(480),t.exports.common.Complaint=i(314),t.exports.common.ComplaintAssignment=i(478),t.exports.common.ComplaintBookingExtra=i(479),t.exports.common.ComplaintDiscountExtra=i(317),t.exports.common.BookingBrand=i(84),t.exports.common.MarketingBrand=i(63),t.exports.common.MarketingBrandEmailList=i(142),t.exports.common.BrandingGroup=i(469),t.exports.common.Branding=i(58),t.exports.common.BrandingExtra=i(468),t.exports.common.BrandingLeadTimePeriod=i(470),t.exports.common.SourceMarketingBrand=i(171),t.exports.common.VatRegistrationPeriod=i(596),t.exports.common.Brochure=i(306),t.exports.common.BrochureRequest=i(471),t.exports.common.ManagedActivity=i(156),t.exports.common.ManagedService=i(157),t.exports.common.ManagedActivityService=i(522),t.exports.common.PmsInvoice=i(535),t.exports.common.PmsInvoiceOwnerCharge=i(536),t.exports.common.Note=i(97),t.exports.common.NoteText=i(259),t.exports.common.NoteType=i(161),t.exports.common.NoteActor=i(260),t.exports.common.PropertyNoteCategory=i(358),t.exports.common.ActorPaymentRefund=i(449),t.exports.common.BookingPayment=i(292),t.exports.common.BookingPaymentitem=i(463),t.exports.common.BookingRefund=i(464),t.exports.common.CustomerPayment=i(101),t.exports.common.PaymentMethod=i(120),t.exports.common.PaymentMethodType=i(325),t.exports.common.GlobalSearch=i(509),t.exports.common.ChangeHistory=i(475),t.exports.common.History=i(308),t.exports.common.CopyPricing=i(486),t.exports.common.Currency=i(31),t.exports.common.ExchangeRateIssue=i(503),t.exports.common.ExchangeRateIssueRate=i(332),t.exports.common.ExchangeRateIssueType=i(331),t.exports.common.Extra=i(67),t.exports.common.ExtraBranding=i(152),t.exports.common.ExtraBrandingConfiguration=i(236),t.exports.common.ExtraBrandingConfigurationAffiliateOverride=i(505),t.exports.common.ExtraBrandingPricing=i(237),t.exports.common.ExtraBrandingPricingAmountPriceType=i(506),t.exports.common.ExtraBrandingPricingRangeElement=i(507),t.exports.common.ExtraBrandingPricingRangeElementPriceType=i(508),t.exports.common.ExtraGroup=i(223),t.exports.common.ExtraBookingReason=i(504),t.exports.common.PricingGroup=i(540),t.exports.common.PricingGroupYear=i(181),t.exports.common.PricingGroupYearPriceBand=i(354),t.exports.common.PricingMethod=i(542),t.exports.common.PricingMethodBranding=i(543),t.exports.common.PricingPeriod=i(115),t.exports.common.PriceBand=i(151),t.exports.common.PriceType=i(148),t.exports.common.PriceTypeBranding=i(147),t.exports.common.PriceTypeStartDay=i(539),t.exports.common.SalesChannel=i(149),t.exports.common.UpdatePricing=i(595),t.exports.common.VatBand=i(68),t.exports.common.VatRate=i(353),t.exports.common.SpecialOffer=i(162),t.exports.common.SpecialOfferBookingPeriod=i(267),t.exports.common.SpecialOfferHolidayPeriod=i(266),t.exports.common.Promotion=i(163),t.exports.common.PropertyBrochure=i(184),t.exports.common.SpecialOfferBranding=i(261),t.exports.common.SpecialOfferMarketingBranding=i(262),t.exports.common.SpecialOfferAttribute=i(268),t.exports.common.SpecialOfferPropertyBranding=i(576),t.exports.common.SpecialOfferSalesChannel=i(263),t.exports.common.SpecialOfferWebsiteSection=i(264),t.exports.common.WebsiteSection=i(265),t.exports.common.SpecialOfferLeadTimePeriod=i(575),t.exports.common.SpecialOfferTemplateType=i(577),t.exports.common.Role=i(339),t.exports.common.Reason=i(565),t.exports.common.RoleReason=i(166),t.exports.common.Report=i(364),t.exports.common.ReportRun=i(366),t.exports.common.ReportParameter=i(365),t.exports.common.Bacs=i(458),t.exports.common.CronTask=i(489),t.exports.common.PropertyBrandingPrice=i(232),t.exports.common.PricePeriod=i(241),t.exports.common.PriceOverride=i(233),t.exports.common.ReducedOccupancyPrice=i(94),t.exports.common.ContactMethodElement=i(228),t.exports.common.Template=i(143),t.exports.common.TemplateContactMethod=i(226),t.exports.common.TemplateRoleReason=i(384),t.exports.common.TemplateContactMethodAttachment=i(230),t.exports.common.TemplateContactMethodBranding=i(383),t.exports.common.TemplateContactMethodAttachmentProperty=i(231),t.exports.common.TemplateContactMethodAttachmentBranding=i(382),t.exports.common.TemplateElement=i(229),t.exports.common.TemplateSource=i(588),t.exports.common.TemplateTarget=i(589),t.exports.common.TemplateTargetSource=i(590),t.exports.common.TextItem=i(591),t.exports.common.TriggerEvent=i(594),t.exports.common.LabelTemplate=i(521),t.exports.common.LabelTemplatePaperSize=i(342),t.exports.common.LabelQueue=i(520),t.exports.common.ScheduledEvent=i(566),t.exports.common.ScheduledEventTemplateContactMethod=i(367),t.exports.common.Job=i(514),t.exports.common.JobItem=i(515),t.exports.common.JobItemResponse=i(516),t.exports.common.JobType=i(337),t.exports.common.ContactSchedule=i(482),t.exports.common.ContactSchedulePeriod=i(483),t.exports.common.TemplateContactMethodContactSchedule=i(587),t.exports.common.MultiBrandTemplateBookingBrand=i(343),t.exports.common.MultiBrandTemplateMarketingBrand=i(344),t.exports.common.ChangeDayTemplate=i(239),t.exports.common.ChangeDayTemplateDay=i(474),t.exports.common.ChangeDayTemplateRule=i(240),t.exports.common.PropertyBrandingChangeDayTemplate=i(238),t.exports.common.DepositAmount=i(492),t.exports.common.DepositAmountExtra=i(493),t.exports.common.DepositAmountType=i(326),t.exports.common.Ticket=i(592),t.exports.common.TicketAttachment=i(394),t.exports.common.TicketBrand=i(386),t.exports.common.TicketMessage=i(391),t.exports.common.TicketNote=i(393),t.exports.common.TicketPriority=i(390),t.exports.common.TicketStatus=i(389),t.exports.common.TicketUser=i(385),t.exports.common.TicketTerm=i(388),t.exports.common.TicketTermValue=i(387),t.exports.common.TicketTime=i(395),t.exports.common.TicketHistory=i(392),t.exports.common.ActorSecurity=i(285),t.exports.common.ActorSetting=i(286),t.exports.common.SecurityGroup=i(168),t.exports.common.SecurityGroupRole=i(567),t.exports.common.SecurityRole=i(119),t.exports.StaticCollection=i(40),t.exports.Collection=i(5),t.exports.MultiCollection=i(335),t.exports.GroupingCollection=i(510),t.exports.FilterCollection=i(110),t.exports.NoteFilterCollection=i(96),t.exports.common.ChargingPeriod=i(173),t.exports.common.CostItemCodeOwnerChargeCode=i(487),t.exports.common.Vehicle=i(298),t.exports.common.BookingVehicle=i(297),t.exports.common.AccidentalDamageDeposit=i(445),t.exports.common.Program=i(284),t.exports.common.ActorProgram=i(167),t.exports.common.ZendeskTicket=i(397),t.exports.common.Channel=i(309),t.exports.common.ChannelInformationCategory=i(476),t.exports.common.ChannelPropertyBranding=i(477),t.exports.common.ChannelPropertyBrandingInformationCategory=i(313),t.exports.common.ChannelSetting=i(311),t.exports.common.ChannelSettingType=i(312),t.exports.common.ChannelSettingValue=i(310),t.exports.common.InformationCategory=i(172),t.exports.error={},t.exports.error.statusError=i(81)},,,,function(t,e,i){var o=i(29).getInstance(),r=i(436),n=i(81),a=i(1001),s=i(140),c=i(138);function p(){}p.prototype.mutateResponse=function(t){return o.storeResponse&&(this.jsonResponse=t),this.mutateEntity(t)},p.prototype.mutateEntity=function(t){for(var e in t){var i=e;this.fieldsOverrides&&Object.keys(this.fieldsOverrides).includes(e)&&(i=this.fieldsOverrides[e]),t.hasOwnProperty(e)&&(this.hasOwnProperty(e)&&"object"===typeof this[i]&&null!==this[i]?"string"===typeof t[e]&&0===t[e].indexOf("/v2")?"function"===typeof this[i].factory?this[i]=this[i].factory(t[e]):"function"===typeof this[i].mapRouteIds&&this[i].mapRouteIds(t[e]):"function"===typeof this[i].mutateResponse?this[i].mutateResponse(t[e]):t[e]&&!(t[e]instanceof p)&&t[e].id&&this[i].entity&&this[i].factory?(this[i]=new this[i].entity,this[i].mutateResponse(t[e])):this[i]=t[e]:this[i]=t[e])}return this},p.prototype.okPromiseResult=function(t,e,i){var r=o.get({path:t,params:s.pick(e,s.identity)}),a=this;return new Promise(function(t,e){r.then(function(o){if(200===o.status.code){if(i&&a.cacheKey)try{localStorage[a.cacheKey]=c.compress(JSON.stringify({entity:o.entity,cachedTime:Date.now(),buildDate:localStorage.buildDate}))}catch(r){}t(a.mutateResponse(o.entity))}else e(new n(o))},function(t){e(new n(t))})})},p.prototype.updatePromiseResult=function(t,e){var i=o.put({path:t,entity:e}),r=this;return new Promise(function(t,e){i.then(function(i){204===i.status.code||201===i.status.code?t(r):e(p.prototype.handleError(i))},e)})},p.prototype.createSimplePromiseResult=function(t,e){var i=o.post({path:t,entity:e}),r=this;return new Promise(function(t,e){i.then(function(i){201===i.status.code?t(r):e(p.prototype.handleError(i))},e)})},p.prototype.createPromiseResult=function(t,e){var i=o.post({path:t,entity:e}),r=this;return new Promise(function(t,e){i.then(function(i){if(201===i.status.code)if(i.headers.hasOwnProperty("Content-Location")){var a=r.replacePath(i.headers["Content-Location"]);o.get({path:a}).then(function(e){t(r.mutateResponse(e.entity))},function(t){e(new n(t))},e)}else t(r.mutateResponse(i.entity));else e(new n(i))},e)})},p.prototype.uploadPromiseResult=function(t,e){var i=o.upload({path:t,entity:e}),r=this;return new Promise(function(t,e){i.then(function(i){if(201===i.status.code){var a=r.replacePath(i.headers["Content-Location"]);o.get({path:a}).then(function(e){t(r.mutateResponse(e.entity))},function(t){e(new n(t))},e)}else e(new n(i))},e)})},p.prototype.replacePath=function(t){return t.replace("/app_dev.php","").replace("/app.php","").replace("/index.php","").replace("/v2","").replace("/plato/web","").replace("/plato/public","").replace("/plato","")},p.prototype.deletePromiseResult=function(t){var e=o.delete({path:t});return new Promise(function(t,i){e.then(function(e){204===e.status.code?t(!0):i(new n(e))},i)})},p.prototype.get=function(){if("undefined"===typeof this.path)throw new r("No path specified for entity");if(localStorage[this.path]){var t=c.decompress(localStorage[this.path]);return t?this.cachedOkPromiseResult(t):this.okPromiseResult(this.path,this.params)}return this.okPromiseResult(this.path,this.params)},p.prototype.getFullPath=function(t,e){return e&&(e.page&&(t+="?page="+e.page),e.limit&&(t+="&limit="+e.limit),e.orderBy&&(t+="&orderBy="+e.orderBy)),t},p.prototype.cachedOkPromiseResult=function(t){var e=this;return new Promise(function(i){setTimeout(function(){i(e.mutateResponse(t))})})},p.prototype.mapRouteIds=function(t){var e=t.split("/");return this.id=parseInt(e.pop()),this},p.prototype.handleError=function(t){return new a(t)},p.prototype.getAsUriParameters=function(t){return Object.keys(t).map(function(e){if(s.isArray(t[e])){var i=encodeURIComponent(e+"[]");return t[e].map(function(t){return i+"="+encodeURIComponent(t)}).join("&")}return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},p.prototype.checkRootEntities=function(t){var e=!1;if(localStorage["/"]&&!localStorage.staticRootEntities){var i=JSON.parse(c.decompress(localStorage["/"])),o=[];for(var r in i.entity.static)o.push("/"+r.toLowerCase()+"/");localStorage.staticRootEntities=JSON.stringify(o)}return localStorage.staticRootEntities&&(o=JSON.parse(localStorage.staticRootEntities)).forEach(function(i){t.startsWith(i)&&(e=t.replace(/^\/+/g,"").split("/"))}),e},t.exports=p},function(t,e,i){var o=i(39),r=i(140);function n(t){this.options=t||{},this.collection=[],this.loaded=!1,this.previous=void 0,this.next=void 0}n.prototype=new o,n.prototype.mutateResponse=function(t){var e,i;t.elements?(i=t.elements,this.total=t.total,this.page=t.page,this.limit=t.limit,this.time=t.time,this.previous=t.previous,this.next=t.next):i=t;var o=this.options.parents||[];return this.collection=i.map(function(t,i){for(var o=[null],r=0;r<t.length;r++)o.push(t[r].id);if(this.options.discriminator&&"function"===typeof this.options.discriminator)e=this.options.discriminator(i);else if(this.options.discriminator&&i.hasOwnProperty(this.options.discriminator)){var n=i[this.options.discriminator];this.options.discriminatorMap.hasOwnProperty(n)&&(e=this.options.discriminatorMap[n])}else e=this.options.object;if(!e)return null;var a=new(Function.prototype.bind.apply(e,o));return"object"!==typeof this.options.parent&&this.options.ignoreparent||("function"===typeof a.setParent?a.setParent(this.options.parent):a.parent=this.options.parent),"string"===typeof i?a.mapRouteIds(i):a.mutateResponse(i)}.bind(this,o)),"function"===typeof this.postResponse&&this.postResponse.bind(this).call(),this.loaded=!0,this},n.prototype.getEntityById=function(t){return this.findOneBy({id:t})},n.prototype.getEntity=function(t){return this.getEntityById(t.id)},n.prototype.forEach=function(t,e){this.collection.forEach(t,e)},n.prototype.map=function(t,e){return this.collection.map(t,e)},n.prototype.filter=function(t,e){return this.collection.filter(t,e)},n.prototype.push=function(t){"object"===typeof this.options.parent&&"function"===typeof t.setParent&&t.setParent(this.options.parent),this.collection.push(t),"function"===typeof this.postResponse&&this.postResponse.bind(this).call()},n.prototype.unshift=function(t){"object"===typeof this.options.parent&&"function"===typeof t.setParent&&t.setParent(this.options.parent),this.collection.unshift(t),"function"===typeof this.postResponse&&this.postResponse.bind(this).call()},n.prototype.first=function(){if(this.collection.length)return this.collection[0]},n.prototype.last=function(){if(this.collection.length)return this.collection[this.collection.length-1]},n.prototype.slice=function(t,e){return this.collection.length?this.collection.slice(t,e):[]},n.prototype.loopAndMatch=function(t,e){return this.loopAndMatchById(t.id,e)},n.prototype.loopAndMatchById=function(t,e){this.forEach(function(i,o){i.id===t&&e.call(this,o)},this),"function"===typeof this.postResponse&&this.postResponse.bind(this).call()},n.prototype.loopAndMatchByComparison=function(t,e){this.forEach(function(i,o){i===t&&e.call(this,o)},this),"function"===typeof this.postResponse&&this.postResponse.bind(this).call()},n.prototype.updateElement=function(t){this.updateElementById(t.id,t)},n.prototype.updateElementById=function(t,e){this.loopAndMatchById(t,function(t){this.collection[t]=e})},n.prototype.updateElementByComparsion=function(t,e){this.loopAndMatchByComparison(t,function(t){this.collection[t]=e})},n.prototype.deleteElement=function(t){this.deleteElementById(t.id)},n.prototype.deleteElementById=function(t){this.loopAndMatchById(t,function(t){this.collection.splice(t,1)})},n.prototype.deleteElementByComparison=function(t){this.loopAndMatchByComparison(t,function(t){this.collection.splice(t,1)})},n.prototype.sort=function(t){return this.collection.sort(t),this},n.prototype.sortBy=function(t,e,i){var o=function(e,o){var r=e[t],n=o[t];return!0===i&&(r=r.toLowerCase(),n=n.toLowerCase()),r===n?0:r>n?1:-1};return"desc"===e?this.sort(function(t,e){return o(e,t)}):this.sort(o)},n.prototype.find=function(t){return this.filter(t)},n.prototype.findOne=function(t){return r.find(this.collection,t)},n.prototype.findBy=function(t){return r.where(this.collection,t)},n.prototype.findOneBy=function(t){return r.findWhere(this.collection,t)},n.prototype.getTotal=function(){return this.total||this.collection.length},n.prototype.index=function(t){return this.collection[t]},n.prototype.getObjectName=function(){if("undefined"!==typeof this.options.object)return this.options.object.toString().split("function ").pop().split("(").shift()},t.exports=n},,,,,,function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(145),a=i(111),s=i(40),c=i(146);function p(t){this.path="document",this.createPath="document",this.id=t,this.file=new a,this.mimetype=new n,this.tags=new s({object:c,parent:this,path:"tag"})}p.prototype=new r,p.prototype.toArray=function(){return{name:this.name,description:this.description,weight:this.weight,private:this.private}},p.prototype.toString=function(){return this.name},p.prototype.toFormData=function(){var t=new FormData;return t.append("data",this.data),t.append("name",this.name),t.append("description",this.description),t},p.prototype.stitch=function(t){return o.get("stitch"+this.path+"?documents="+t.join(","))},t.exports=p},function(t,e,i){var o=i(0),r=i(68),n=i(2);function a(t){this.path="ownerchargecode",this.createPath="ownerchargecode",this.id=t,this.vatband=new r,this.validSchema=function(){return{ownerchargecode:n.string().required().label("ownerchargecode"),description:n.string().required().label("description"),vatband:n.object().required().label("VAT band"),recharge:n.boolean().label("recharge (doesn't apply vat)"),inactive:n.boolean().label("inactive (Doesn't appear on select lists)"),showonallownerpaymentruns:n.boolean().label("Show on all owner payment runs?")}}}a.prototype=new o,a.prototype.toArray=function(){return{ownerchargecode:this.ownerchargecode,description:this.description,vatbandid:this.vatband.id,recharge:this.recharge,inactive:this.inactive,showonallownerpaymentruns:this.showonallownerpaymentruns}},a.prototype.toString=function(){return this.description+" ("+this.ownerchargecode+")"},t.exports=a},,,,,,,,,,,function(t,e,i){var o=i(0),r=i(4),n=i(63),a=i(440),s=i(5);function c(t){this.path="branding",this.createPath="branding",this.id=t,this.brandinggroup=new r({entity:"BrandingGroup"}),this.bookingbrand=new r({entity:"BookingBrand"}),this.marketingbrand=new n,this.lettingincomevatband=new r({entity:"VatBand"}),this.bacsbankaccount=new r({entity:"BankAccount"}),this.petextrabranding=new r({entity:"ExtraBranding"}),this.extras=new s({object:a,path:"extra",parent:this})}c.prototype=new o,c.prototype.toString=function(t){return t||(t=" / "),[this.brandinggroup.name,this.bookingbrand.name,this.marketingbrand.name].join(t)},c.prototype.toArray=function(){var t={brandinggroupid:this.brandinggroup.id,bookingbrandid:this.bookingbrand.id,marketingbrandid:this.marketingbrand.id,lettingincomevatbandid:this.lettingincomevatband.id,bacsoutputtype:this.bacsoutputtype,bacssettings:this.bacssettings,petextrabrandingid:this.petextrabranding.id,allowbookingonwebuntildate:this.allowbookingonwebuntildate,showpricingonwebuntildate:this.showpricingonwebuntildate,lettingbranding:this.lettingbranding||!1,bookingdatesarechangedays:this.bookingdatesarechangedays||!1,inactive:this.inactive||!1};return this.updatepropertybrandings&&(t.updatepropertybrandings=!0),this.bacsbankaccount&&(t.bacsbankaccountid=this.bacsbankaccount.id),t},t.exports=c},,,,,function(t,e,i){var o=i(0),r=i(4),n=i(142),a=i(29).getInstance(),s=i(110),c=i(2);function p(t){this.path="marketingbrand",this.createPath="marketingbrand",this.id=t,this.agency=new r({entity:"Agency"}),this.defaultbookingbrand=new r({entity:"BookingBrand"}),this.validSchema=function(){return{code:c.string().required().min(2).max(4).uppercase().label("Code"),name:c.string().required().label("Name"),email:c.string().empty("").label("Email"),website:c.string().empty("").label("Website"),agency:c.object().required().label("Agency"),defaultbookingbrand:c.object().required().label("Default Booking Brand")}}}p.prototype=new o,p.prototype.toArray=function(){return{marketingbrandcode:this.code,marketingbrand:this.name,website:this.website,email:this.email,agencyid:this.agency.id,defaultbookingbrandid:this.defaultbookingbrand.id}},p.prototype.toString=function(){return[this.name].join(" ")},p.prototype.getEmailtemplate=function(t,e){return e?a.get(this.getUpdatePath()+"/emailtemplate/"+e.id+"?orderBy="+t.orderBy+t.getFilterString()):a.get(this.getUpdatePath()+"/emailtemplate?orderBy="+t.orderBy+t.getFilterString())},p.prototype.getEmailLists=function(){return new s({path:"emaillist",object:n,parent:this}).fetch()},t.exports=p},,,,function(t,e,i){var o=i(0),r=i(2),n=i(40),a=i(58),s=i(223);function c(t){this.path="extra",this.createPath="extra",this.id=t,this.extragroup=new s,this.brandings=new n({object:a}),this.validSchema=function(){return{extracode:r.string().required().label("extra code"),extratype:r.string().required().allow(["Booking","Marketing"]).label("extra type"),description:r.string().required().label("description"),extragroup:r.object().label("extra group"),petextra:r.boolean().required().label("is a pet extra"),priceasattransferdate:r.boolean().required().label("Price at transfer date?").description('When a booking is transferred, the "booking booked date" used to determine the relevant configuration and pricing for the new extra can be set to either the booked date of the original booking, or the date of the transfer.')}}}c.prototype=new o,c.prototype.toArray=function(){return{extracode:this.extracode,extratype:this.extratype,description:this.description,extragroupid:this.extragroup.id,petextra:this.petextra,priceasattransferdate:this.priceasattransferdate}},c.prototype.toString=function(){return this.extracode+" - "+this.description},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="vatband",this.createPath="vatband",this.id=t,this.validSchema=function(){return{vatband:r.string().required().label("VAT Band")}}}n.prototype=new o,n.prototype.toArray=function(){return{vatband:this.vatband}},t.exports=n},function(t,e,i){var o=i(32);function r(){this.path="owner",this.createPath="owner",o.apply(this,arguments)}r.prototype=new o,t.exports=r},,,,,function(t,e,i){var o=i(0),r=i(46),n=i(155);function a(t){this.path="document",this.createPath="document",this.document=new r,this.image=new n,this.id=t}a.prototype=new o,a.prototype.toCreateArray=function(){return{documentid:this.document.id}},t.exports=a},function(t,e,i){var o=i(32);function r(){this.path="agency",this.createPath="agency",o.apply(this,arguments)}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="account",this.createPath="account",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{nominalcode:this.nominalcode,description:this.description,usebranding:this.usebranding,usesagecostcentremanagedservices:this.usesagecostcentremanagedservices}},n.prototype.toString=function(){return[this.nominalcode,this.description].join(" ")},n.prototype.validSchema=function(){return r.object().keys({nominalcode:r.string().optional().label("nominal code"),description:r.string().required().label("description"),usebranding:r.boolean().required().label("use branding"),usesagecostcentremanagedservices:r.boolean().required().label("use sage cost centre managed services")})},t.exports=n},,,,,function(t,e){function i(t){if(this.name="statusError",this.message=t.status.text,this.statusCode=t.status.code,"object"===typeof t.entity&&t.entity.hasOwnProperty("errorDescription"))try{var e=JSON.parse(t.entity.errorDescription);e&&(Array.isArray(e)&&(e=e[0]),e.description?this.message=e.description:e.message&&(this.message=e.message))}catch(i){this.message=t.entity.errorDescription}}i.prototype=Error.prototype,t.exports=i},function(t,e,i){var o=i(0),r=i(5),n=i(112),a=i(154),s=i(242),c=i(243),p=i(249),h=i(250),d=i(159),u=i(254),l=i(255),m=i(546),y=i(363),b=i(359),g=i(183),f=i(96),w=i(558),v=i(356),k=i(361),x=i(178),P=i(457),j=i(351),A=i(2),S=i(114);function q(t){this.path="property",this.createPath="property",this.id=t,this.notes=new f({noteEntity:this,object:g,path:"propertynote"}),this.documents=new r({object:a,path:"document",parent:this}),this.owners=new r({object:s,path:"owner",parent:this}),this.suppliers=new r({object:c,path:"supplier",parent:this}),this.offices=new r({object:p,path:"office",parent:this}),this.securityFeatures=new r({object:h,path:"securityfeature",parent:this}),this.rooms=new r({object:d,path:"room",parent:this}),this.targets=new r({object:u,path:"target",parent:this}),this.tabsuser=new r({object:l,path:"tabsuser",parent:this}),this.brandings=new r({object:n,path:"branding",parent:this}),this.ownerpaymentterms=new r({object:y,path:"ownerpaymentterms",parent:this}),this.commission=new r({object:b,path:"commission",parent:this}),this.availablebreaks=new r({object:P,path:"availablebreak",parent:this}),this.approvals=new r({object:v,path:"approval",parent:this}),this.links=new r({object:k,path:"link",parent:this}),this.parkingpermits=new r({object:j,path:"parkingpermit",parent:this}),this.ratinginspectiontype=new x,this.address=new m(t),this.housekeeping=new w,this.primarypropertybranding=new n}q.prototype=new o,q.prototype.toArray=function(){var t={id:this.id,name:this.name,namequalifier:this.namequalifier,bedrooms:this.bedrooms,sleeps:this.sleeps,maximumpets:this.maximumpets,accomodationdescription:this.accomodationdescription,tabspropref:this.tabspropref,virtualproperty:this.virtualproperty||!1,status:this.status?this.status.name:null,telephonenumber:this.telephonenumber,address_line1:this.address.line1,address_line2:this.address.line2,address_line3:this.address.line3,address_town:this.address.town,address_county:this.address.county,address_postcode:this.address.postcode,address_countryalpha2code:this.address.country.alpha2,address_latitude:this.address.latitude,address_longitude:this.address.longitude,noinfants:this.noinfants,nochildren:this.nochildren};return this.checkintext&&(t.checkintext=this.checkintext),this.checkouttext&&(t.checkouttext=this.checkouttext),this.adddefaultattributes&&(t.adddefaultattributes=this.adddefaultattributes),this.ratinginspectiontype&&this.ratinginspectiontype.id&&(t.ratinginspectiontypeid=this.ratinginspectiontype.id),"undefined"!==typeof this.bookingdatesarechangedays&&(t.bookingdatesarechangedays=this.bookingdatesarechangedays),"undefined"!==typeof this.usemanagedservicesbookingbrand&&(t.usemanagedservicesbookingbrand=this.usemanagedservicesbookingbrand),t},q.prototype.getSchema=function(){return{tabspropref:A.string().label("Property reference").max(6),name:A.string().label("Property name").min(1).max(40),namequalifier:A.string().allow("").label("Name qualifier").max(60),bedrooms:A.number(),sleeps:A.number(),maximumpets:A.number().label("Maximum pets"),telephonenumber:A.string().allow("").label("Telephone number"),address:this.address.validSchema(),adddefaultattributes:A.boolean().optional().label("Add default attributes")}},q.prototype.validSchema=function(){return A.object().keys(this.getSchema())},q.prototype.getAvailablebreaks=function(t,e,i){var o=this.availablebreaks,r={};return t&&(r.fromdate=t),e&&(r.todate=e),i&&(r.nights=i),o.toArray=function(){return r},o.fetch()},q.prototype.updateAvailablebreaks=function(){return this.updatePromiseResult([this.path,this.id,"availablebreaks"].join("/"),{force:!0})},q.prototype.getAvailableBreaksPrice=function(t,e,i,o){var r=function(t){var e=t.price;return i&&(e+=t.compulsoryextras),o?Math.round(e):e},n=this.availablebreaks.filter(function(e){return S(t).isSame(e.fromdate)});if(n.length>0){var a=n.filter(function(t){return t.days===e});if(e<=7&&1===a.length)return r(a.pop());if(e>7){var s=function(t,e,i,o){o=o||7;var n=e.filter(function(t){return t.days==o&&S(t.fromdate).isSame(i)});1===n.length?t.push(r(n.shift())):t.push(-1)},c=[],p=e%7,h=(e-p)/7;e<14?p=e:p>0&&(p+=7);for(var d=S(t).add(7*u,"d"),u=0;u<h;u++)d=S(t).add(7*u,"d"),s(c,this.availablebreaks,d,7);if(d&&p>0&&s(c,this.availablebreaks,d,p),c.indexOf(-1)<0){var l=0;return c.forEach(function(t){l+=t}),l}return 0}return 0}},q.prototype.toString=function(){return this.name},t.exports=q},function(t,e,i){var o=i(0),r=i(4),n=i(5),a=i(40),s=i(31),c=i(162),p=i(269),h=i(270),d=i(271),u=i(272),l=i(273),m=i(164),y=i(291),b=i(96),g=i(597),f=i(170),w=i(293),v=i(163),k=i(314),x=i(299),P=i(297),j=i(295);function A(t){this.path="booking",this.createPath="booking",this.id=t,this.branding=new r({entity:"Branding"}),this.pricedusingbranding=new r({entity:"Branding"}),this.property=new w,this.securitydeposit=new u,this.securitydeposit.parent=this,this.notes=new b({noteEntity:this,object:y,path:"bookingnote"}),this.price=new o,this.price.specialoffers=new n({object:c}),this.currency=new s,this.documents=new n({object:h,path:"document",parent:this}),this.guests=new n({object:d,path:"guest",parent:this}),this.customers=new n({object:p,path:"customer",parent:this}),this.bookingservices=new n({object:l,path:"service",parent:this}),this.suppliers=new a({object:m}),this.extras=new n({path:"extra",object:f,parent:this}),this.promotions=new n({path:"promotion",object:v,parent:this}),this.complaints=new n({object:k,path:"complaint"}),this.vouchers=new n({object:x,path:"voucher",parent:this}),this.vehicles=new n({object:P,path:"vehicle",parent:this}),this.rooms=new n({object:j,path:"room",parent:this}),this.webbooking=new g}A.prototype=new o,A.prototype.mutateResponse=function(t){if(t&&t.owners){var e=i(69);this.owners=new a({object:e}),this.owners.mutateResponse(t.owners)}if(t&&t.autobalanceactorpayment&&t.autobalanceactorpayment.id){var o=i(101);this.autobalanceactorpayment=new o,this.autobalanceactorpayment.mutateEntity(t.autobalanceactorpayment)}else t&&t.autobalanceactorpayment&&delete t.autobalanceactorpayment;return t&&t.sagepaypayments&&(this.sagepaypayments=new a({object:i(174)}),this.sagepaypayments.mutateResponse(t.sagepaypayments)),t&&t.customerpayments&&(this.customerpayments=new a({object:i(101)}),this.customerpayments.mutateResponse(t.customerpayments)),this.mutateEntity(t)},A.prototype.toArray=function(){var t={bookref:this.bookref,guesttype:this.guesttype,fromdate:this.fromdate,todate:this.todate,bookeddatetime:this.bookeddatetime,adults:this.adults,children:this.children,infants:this.infants,pets:this.pets,sourceid:this.sourceid,checkintext:this.checkintext,checkouttext:this.checkouttext,promotioncode:this.promotioncode,overridestatus:this.overridestatus,bypasspetchecks:this.bypasspetchecks,ignorechangedayrules:this.ignorechangedayrules,donotrecalculateprice:this.donotrecalculateprice,parkingpermitsrequired:this.parkingpermitsrequired,webbooking_createddatetime:this.webbooking.createddatetime,webbooking_reviewstartdatetime:this.webbooking.reviewstartdatetime,webbooking_processeddatetime:this.webbooking.processeddatetime,webbooking_reviewingtabsuserid:this.webbooking.reviewer.id,potentialbooking_type:this.potentialbooking_type,potentialbooking_expirydatetime:this.potentialbooking_expirydatetime,potentialbooking_expired:this.potentialbooking_expired,provisionalbooking_depositamountid:this.provisionalbooking_depositamountid,provisionalbooking_deposit:this.provisionalbooking_deposit,provisionalbooking_depositduedate:this.provisionalbooking_depositduedate,provisionalbooking_balanceduedate:this.provisionalbooking_balanceduedate,provisionalbooking_commissionpercentage:this.provisionalbooking_commissionpercentage,provisionalbooking_ownerpaymenttermsid:this.provisionalbooking_ownerpaymenttermsid,provisionalbooking_tabsuserid:this.provisionalbooking_tabsuserid,provisionalbooking_accepteddatetime:this.provisionalbooking_accepteddatetime,provisionalbooking_acceptedactorid:this.provisionalbooking_acceptedactorid,cancelledbooking_reason:this.cancelledbooking_reason,cancelledbooking_adviseddate:this.cancelledbooking_adviseddate,cancelledbooking_completeddate:this.cancelledbooking_completeddate,cancelledbooking_completedbytabsuserid:this.cancelledbooking_completedbytabsuserid,cancelledbooking_priorityrebook:this.cancelledbooking_priorityrebook,cancelledbooking_fullrefund:this.cancelledbooking_fullrefund,cancelledbooking_covered:this.cancelledbooking_covered,cancelledbooking_coveredtbd:this.cancelledbooking_coveredtbd,cancelledbooking_uncancelled:this.cancelledbooking_uncancelled,securitydeposit_amount:this.securitydeposit_amount,securitydeposit_dueindate:this.securitydeposit_dueindate,securitydeposit_dueoutdate:this.securitydeposit_dueoutdate,bypasschecks:this.bypasschecks,removepromotioncode:this.removepromotioncode,donotaddtransferextras:this.donotaddtransferextras};return this.donotautocontact?t.donotautocontact=this.donotautocontact:!1===this.donotautocontact&&(t.donotautocontact=!1),this.provisionalbooking_interimcustomerpayments?t.provisionalbooking_interimcustomerpayments=this.provisionalbooking_interimcustomerpayments:!1===this.provisionalbooking_interimcustomerpayments&&(t.provisionalbooking_interimcustomerpayments=!1),this.provisionalbooking_interimcustomerpaymentleaddays&&(t.provisionalbooking_interimcustomerpaymentleaddays=this.provisionalbooking_interimcustomerpaymentleaddays),this.provisionalbooking_interimcustomerpaymentsfrequency&&(t.provisionalbooking_interimcustomerpaymentsfrequency=this.provisionalbooking_interimcustomerpaymentsfrequency),this.confirmedbooking_tabsuserid&&(t.confirmedbooking_tabsuserid=this.confirmedbooking_tabsuserid),this.allowoveroccupancy&&(t.allowoveroccupancy=this.allowoveroccupancy),this.cancelledbooking_templateoffer&&this.cancelledbooking_templateoffer.id&&(t.cancelledbooking_templateofferid=this.cancelledbooking_templateoffer.id),this.brochureprice&&"true"==this.brochureprice&&(t.brochureprice="true"),this.dontpayowneruntildate&&(t.dontpayowneruntildate=this.dontpayowneruntildate),this.autobalanceactorpayment?t.autobalanceactorpaymentid=!(!this.autobalanceactorpayment||!this.autobalanceactorpayment.id)&&this.autobalanceactorpayment.id:!1===this.autobalanceactorpayment&&(t.autobalanceactorpaymentid=!1),this.potentialcancellation_potentialtransfer?t.potentialcancellation_potentialtransfer=this.potentialcancellation_potentialtransfer:!1===this.potentialcancellation_potentialtransfer&&(t.potentialcancellation_potentialtransfer=!1),this.potentialcancellation_noaction?t.potentialcancellation_noaction=this.potentialcancellation_noaction:!1===this.potentialcancellation_noaction&&(t.potentialcancellation_noaction=!1),this.potentialcancellation_addtocustomeraccountbalance?t.potentialcancellation_addtocustomeraccountbalance=this.potentialcancellation_addtocustomeraccountbalance:!1===this.potentialcancellation_addtocustomeraccountbalance&&(t.potentialcancellation_addtocustomeraccountbalance=!1),this.potentialcancellation_cancellationrequested?t.potentialcancellation_cancellationrequested=this.potentialcancellation_cancellationrequested:!1===this.potentialcancellation_cancellationrequested&&(t.potentialcancellation_cancellationrequested=!1),this.potentialcancellation_cpsclaim?t.potentialcancellation_cpsclaim=this.potentialcancellation_cpsclaim:!1===this.potentialcancellation_cpsclaim&&(t.potentialcancellation_cpsclaim=!1),this.potentialcancellation_createdbyactorid&&(t.potentialcancellation_createdbyactorid=this.potentialcancellation_createdbyactorid),this.potentialcancellation_createddatetime&&(t.potentialcancellation_createddatetime=this.potentialcancellation_createddatetime),this.potentialcancellation_requestedfromdate&&(t.potentialcancellation_requestedfromdate=this.potentialcancellation_requestedfromdate),this.potentialcancellation_requestedtodate&&(t.potentialcancellation_requestedtodate=this.potentialcancellation_requestedtodate),this.potentialcancellation_assignedtoactorid&&(t.potentialcancellation_assignedtoactorid=this.potentialcancellation_assignedtoactorid),this.transferredtobooking&&"object"==typeof this.transferredtobooking&&this.transferredtobooking.tobooking&&(t.transferredbooking_tobookingid=this.transferredtobooking.tobooking.id,t.transferredbooking_tabsuserid=this.transferredtobooking.tabsuser.id||this.tabsuser.id),this.transferredfrombooking&&"object"==typeof this.transferredfrombooking&&this.transferredfrombooking.frombooking&&(t.transferredbooking_frombookingid=this.transferredfrombooking.frombooking.id,t.transferredbooking_tabsuserid=this.transferredfrombooking.tabsuser.id||this.tabsuser.id),"Customer"===this.guesttype?(t.propertybrandingid=this.propertybrandingid,t.currencycode=this.currencycode,t.saleschannel=this.saleschannel.saleschannel?this.saleschannel.saleschannel:this.saleschannel,t.pricingperiod=this.pricingperiod.pricingperiod?this.pricingperiod.pricingperiod:this.pricingperiod,t.sourcemarketingbrandid=this.sourcemarketingbrandid,t.estimatedarrivaltime=this.estimatedarrivaltime):(t.propertyid=this.propertyid,"Owner"!==this.guesttype?t.agencybookingtypeid=this.agencybookingtypeid:t.ownerbookingtypeid=this.ownerbookingtypeid),this.propertysecuritydeposit&&(t.securitydeposit_propertysecuritydepositid=this.propertysecuritydeposit.id),this.customerid&&(t.customerid=this.customerid),t},A.prototype.getStatus=function(){var t={};switch(this.guesttype.toLowerCase()){case"owner":t.bookingCustomer="Owner",t.bookingType="Owner Booking",this.cancelled&&(t.bookingType+=" - Cancelled"),t.showAs="owner",this.ownerbookingtype&&this.ownerbookingtype.name&&"buffer"===this.ownerbookingtype.name.substring(0,6).toLowerCase()&&(t.showAs="bookingbuffer");break;case"customer":t.bookingCustomer=this.customers.collection.length?this.customers.collection[0].name:"None",t.bookingType=this.status;var e=["Invalid","Transferred","Potential","Provisional","Confirmed"];for(var i in e)if(-1!==this.status.indexOf(e[i])){t.showAs=e[i].toLowerCase();break}break;default:t.bookingCustomer="None",t.bookingType="Unavailable",this.cancelled&&(t.bookingType+=" - Cancelled"),t.showAs="unavailable","undefined"!==typeof this.agencybookingtype&&"undefined"!==typeof this.agencybookingtype.name&&"non-let property booking"===this.agencybookingtype.name&&(t.showAs="unavailablenonlet")}return(this.cancelled||"Provisional - Transferred"==this.status||"Confirmed - Transferred"==this.status)&&(this.cancelled&&this.cancelledbooking.priorityrebook?t.showAs="cancelledpriority":"Confirmed - Cancelled"==this.status||"Confirmed - Fully Paid Cancelled"==this.status||"Confirmed Fully Paid - Cancelled"==this.status?t.showAs="cancelledconfirmed":t.showAs="cancelled"),"Provisional Accepted"===this.status&&(t.showAs="provisionalaccepted"),t},A.prototype.getPartySizeString=function(){return[["adults","adult"],["children","child"],["infants","infant"],["pets","pet"]].filter(function(t){return this[t[0]]},this).map(function(t){var e=this[t[0]];return e+" "+(1==e?t[1]:t[0])},this).join(", ")},A.prototype.toString=function(){return this.bookref&&this.bookref!==this.id+""+this.property.id?this.id+" ("+this.bookref+")":this.id},A.prototype.isFullyPaid=function(){var t=this.securitydeposit;return 0==this.paymentsummary.booking.outstanding&&(!t.id||t.amount-t.balance==0)},t.exports=A},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.path="bookingbrand",this.createPath="bookingbrand",this.id=t,this.agency=new r({entity:"Agency"}),this.validSchema=function(){return{code:n.string().required().min(2).max(4).uppercase().label("Code"),name:n.string().min(1).required().label("Name"),agency:n.object().required().label("Agency")}}}a.prototype=new o,a.prototype.toArray=function(){return{bookingbrandcode:this.code,bookingbrand:this.name,agencyid:this.agency.id}},a.prototype.toString=function(){return this.name},t.exports=a},,,,,,,,,function(t,e,i){var o=i(0),r=i(2),n=i(220);function a(){var t=new n;t.alpha2="GB",t.alpha3="GBR",t.name="United Kingdom",this.country=t}a.prototype=new o,a.prototype.toArray=function(){return{line1:this.line1,line2:this.line2,line3:this.line3,town:this.town,county:this.county,postcode:this.postcode,countryalpha2code:this.country.alpha2,longitude:this.longitude,latitude:this.latitude}},a.prototype.toString=function(t){return[this.line1,this.line2,this.line3,this.town,this.county,this.postcode].filter(function(t){return""!==t}).join(t||", ")},a.prototype.validSchema=function(){return r.object().keys({line1:r.string().min(2).label("Line 1"),line2:r.string().empty("").min(3).label("Line 2"),line3:r.string().empty("").min(3).label("Line 3"),town:r.string().min(3).label("Town"),county:r.string().empty("").min(3).label("County"),postcode:r.string().min(3).label("Postcode"),country:r.object().required(),latitude:r.number().allow(""),longitude:r.number().allow(""),aId:r.number().optional()})},t.exports=a},function(t,e,i){var o=i(0),r=i(113);function n(t){this.path="reducedoccupancyprice",this.createPath=this.path,this.id=t,this.partysizepricing=new r}n.prototype=new o,n.prototype.toArray=function(){return{partysizepricingid:this.partysizepricing.id,partysizepricetype:this.partysizepricetype,price:this.price,useasbase:this.useasbase,copytoallbrands:this.copytoallbrands}},t.exports=n},function(t,e,i){var o=i(32);function r(){this.path="tabsuser",this.createPath="tabsuser",o.apply(this,arguments)}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(110);function r(t){o.apply(this,arguments),this.noteEntity=t.noteEntity,this.getFilterPath=function(){var t=this.noteEntity.getUpdatePath()+"/note?page="+this.page+"&limit="+this.limit+this.getFilterString();return this.orderBy&&(t+="&orderBy="+this.orderBy),t},this.getNotes=function(){var t=[];return this.collection.forEach(function(e){t.push(e.note)}),t}}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(5),n=i(259),a=i(161),s=i(260);function c(t){this.createPath="note",this.path="note",this.id=t,this.notetexts=new r({object:n,path:"text",parent:this}),this.notetype=new a,this.noteactors=new r({object:s,path:"actor",parent:this})}c.prototype=new o,c.prototype.toArray=function(){return{notetype:this.notetype.notetype,subject:this.subject,createdbyactorid:this.createdby.id,completedbyactorid:this.completedby.id,archivedbyactorid:this.archivedby.id,visibletocustomer:this.visibletocustomer,visibletoowner:this.visibletoowner,visibletocleaner:this.visibletocleaner,visibletokeyholder:this.visibletokeyholder,highlight:this.highlight,pin:this.pin,private:this.private}},c.prototype.toCreateArray=function(){var t={notetype:this.notetype.notetype,subject:this.subject,createdbyactorid:this.createdby.id,visibletocustomer:this.visibletocustomer?"true":"false",visibletoowner:this.visibletoowner?"true":"false",visibletocleaner:this.visibletocleaner?"true":"false",visibletokeyholder:this.visibletokeyholder?"true":"false",highlight:this.highlight?"true":"false",pin:this.pin?"true":"false",private:this.private?"true":"false",notetext_createdbyactorid:this.notetext_createdbyactorid,notetext_notetext:this.notetext_notetext,notetext_actionedbyactorid:this.notetext_actionedbyactorid,notetext_actioneddatetime:this.notetext_actioneddatetime,bookingid:this.bookingid};return this.notetext_followupdatetime&&(t.notetext_followupdatetime=this.notetext_followupdatetime),this.completedbyactorid&&(t.completedbyactorid=this.completedbyactorid),this.archivedbyactorid&&(t.archivedbyactorid=this.archivedbyactorid),t},t.exports=c},function(t,e,i){var o=i(5),r=i(32),n=i(274),a=i(275);function s(){this.path="supplier",this.createPath="supplier",this.holidays=new o({object:n,parent:this}),this.workingdays=new o({object:a,parent:this}),r.apply(this,arguments)}s.prototype=new r,t.exports=s},function(t,e,i){var o=i(32),r=i(4);function n(){this.path="customer",this.createPath="customer",this.affiliate=new r({entity:"Affiliate"}),o.apply(this,arguments)}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(2),n=i(68);function a(t){this.path="costitemcode",this.createPath="costitemcode",this.id=t,this.vatband=new n}a.prototype=new o,a.prototype.validSchema=function(){return{costitemcode:r.string().required().label("Cost Item Code"),description:r.string().optional().allow("").label("Description"),vatband:r.object().optional().label("Vat Band"),inactive:r.boolean().optional().label("Inactive"),recharge:r.boolean().optional().label("Recharge"),externaldescription:r.string().optional().allow("").label("External Description")}},a.prototype.toArray=function(){return{costitemcode:this.costitemcode,description:this.description,vatbandid:this.vatband.id,inactive:this.inactive,recharge:this.recharge,externaldescription:this.externaldescription}},a.prototype.toString=function(){return this.description+" ("+this.costitemcode+")"},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(31),a=i(120),s=i(174),c=i(40),p=i(2);function h(t){this.path="payment",this.createPath="payment",this.id=t,this.currency=new n,this.method=new a,this.sagepaypayment=new s,this.refundedpayments=new c({object:h}),this.refundingpayments=new c({object:h}),this.madeby=new r({entity:"TabsUser"})}h.prototype=new o,h.prototype.toCreateArray=function(){var t={paymentdatetime:this.paymentdatetime,reference:this.reference,paymentmethodid:this.paymentmethodid,amount:this.amount,currencyid:this.currencyid,bookingid:this.bookingid,bookingamount:this.bookingamount,securitydepositamount:this.securitydepositamount,ignoresdrefundeddate:!0};return this.bookingbrand&&this.bookingbrand.id&&(t.bookingbrandid=this.bookingbrand.id),t},h.validSchema=p.object().keys({paymentdatetime:p.string().optional().label("payment date time"),reference:p.string().optional().allow("").label("reference"),paymentmethodid:p.number().required().label("paymentmethodid"),currencyid:p.number().required().label("currency"),bookingid:p.number().optional().label("booking id"),amount:p.number().required().label("amount"),bookingamount:p.number().optional().label("booking amount"),securitydepositamount:p.number().optional().label("security deposit amount"),bookingbrand:p.object().optional().label("booking brand")}),t.exports=h},function(t,e,i){var o=i(0),r=i(4),n=i(121),a=i(95),s=i(345),c=i(5);function p(t){this.path=this.createPath="item",this.id=t,this.exchangerate=new n,this.workorder=new r({entity:"WorkOrder"}),this.updatedbyactorid=new a,this.itempayments=new c({object:s,path:"payment",parent:this})}p.prototype=new o,p.prototype.getSummaryTotal=function(t){var e=0;if(this.itempayments.getTotal()>0)for(var i in this.itempayments.collection)e+=parseFloat(this.itempayments.collection[i][t]);return e},p.prototype.getTotalPaidNet=function(){return this.getSummaryTotal("amountnet")},p.prototype.getTotalPaidVat=function(){return this.getSummaryTotal("amountvat")},p.prototype.getOutstandingNet=function(){return(this.amountnet?parseFloat(this.amountnet):0)-this.getTotalPaidNet()},p.prototype.getOutstandingVat=function(){return(this.amountvat?parseFloat(this.amountvat):0)-this.getTotalPaidVat()},p.prototype.toArray=function(){return{exchangerateid:this.exchangerate.id,amountnet:this.amountnet,amountvat:this.amountvat,description:this.description,workorderinstanceid:this.workorder.id,updatedbyactorid:this.updatedbyactorid.id}},t.exports=p},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="ownerchargeamounttype",this.createPath="ownerchargeamounttype",this.id=t,this.validSchema=function(){return{ownerchargeamounttype:r.string().required().label("ownerchargeamounttype"),description:r.string().required().label("description")}}}n.prototype=new o,n.prototype.toArray=function(){return{ownerchargeamounttype:this.ownerchargeamounttype,description:this.description}},n.prototype.toString=function(){return this.ownerchargeamounttype+" ("+this.description+")"},t.exports=n},function(t,e,i){var o=i(1010),r=i(1011);t.exports={version:o.version,elements:r}},,,,,,function(t,e,i){var o=i(5),r=i(40),n=i(138);function a(t){this.id=t||0;var e={};this.getFilters=function(){return e},this.addFilter=function(t,i){e[t]=i},this.removeFilter=function(t){delete e[t]},this.hasFilter=function(t){return"undefined"!==typeof e[t]},this.getFilterString=function(){var t=[];for(var i in e)t.push(i+"="+e[i]);return t.join(":")}}function s(){var t=0,e=new r;e.push(new a(t)),this.setFilterGroup=function(e){return t=e,this},this.addFilter=function(t,i){return e.first()||this.createGroup(0),e.first().addFilter(t,i),this},this.addFilters=function(i){if(Array.isArray(i)){e=new r;for(var o=0;o<i.length;o++)this.createGroup(o),this.addObjectFilters(o,i[o])}else this.addObjectFilters(t,i)},this.addObjectFilters=function(t,i){for(var o in i)e.collection[t].addFilter(o,i[o]);return this},this.removeAllFilters=function(){return t=0,(e=new r).push(new a(t)),this},this.removeGroupFilters=function(){return e.deleteElementById(t),this},this.removeFilter=function(i){return e.forEach(function(e){e.id===t&&e.removeFilter(i)}),this},this.getFilterGroups=function(){return e},this.getFilterObject=function(){return e.map(function(t){return t.getFilters()})},this.getFilterString=function(){if(1===e.collection.length&&Object.keys(e.first().getFilters()).length>0)return"&filter="+e.first().getFilterString();if(e.collection.length>1){var t="";return e.forEach(function(e){t+="&filter[]="+e.getFilterString()}),t.length>0&&"&filter[]="==t.substr(-10)&&(t=t.substr(0,t.length-10)),t}return""},this.createGroup=function(t){var i=new a(t||e.collection.length+1);return e.push(i),this.setFilterGroup(i.id),this},this.getFilterPath=function(){var t=this.getPath()+"?page="+this.page+"&limit="+this.limit+this.getFilterString();return["orderBy","searchId","fields","view"].forEach(function(e){this[e]&&(t+="&"+e+"="+this[e])}.bind(this)),t},o.apply(this,arguments)}s.prototype=new o,s.prototype.fetch=function(t,e){var i=this.getFilterPath(),o=this.okPromiseResult(i,{},e);return t&&t.length?new Promise(function(e){o.then(function(i){i.fetchedTime=new Date,Promise.all(t.map(function(t){var e={},o=-1!==t.indexOf(".");return Promise.all(i.map(function(i){var r,n,a,s;if(o?(n=i,a=t,"undefined"===typeof s&&(s="."),r=(Array.isArray(a)?a:a.split(s)).reduce(function(t,e){return t&&t[e]},n)):r=i[t],r&&r.id){if(!(r.id in e))return e[r.id]=r,r.get();o?function(t,e,i,o){"undefined"===typeof o&&(o=".");for(var r=t,n=e.split(o),a=n.length,s=0;s<a-1;s++){var c=n[s];r[c]||(r[c]={}),r=r[c]}r[n[a-1]]=i}(i,t,e[r.id]):(r=e[r.id],i[t]=r)}}))})).then(function(){e(i)})})}):o},s.prototype.toArray=function(){return{page:this.page,limit:this.limit,orderBy:this.orderBy,view:this.view,filter:this.getFilterString()}},s.prototype.fetchCacheable=function(t,e){"undefined"===typeof t&&(t=3600);var i=localStorage.cachelog,o=this.getFilterPath();if(this.cacheKey=o,i&&console.log("filtercollection cacheable - "+o),t>0&&!e&&localStorage[o]){var r=JSON.parse(n.decompress(localStorage[o]));if(i&&(console.log("Cached at "+new Date(r.cachedTime)),console.log("Expires at "+new Date(r.cachedTime+1e3*t)),console.log("Time now "+new Date),console.log("Cached build date "+r.buildDate),console.log("Built at "+localStorage.buildDate)),r&&r.cachedTime+1e3*t>Date.now()&&r.buildDate===localStorage.buildDate){i&&console.log("cacheHit");var a=this.cachedOkPromiseResult(r.entity)}else a=this.fetch(null,!0)}else a=this.fetch(null,0!==t);return a},t.exports=s},function(t,e,i){var o=i(0),r=i(81),n=i(29).getInstance();function a(t){this.path="file",this.createPath=this.path,this.id=t}a.prototype=new o,a.prototype.getImage=function(t,e,i){return this.okPromiseResult([this.getUpdatePath().replace("file","image"),"resize",t,e,i].join("/"))},a.prototype.okPromiseResult=function(t){var e=this,i=n.get({path:t,mixin:{responseType:"blob"}});return new Promise(function(t,o){i.then(function(i){200===i.status.code?(e.data=i.entity,e.url=URL.createObjectURL(i.entity),t(e)):o(new r(i))},o)})},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(232),a=i(113),s=i(218),c=i(152),p=i(238),h=i(153),d=i(5),u=i(114),l=i(110),m=i(241);function y(t){this.path="branding",this.createPath=this.path,this.id=t,this.branding=new r({entity:"Branding"}),this.brandinggroup=new r({entity:"BrandingGroup"}),this.bookingbrand=new r({entity:"PropertyBookingBrand",parent:new r({entity:"Property"})}),this.marketingbrand=new r({entity:"PropertyMarketingBrand",parent:new r({entity:"Property"})}),this.partysizepricing=new d({object:a,path:"partysizepricing",parent:this}),this.petextrabranding=new c,this.status=new h,this.prices=new d({object:n,path:"price",parent:this}),this.availability=new d({object:s,path:"availability",parent:this}),this.changedaytemplates=new d({object:p,path:"changedaytemplate",parent:this})}y.prototype=new o,y.prototype.setParent=function(t){this.parent=t,this.bookingbrand.parent=t,this.marketingbrand.parent=t,this.partysizepricing.parent=t},y.prototype.toArray=function(){return{brandingid:this.branding.id,primarybranding:this.primarybranding,status:this.status.name,statusreasonid:this.statusreason&&this.statusreason.id,propertynoteid:this.propertynote&&this.propertynote.id,allowbookingonwebuntildate:this.allowbookingonwebuntildate,showpricingonwebuntildate:this.showpricingonwebuntildate,petextrabrandingid:this.petextrabranding&&this.petextrabranding.id}},y.prototype.getPrices=function(t,e,i){"undefined"===typeof i&&(i="");var o=this.prices;if(t&&e||i){var r={};i&&(r.type=i),t&&e&&(r.fromdate=t,r.todate=e),o.toArray=function(){return r}}return o.fetch()},y.prototype.getPricesFixed=function(t,e){var i=new l({object:m,path:"priceperiod"});return i.addFilter("propertybrandingid",this.id),t&&e&&(i.addFilter("fromdate",t+"/"+e),i.limit=100),i.fetch()},y.prototype.getAvailability=function(t,e,i,o){var r=this.availability,n={};return t&&(n.fromdate=t),e&&(n.todate=e),!0===i&&(n.includechangedays="true"),o&&(n.affiliateid=o),r.toArray=function(){return n},r.fetch()},y.prototype.getPropertyBookedRanges=function(){var t=this;return new Promise(function(e,i){t.getAvailability(u().format("YYYY-MM-DD"),u().add(2,"year").format("YYYY-MM-DD")).then(function(t){var i=[],o=null,r=null;t.forEach(function(t){0===t.daysavailable?(null===o&&(o=t.date),r=t.date):(o&&i.push({start:o,end:r}),o=null,r=null)}),e(i)},function(t){i(t)})})},y.prototype.toString=function(){return this.branding.toString()},t.exports=y},function(t,e,i){var o=i(0);function r(t){this.path="partysizepricing",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{description:this.description,partysizefrom:this.partysizefrom,partysizeto:this.partysizeto,partysizepricetype:this.partysizepricetype}},t.exports=r},,function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="pricingperiod",this.createPath="pricingperiod",this.id=t,this.validSchema=function(){return{pricingperiod:r.string().required().label("Pricing Period"),days:r.number().required().label("days"),weeks:r.number().required().label("weeks"),months:r.number().required().label("months"),subperiod:r.string().required().label("subperiod")}}}n.prototype=new o,n.prototype.toArray=function(){return{pricingperiod:this.pricingperiod,days:this.days,weeks:this.weeks,months:this.months,subperiod:this.subperiod}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(252),a=i(2);function s(t){this.path="roomtype",this.createPath=this.path,this.id=t,this.bedtypes=new r({object:n,path:"bedtype",parent:this})}s.prototype=new o,s.prototype.validSchema=function(){return{name:a.string().required().label("name"),sleeps:a.string().required().label("sleeps"),description:a.string().required().label("description")}},s.prototype.toArray=function(){return{name:this.name,sleeps:this.sleeps,description:this.description}},s.prototype.toString=function(){return this.name+" ("+this.sleeps+")"},t.exports=s},function(t,e,i){var o=i(0),r=i(166);function n(t){this.path="contactpreference",this.createPath=this.path,this.id=t,this.rolereason=new r}n.prototype=new o,n.prototype.toArray=function(){return{role:this.rolereason.role.name,reason:this.rolereason.reason.name,contactdetailid:this.contactdetail.id,priority:this.priority,donotuse:this.donotuse}},n.prototype.setParent=function(t){this.parent=t.parent,this.contactdetail=t},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(117);function a(t){this.path="contactdetailother",this.createPath=this.path,this.id=t,this.contactpreferences=new r({object:n,path:"contactpreference",parent:this})}a.prototype=new o,a.prototype.toArray=function(){return{contactmethodsubtype:this.contactmethodsubtype,contactmethodtype:this.contactmethodtype,value:this.value,comment:this.comment,invalid:this.invalid,invaliddatetime:this.invaliddatetime,invalidreason:this.invalidreason}},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="securityrole",this.createPath="securityrole",this.id=t,this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description"),symfonyroute:r.array().optional().label("symfony route")}}}n.prototype=new o,n.prototype.toArray=function(){var t=[];return Array.isArray(this.symfonyroute)&&(t=this.symfonyroute.map(function(t){return t.id}),this.symfonyroute=t),{name:this.name,description:this.description,symfonyroute:JSON.stringify(t)}},n.prototype.canAccessRoute=function(t){return Array.isArray(this.symfonyroute)?this.symfonyroute.includes(t):"object"===typeof this.symfonyroute&&this.symfonyroute&&this.symfonyroute.includes&&this.symfonyroute.includes(t)},t.exports=n},function(t,e,i){var o=i(0),r=i(2),n=i(325);function a(t){this.path="paymentmethod",this.createPath="paymentmethod",this.id=t,this.paymentmethodtype=new n}a.prototype=new o,a.prototype.toArray=function(){return{paymentmethod:this.paymentmethod,description:this.description,inactive:this.inactive,paymentmethodtypeid:this.paymentmethodtype.id}},a.prototype.validSchema=function(){return r.object().keys({paymentmethod:r.string().label("payment method"),description:r.string().required().label("Description"),inactive:r.boolean().label("Inactive"),paymentmethodtype:r.object().label("payment method type")})},t.exports=a},function(t,e,i){var o=i(0),r=i(31);function n(t){this.path=this.createPath="exchangerate",this.id=t,this.currency=new r}n.prototype=new o,n.prototype.toArray=function(){return{unitsperbaseunint:this.unitsperbaseunint,currencyid:this.currency.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(98);function n(t){this.path=this.createPath="workordersupplier",this.id=t,this.supplier=new r}n.prototype=new o,n.prototype.toArray=function(){return{supplierid:this.supplier.id,commissionpercent:this.commissionpercent,paymenttype:this.paymenttype,payeename:this.payeename,paymentadvice:this.paymentadvice,hourlyrate:this.hourlyrate,calloutcharge:this.calloutcharge,defaultinvoiceto:this.defaultinvoiceto}},n.prototype.toString=function(){var t=[this.supplier.getFullName()];return this.payeename&&this.payeename!==this.supplier.getFullName()&&(t.push(" ("),t.push(this.payeename),t.push(")")),t.join("")},t.exports=n},,,,,,,,,,,,,,,,,,,function(t,e,i){var o=i(0),r=i(221),n=i(40),a=i(222),s=i(67),c=i(219),p=i(2);function h(t){this.path="attribute",this.createPath=this.path,this.id=t,this.group=new r,this.unit=new c,this.options=new n({object:a,path:"option",parents:[this]}),this.extras=new n({object:s}),this.baseattribute=!1,this.donotmodify=!1,this.important=!1,this.usedinavailabilitysearch=!1,this.type="boolean",this.toArray=function(){var t={type:this.type,name:this.name,description:this.description,group:this.group.name,usedinavailabilitysearch:this.usedinavailabilitysearch,baseattribute:this.baseattribute,donotmodify:this.donotmodify,important:this.important,defaultvalue:this.defaultvalue};return this.mergeInAdditionalFields(t)},this.validSchema=function(){var t={type:p.string().required().label("Type").allow(["Boolean","String","Number","Hybrid"]),name:p.string().required().label("Name"),description:p.string().required().label("Description"),group:p.object().required().label("Group"),usedinavailabilitysearch:p.boolean().required().label("Used in availability search?"),baseattribute:p.boolean().required().label("Base Attribute"),donotmodify:p.boolean().required().label("Do not modify"),important:p.boolean().required().label("Important")};"Number"!==this.type&&"Hybrid"!==this.type||(t.operator=p.string().allow(["=",">",">=","<","<=","!="]).label("Operator").description("Equals (=), Greater than (>), Less than (<), Greater than or equal to (>=), Less than or equal to (<=), Not equal to (!=)."),t.minimumvalue=p.string().required().label("Minimum value"),t.maximumvalue=p.string().required().label("Maximum value"),t.unit=p.object().required().label("Unit"));var e="Will apply to newly created properties. Use Bulk Update Attributes to update existing properties.",i=p.string().optional().label("Default Boolean value").allow(["","true","false"]).description(e),o=p.string().optional().allow("").label("Default value").description(e);return"Hybrid"===this.type?(t.defaultnumbervalue=p.number().optional().label("Default Number value").description(e),t.defaultbooleanvalue=i,t.limitvalue=p.string().required().label("Limit value")):"Boolean"===this.type?t.defaultvalue=i:t.defaultvalue=o,t},this.toUpdateArray=function(){var t={name:this.name,description:this.description,type:this.type,group:this.group.name,donotmodify:this.donotmodify,usedinavailabilitysearch:this.usedinavailabilitysearch,baseattribute:this.baseattribute,important:this.important,defaultvalue:this.defaultvalue};return this.mergeInAdditionalFields(t)},this.mergeInAdditionalFields=function(t){return"Hybrid"!=this.type&&"Number"!=this.type||(t.operator=this.operator,t.minimumvalue=this.minimumvalue,t.maximumvalue=this.maximumvalue,t.unit=this.unit.name),"Hybrid"==this.type&&(t.limitvalue=this.limitvalue,t.defaultbooleanvalue=this.defaultbooleanvalue,t.defaultnumbervalue=this.defaultnumbervalue),t},this.toString=function(){return this.name+" ("+this.code+")"}}h.prototype=new o,t.exports=h},function(t,e,i){var o=i(0),r=i(29).getInstance();function n(t){this.path=this.createPath="emaillist",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{listname:this.listname,fromdate:this.fromdate,todate:this.todate}},n.prototype.unsubscribe=function(t){return r.delete({path:this.getUpdatePath()+"/unsubscribe",params:{customerid:t.id}})},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(4),a=i(5),s=i(226),c=i(384),p=i(344),h=i(343);function d(t){this.createPath=this.path="template",this.id=t,this.templatetargetsource=new n({entity:"TemplateTargetSource"}),this.triggerevent=new n({entity:"TriggerEvent"}),this.bookingbrand=new n({entity:"BookingBrand"}),this.branding=new n({entity:"Branding"}),this.marketingbrand=new n({entity:"MarketingBrand"}),this.contactmethods=new a({object:s,path:"contactmethod",parent:this}),this.rolereasons=new a({object:c,path:"rolereason",parent:this}),this.marketingbrands=new a({path:"marketingbrand",object:p,parent:this}),this.marketingbrands.getPath=function(){return this.options.parent.getUpdatePath().replace("template/","multibrandtemplate/")+"/marketingbrand"},this.bookingbrands=new a({path:"bookingbrand",object:h,parent:this}),this.bookingbrands.getPath=function(){return this.options.parent.getUpdatePath().replace("template/","multibrandtemplate/")+"/bookingbrand"}}d.prototype=new r,d.prototype.getFields=function(){return o.get(this.getUpdatePath()+"/fields")},d.prototype.copy=function(){return this.createPromiseResult([this.path,this.id,"copy"].join("/"),{})},d.prototype.toString=function(){return this.templatename},d.prototype.toArray=function(){return{type:this.type,templatename:this.templatename,subject:this.subject,templatedescription:this.templatedescription,fromdate:this.fromdate,todate:this.todate,templatetargetsourceid:this.templatetargetsource.id,mandatory:this.mandatory,sendonce:this.sendonce,sendonceper:this.sendonceper,triggereventid:this.triggerevent.id,daysbeforetrigger:this.daysbeforetrigger,showprovisional:this.showprovisional,showprovisionalaccepted:this.showprovisionalaccepted,showdepositpaid:this.showdepositpaid,showbalancepaid:this.showbalancepaid,showcancelledprovisional:this.showcancelledprovisional,showcancelledprovisionalaccepted:this.showcancelledprovisionalaccepted,showcancelledconfirmed:this.showcancelledconfirmed,showtransferred:this.showtransferred,showowner:this.showowner,showflexilet:this.showflexilet,showcancelledflexilet:this.showcancelledflexilet,bookingbrandid:this.bookingbrand.id,brandingid:this.branding.id,marketingbrandid:this.marketingbrand.id}},t.exports=d},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="language",this.createPath="language",this.id=t,this.code="EN",this.name="English"}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,code:this.code}},n.prototype.validSchema=function(){return{name:r.string().required().min(1).label("name").description("Language name"),code:r.string().required().min(2).max(2).label("code").description("Language code")}},n.prototype.toString=function(){return this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="mimetype",this.createPath="mimetype",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{name:r.string().required().label("Name"),shortname:r.string().required().label("Short name")}},n.prototype.toArray=function(){return{name:this.name,shortname:this.shortname}},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="tag",this.createPath="tag",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{tagid:this.tag.id}},r.prototype.toString=function(){return this.tag.tag},t.exports=r},function(t,e,i){var o=i(0),r=i(58),n=i(148),a=i(233),s=i(234),c=i(443),p=i(149),h=i(40);function d(t){this.path="branding",this.createPath="branding",this.id=t,this.saleschannel=new p,this.branding=new r,this.pricetype=new n,this.percentages=new h({object:d}),this.overrides=new h({object:a,parent:this}),this.minimums=new h({object:c,parent:this}),this.partysizeprices=new h({object:s,parent:this})}d.prototype=new o,d.prototype.toArray=function(){var t={brandingid:this.branding.id,saleschannelid:this.saleschannel.id,fromdate:this.fromdate,todate:this.todate,type:this.type,decimalplaces:2};return"Percentage"===this.type&&(this.prorata?t.prorata=this.prorata:t.percentage=this.percentage,t.pricetypebrandingfixedid=this.basepricetypebranding.id),t},t.exports=d},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="pricetype",this.createPath="pricetype",this.id=t,this.validSchema=function(){return{pricetype:r.string().required().label("price type"),pricingperiod:r.object().required().label("pricing period"),description:r.string().required().label("Description"),periods:r.number().required().label("Periods"),additional:r.boolean().optional().label("Additional")}}}n.prototype=new o,n.prototype.toArray=function(){return{pricetype:this.pricetype,pricingperiod:"string"===typeof this.pricingperiod?this.pricingperiod:this.pricingperiod.pricingperiod,description:this.description,periods:this.periods,additional:this.additional}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="saleschannel",this.createPath="saleschannel",this.id=t,this.validSchema=function(){return{saleschannel:r.string().required().label("Sales Channel"),description:r.string().optional().allow("").label("Description")}}}n.prototype=new o,n.prototype.toArray=function(){return{saleschannel:this.saleschannel,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(151),a=i(94),s=i(2);function c(t,e,i,o){this.path="property/"+t+"/branding/"+e+"/year/"+i+"/priceband",this.createPath=this.path,this.id=o,this.priceband=new n,this.parent=this.parent,this.reducedoccupancyprices=new r({object:a,path:"reducedoccupancyprice",parent:this})}c.prototype=new o,c.prototype.toArray=function(){var t={pricebandid:this.priceband.id,price:this.price,updatebandswithsameprice:!1};return this.saleschannel&&(t.saleschannelid=this.saleschannel.id),this.pricetype&&(t.pricetypeid=this.pricetype.id),this.currency&&(t.currencyid=this.currency.id),this.updatebandswithsameprice&&(t.updatebandswithsameprice=this.updatebandswithsameprice),t},c.prototype.validSchema=function(){return s.object().keys({priceband:s.object().label("Price band"),price:s.number().required().label("price"),saleschannel:s.object().optional().label("sales channel"),pricetype:s.object().optional().label("pricetype"),currency:s.object().optional().label("currency"),updatebandswithsameprice:s.bool().optional().label("update bands with same price")})},c.prototype.toString=function(){return this.priceband.toString()},t.exports=c},function(t,e,i){var o=i(0);function r(t){this.path="priceband",this.createPath="priceband",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{priceband:this.priceband,description:this.description}},r.prototype.toString=function(){var t=this.priceband;return this.description&&this.description!="Band "+t&&(t+="  ("+this.description+" )"),t},t.exports=r},function(t,e,i){var o=i(0),r=i(2),n=i(236),a=i(237),s=i(5),c=i(58);function p(t,e){this.path="extra/"+t+"/branding",this.createPath="extra/"+t+"/branding",this.id=e,this.branding=new c,this.brandingConfiguration=new s({object:n,path:"configuration",parent:this}),this.pricing=new s({object:a,path:"pricing",parent:this})}p.prototype=new o,p.prototype.toCreateArray=function(){return{brandingid:this.brandingid,copytoallbrands:this.copytoallbrands}},p.prototype.toUpdateArray=function(){return{brandingid:this.brandingid}},p.validSchema=r.object().keys({brandingid:r.string().required().label("branding"),copytoallbrands:r.boolean().label("copy to all brands")}),t.exports=p},function(t,e,i){var o=i(0);function r(t){this.path="status",this.createPath="status",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{id:this.id,name:this.name,allowbooking:this.allowbooking,priority:this.allowbooking}},r.prototype.toString=function(){return[this.name].join(" ")},t.exports=r},function(t,e,i){var o=i(0),r=i(155),n=i(46);function a(t,e){this.path="property/"+t+"/document",this.createPath="property/"+t+"/document",this.image=new r,this.document=new n,this.inspectionId=!1,this.id=e}a.prototype=new o,a.prototype.toCreateArray=function(){var t={documentid:this.image.id||this.document.id};return this.inspectionId&&(t.inspectionid=this.inspectionId),t},t.exports=a},function(t,e,i){var o=i(0),r=i(145),n=i(111),a=i(2),s=i(29).getInstance(),c=i(40),p=i(146);function h(t){this.path="image",this.createPath="image",this.id=t,this.mimetype=new r,this.file=new n,this.tags=new c({object:p,parent:this,path:"tag"})}h.prototype=new o,h.prototype.toFormData=function(){var t=new FormData;return t.append("data",this.data),this.weight&&t.append("weight",this.weight),this.description&&t.append("description",this.description),this.alt&&t.append("alt",this.alt),t},h.prototype.toArray=function(){return{name:this.name,weight:this.weight,description:this.description,private:this.private,height:this.height,width:this.width,alt:this.alt}},h.prototype.getUrl=function(t,e,i){return s.getHost()+"/v2/"+this.path+"/"+this.id+"/resize/"+t+"/"+e+"/"+i+"/"+this.filename},h.prototype.validSchema=function(){return a.object().keys({name:a.string().label("Name"),weight:a.number().empty("").label("Order"),description:a.string().empty("").label("Description"),alt:a.string().empty("").label("alt Text"),private:a.boolean()})},t.exports=h},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="managedactivity",this.createPath="managedactivity",this.id=t,this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description"),donotmodify:r.boolean().label("donotmodify")}}}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,description:this.description,donotmodify:this.donotmodify}},n.prototype.toString=function(){return this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="service",this.createPath="service",this.id=t}n.prototype=new o,n.prototype.toCreateArray=function(){return{name:this.name,description:this.description,donotmodify:this.donotmodify,datetouse:"object"===typeof this.datetouse?this.datetouse.datetouse:this.datetouse,customerbookings:this.customerbookings,ownerbookings:this.ownerbookings,agencybookings:this.agencybookings}},n.prototype.toString=function(){return this.name},n.prototype.validSchema=function(){return r.object().keys({name:r.string().required().label("name"),description:r.string().required().label("description"),donotmodify:r.boolean().label("do not modify"),vatband:r.object().required().label("VAT band"),datetouse:r.object().required().label("date to use"),customerbookings:r.boolean().label("applies to customer bookings"),ownerbookings:r.boolean().label("applies to owner bookings"),agencybookings:r.boolean().label("applies to agency bookings")})},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(31),a=i(68),s=i(47),c=i(2);function p(t){this.path="charge",this.createPath="charge",this.id=t,this.currency=new n,this.vatband=new a,this.ownerchargecode=new s,this.workordertemplate=new r({entity:"WorkOrder"})}p.prototype=new o,p.prototype.toUpdateArray=function(){var t={type:this.type,charge:this.charge,includesvat:this.includesvat,autoaddcustomer:this.autoaddcustomer,autoaddowner:this.autoaddowner,autoaddagency:this.autoaddagency,fromdate:this.fromdate,todate:this.todate,ownerchargecodeid:this.ownerchargecode.id,workordertemplateid:this.workordertemplate.id,description:this.description};return this.perperiod?t.perperiod=this.perperiod:!1===this.perperiod&&(t.perperiod=!1),t},p.prototype.toCreateArray=function(){var t=this.toUpdateArray();return t.currencyid=this.currency.id,t.vatbandid=this.vatband&&this.vatband.id,t},p.prototype.validSchema=function(){return c.object().keys({fromdate:c.string().required().label("From Date"),todate:c.string().required().label("To Date"),type:c.string().required().label("Type"),ownerchargecode:c.when("type",{is:"OwnerCharge",then:c.object().required().label("Owner Charge Code"),otherwise:c.forbidden()}),workordertemplate:c.when("type",{is:"WorkOrder",then:c.object().required().label("Work Order Template"),otherwise:c.forbidden()}),vatband:c.object().optional().label("Vat Band"),currency:c.object().required().label("Currency"),charge:c.number().required().label("Charge"),includesvat:c.boolean().required().label("Includes VAT"),autoaddcustomer:c.boolean().required().label("Auto add to customer"),autoaddowner:c.boolean().required().label("Auto add to owner"),autoaddagency:c.boolean().required().label("Auto add to agency"),description:c.string().optional().label("Description"),perperiod:c.boolean().optional().allow("").label("Per Period")})},t.exports=p},function(t,e,i){var o=i(0),r=i(116),n=i(160),a=i(5),s=i(2);function c(t){this.path="room",this.createPath=this.path,this.id=t,this.roomtype=new r,this.roomtypes=new a({object:n,path:"roomtype",parent:this}),this.validSchema=function(){return{name:s.string().required().label("Name"),quantity:s.number().required().label("Quantity"),description:s.string().required().label("Description"),roomtype:s.object().required().label("Default Room Type")}},this.validEditSchema=function(){return{quantity:s.number().required().label("Quantity"),description:s.string().required().label("Description"),name:s.string().required().label("Name")}}}c.prototype=new o,c.prototype.toArray=function(){return{roomtypeid:this.roomtype.id,quantity:this.quantity,description:this.description,name:this.name}},t.exports=c},function(t,e,i){var o=i(0),r=i(116),n=i(2);function a(t){this.path="roomtype",this.createPath=this.path,this.id=t,this.roomtype=new r,this.validSchema=function(){return{roomtype:n.object().required().label("Room Type")}}}a.prototype=new o,a.prototype.toArray=function(){return{roomtypeid:this.roomtype.id,default:this.default}},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="notetype",this.createPath="notetype",this.id=t,this.validSchema=function(){return{notetype:r.string().required().label("note type"),notetypedisplay:r.string().required().label("note type display"),description:r.string().required().label("description"),donotdelete:r.boolean().required().label("do not delete"),usercreatable:r.boolean().required().label("user createable"),autoarchive:r.boolean().optional().label("auto archive")}}}n.prototype=new o,n.prototype.toArray=function(){return{notetype:this.notetype,description:this.description,donotdelete:this.donotdelete,usercreatable:this.usercreatable,notetypedisplay:this.notetypedisplay,autoarchive:this.autoarchive}},t.exports=n},function(t,e,i){var o=i(0),r=i(115),n=i(31),a=i(5),s=i(163),c=i(261),p=i(262),h=i(263),d=i(264),u=i(266),l=i(267),m=i(268),y=i(4),b=i(2);function g(t){this.path=this.createPath="specialoffer",this.id=t,this.pricingperiod=new r,this.currency=new n,this.promotions=new a({object:s,path:"promotion",parent:this}),this.saleschannels=new a({object:h,path:"saleschannel",parent:this}),this.websitesections=new a({object:d,path:"websitesection",parent:this}),this.bookingperiods=new a({object:l,path:"bookingperiod",parent:this}),this.holidayperiods=new a({object:u,path:"holidayperiod",parent:this}),this.brandings=new a({object:c,path:"branding",parent:this}),this.marketingbrandings=new a({object:p,path:"marketingbrand",parent:this}),this.attributes=new a({object:m,path:"attribute",parent:this}),this.pricetype=new y({entity:"PriceType"}),this.forpricetype=new y({entity:"PriceType"}),this.priceband=new y({entity:"PriceBand"}),this.forpriceband=new y({entity:"PriceBand"})}g.prototype=new o,g.prototype.toUpdateArray=function(){var t={type:this.type,description:this.description,officedescription:this.officedescription,minimumholidaylength:this.minimumholidaylength,maximumholidaylength:this.maximumholidaylength,minimumoccupancy:this.minimumoccupancy,maximumoccupancy:this.maximumoccupancy,minimumdaysbeforeholiday:this.minimumdaysbeforeholiday,maximumdaysbeforeholiday:this.maximumdaysbeforeholiday,daysbeforeappliestowholeholiday:this.daysbeforeappliestowholeholiday,additional:this.additional,advertise:this.advertise,changedaystartfinishonly:this.changedaystartfinishonly,currencycode:this.currency.code,amount:this.amount,fixedprice:this.fixedprice,percentage:this.percentage,active:this.active,perperiod:this.perperiod,applytopartysizepricing:this.applytopartysizepricing,pricetypeid:this.pricetype.id,forpricetypeid:this.forpricetype.id,pricebandid:this.priceband.id,forpricebandid:this.forpriceband.id,archive:this.archive,archiveddatetime:this.archiveddatetime};return null===this.percentagepaidbyowner?t.percentagepaidbyowner="null":t.percentagepaidbyowner=this.percentagepaidbyowner,this.archivedbyactor&&(t.archivedbyactorid=this.archivedbyactor.id),this.depositamount&&(t.depositamountid=this.depositamount.id),this.specialoffertemplatetype&&(t.specialoffertemplatetypeid=this.specialoffertemplatetype.id),this.useholidayperiodprices?t.useholidayperiodprices=this.useholidayperiodprices:!1===this.useholidayperiodprices&&(t.useholidayperiodprices=this.useholidayperiodprices),t},g.prototype.toCreateArray=function(){var t=this.toUpdateArray();return t.pricingperiod=this.pricingperiod.pricingperiod,t.brandingids=this.brandingids,delete t.active,t},g.prototype.validSchema=function(){return b.object().keys({description:b.string(),officedescription:b.string().optional().allow("").label("Office description"),type:b.string(),amount:b.number(),fixedprice:b.number().label("Fixed price"),percentage:b.number(),active:b.boolean(),additional:b.boolean(),advertise:b.boolean(),minimumholidaylength:b.number().empty("").label("Minimum holiday length"),maximumholidaylength:b.number().empty("").label("Maximum holiday length"),minimumoccupancy:b.number().empty("").label("Minimum occupancy"),maximumoccupancy:b.number().empty("").label("Maximum occupancy"),minimumdaysbeforeholiday:b.number().empty("").label("Minimum days before holiday"),maximumdaysbeforeholiday:b.number().empty("").label("Maximum days before holiday"),daysbeforeappliestowholeholiday:b.boolean().label("Days before applies to whole holiday"),pricingperiod:b.object().label("Pricing period"),changedaystartfinishonly:b.boolean().label("Only apply to periods of holiday which start and finish on a changeover day"),currency:b.object(),perperiod:b.boolean().label("Per period"),applytopartysizepricing:b.boolean().label("Apply to party size pricing"),pricetype:b.object(),forpricetype:b.object(),priceband:b.object(),forpriceband:b.object(),archive:b.boolean(),archivedbyactorid:b.number().empty("").label("Archived by actor"),archiveddatetime:b.string().optional().allow("").label("Archived date"),brandingids:b.string().optional().allow("").label("Brandings"),depositamount:b.object().optional().label("Deposit Amount"),percentagepaidbyowner:b.number().min(0).max(100).allow(null).label("Percentage paid by owner"),specialoffertemplatetype:b.object().optional().label("Template Type"),useholidayperiodprices:b.boolean().optional().label("Use the prices indicated in the Holiday Periods")})},t.exports=g},function(t,e,i){var o=i(0),r=i(67),n=i(2);function a(t){this.path=this.createPath="promotion",this.id=t,this.extra=new r}a.prototype=new o,a.prototype.toArray=function(){return{promotioncode:this.promotioncode,extraid:this.extra?this.extra.id:"null",usagelimit:this.usagelimit}},a.prototype.validSchema=function(){return n.object().keys({promotioncode:n.string().label("Promotion Code"),extra:n.object().label("Extra"),usagelimit:n.number().label("Usage Limit")})},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(157),a=i(158);function s(t){this.path="supplier",this.createPath="supplier",this.id=t,this.service=new n,this.actor=new r({entity:"Supplier"}),this.markedcompletebyactor=new r({entity:"TabsUser"}),this.cancelledbyactor=new r({entity:"TabsUser"}),this.ownercharge=new r({entity:"OwnerCharge"}),this.booking=new r({entity:"Booking"}),this.servicecharge=new a}s.prototype=new o,s.prototype.mutateResponse=function(t){if(t.actor&&"string"===typeof t.actor){if(-1!=t.actor.indexOf("/supplier/"))var e=i(98);else-1!=t.actor.indexOf("/agency/")&&(e=i(75));e&&(this.actor=new e,this.actor.mutateResponse(t.actor))}if(t.actor&&"object"===typeof t.actor&&(e=i(1004)("./"+t.actor.type))&&(this.actor=new e,this.actor.mutateResponse(t.actor)),t.ownercharge&&(e=i(180),this.ownercharge=new e,this.ownercharge.mutateResponse(t.ownercharge),this.ownercharge.owner)){var o=new(i(69));o.id=this.ownercharge.owner.split("/").pop(),this.ownercharge.parent=o}return this.mutateEntity(t)},s.prototype.toArray=function(){var t={serviceid:this.service.id,actorid:this.actor.id};return this.markedcompletebyactor.id&&(t.markedcompletebyactorid=this.markedcompletebyactor.id),this.cancelledbyactor.id&&(t.cancelledbyactorid=this.cancelledbyactor.id),this.ownercharge.id&&(t.ownerchargeid=this.ownercharge.id),t},t.exports=s},function(t,e,i){var o=i(0),r=i(93),n=i(5),a=i(117);function s(t){this.id=t,this.path="address",this.createPath="address",this.address=new r,this.contactpreferences=new n({object:a,path:"contactpreference",parent:this})}s.prototype=new o,s.prototype.toArray=function(){var t=this.address.toArray();return t.invalid=!!this.invalid&&this.invalid,this.invalid&&(t.invalidreason=this.invalidreason),t},s.prototype.validSchema=function(){return this.address.validSchema()},t.exports=s},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.path="rolereason",this.createPath=this.path,this.id=t,this.role=new r({entity:"Role"}),this.reason=new r({entity:"Reason"})}a.prototype=new o,a.prototype.validSchema=function(){return{role:n.object().required().label("Role"),reason:n.object().required().label("Reason"),required:n.boolean().required().label("Required?"),donotdelete:n.boolean().required().label("Do not delete").description("This removes the delete option")}},a.prototype.toArray=function(){return{roleid:this.role.id,reasonid:this.reason.id,donotdelete:this.donotdelete,required:this.required}},a.prototype.toString=function(){return(this.role.name||this.role)+" "+(this.reason.name||this.reason)},a.prototype.toReasonRoleString=function(){return(this.reason.name||this.reason)+" to "+(this.role.name||this.role)},t.exports=a},function(t,e,i){var o=i(0),r=i(284),n=i(217),a=i(2);function s(t){this.path="program",this.createPath="program",this.id=t,this.program=new r,this.approvaltype=new n}s.prototype=new o,s.prototype.toArray=function(){return{programid:this.program.id,approvaltypeid:this.approvaltype?this.approvaltype.id:void 0,fromdate:this.fromdate,todate:this.todate,approved:this.approved,pending:this.pending,actioned:this.actioned,approverquestion:this.approverquestion}},s.prototype.validSchema=function(){return a.object().keys({program:a.object().required().label("program"),fromdate:a.date().required().label("from date"),todate:a.date().required().label("to date"),approved:a.boolean().required().label("Approved"),actioned:a.boolean().required().label("Actioned"),pending:a.boolean().required().label("Pending"),approverquestion:a.string().optional().allow("").label("Approver question"),approvaltype:a.object().optional().label("Approval Type")})},t.exports=s},function(t,e,i){var o=i(0),r=i(2),n=i(119),a=i(40);function s(t){this.path="securitygroup",this.createPath="securitygroup",this.id=t,this.securityroles=new a({object:n}),this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description")}},this.hasRole=function(t){for(var e in this.securityroles.collection){if(t instanceof Array&&t.indexOf(this.securityroles.collection[e].name)>=0)return!0;if("string"===typeof t&&this.securityroles.collection[e].name===t)return!0}return!1},this.canAccessRoute=function(t){for(var e in this.securityroles.collection)if(this.securityroles.collection[e].canAccessRoute(t))return!0;return!1}}s.prototype=new o,s.prototype.toArray=function(){return{name:this.name,description:this.description}},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="amountlimittype",this.createPath="amountlimittype",this.id=t,this.validSchema=function(){return{amountlimittype:r.string().required().label("amountlimittype"),description:r.string().required().label("description")}}}n.prototype=new o,n.prototype.toArray=function(){return{amountlimittype:this.amountlimittype,description:this.description}},n.prototype.toString=function(){return this.amountlimittype+" ("+this.description+")"},t.exports=n},function(t,e,i){var o=i(0);function r(t,e){this.path="extra",this.createPath="extra",this.id=e}r.prototype=new o,r.prototype.toArray=function(){var t={extraid:this.extraid,quantity:this.quantity};return 0!=this.quantity&&(t.unitprice=this.unitprice),this.extrabookingreasonid&&(t.extrabookingreasonid=this.extrabookingreasonid),t},t.exports=r},function(t,e,i){var o=i(0),r=i(63);function n(t){this.path="marketingbrand",this.createPath="marketingbrand",this.id=t,this.marketingbrand=new r}n.prototype=new o,n.prototype.toArray=function(){return{marketingbrandcode:this.marketingbrand.code,fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="informationcategory",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{informationcategory:this.informationcategory,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({informationcategory:r.string().label("informationcategory"),description:r.string().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="chargingperiod",this.createPath="chargingperiod",this.id=t,this.validSchema=function(){return{chargingperiod:r.string().required().label("chargingperiod"),description:r.string().label("description")}}}n.prototype=new o,n.prototype.toArray=function(){return{chargingperiod:this.chargingperiod,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(99),n=i(69),a=i(83),s=i(58),c=i(120),p=i(31),h=i(165),d=i(81),u=i(29).getInstance();function l(t){this.path="sagepaypayment",this.createPath="sagepaypayment",this.id=t,this.customer=new r,this.owner=new n,this.booking=new a,this.branding=new s,this.contactdetailpostal=new h,this.paymentmethod=new c,this.currency=new p,this.bookingpayments=[]}l.prototype=new o,l.prototype.toArray=function(){var t={amount:this.amount,paymentmethodid:this.paymentmethod.id,currencyid:this.currency.id};return this.customer&&this.customer.id&&(t.customerid=this.customer.id),this.owner&&this.owner.id&&(t.ownerid=this.owner.id),this.contactdetailpostal&&(t.contactdetailpostalid=this.contactdetailpostal.id),this.booking.id&&(t.bookingid=this.booking.id),this.branding.id&&(t.brandingid=this.branding.id),this.bookingamount&&this.booking.id&&(t.bookingamount=this.bookingamount),this.securitydepositamount&&this.booking.id&&(t.securitydepositamount=this.securitydepositamount),t},l.prototype.mutateResponse=function(t){if(t.payment){var e=i(101);this.payment=new e,this.payment.mutateEntity(t.payment)}return this.mutateEntity(t)},l.prototype.createIframe=function(){var t=u.post({path:this.path,entity:this.toArray()}),e=this;return new Promise(function(i,o){t.then(function(t){if(201===t.status.code){e.iframe=t.entity;var r=e.replacePath(t.headers["Content-Location"]);u.get({path:r}).then(function(t){i(e.mutateResponse(t.entity))},function(t){o(new d(t))})}else o(new d(t))})})},l.prototype.release=function(){return this.updatePromiseResult([this.getUpdatePath(),"release"].join("/"),{})},l.prototype.forcerelease=function(){return this.updatePromiseResult([this.getUpdatePath(),"forcerelease"].join("/"),{})},l.prototype.addMissing=function(t){return this.updatePromiseResult([this.getUpdatePath(),"missingtransaction"].join("/"),{bookingid:t.id,bookingamount:this.bookingamount||0,securitydepositamount:this.securitydepositamount||0})},l.prototype.void=function(){return this.createPromiseResult([this.getUpdatePath(),"void"].join("/"),{})},l.prototype.abort=function(){return this.createPromiseResult([this.getUpdatePath(),"abort"].join("/"),{})},l.prototype.invalidate=function(){return this.createPromiseResult([this.getUpdatePath(),"invalidate"].join("/"),{})},l.prototype.refund=function(t,e){var i={amount:t};return e&&(i.expirydate=e),this.createPromiseResult([this.getUpdatePath(),"refund"].join("/"),i)},l.prototype.repeat=function(t,e){return this.createPromiseResult([this.getUpdatePath(),"repeat"].join("/"),{bookingamount:t,securitydepositamount:e})},l.prototype.detail=function(){return u.get([this.getUpdatePath(),"detail"].join("/"))},l.prototype.import=function(t,e,i){return e="undefined"!==typeof e&&e,i="undefined"!==typeof i?i:"W",this.updatePromiseResult([this.getUpdatePath(),"import",t,e,i].join("/"),{})},t.exports=l},function(t,e,i){var o=i(0),r=i(5),n=i(277),a=i(330),s=i(2),c=i(328);function p(t){this.path="transactiondefinition",this.createPath="transactiondefinition",this.id=t,this.accountingdatedefinition=new n,this.transactionsource=new a,this.doubleentrydefinitions=new r({object:c,path:"doubleentrydefinition",parent:this})}p.prototype=new o,p.prototype.toArray=function(){return{transactionname:this.transactionname,description:this.description,accountingdatedefinitionid:this.accountingdatedefinition.id,transactionsourceid:this.transactionsource.id,requiresbooking:this.requiresbooking,requiresbookingextra:this.requiresbookingextra,requirescustomer:this.requirescustomer,requiresactorpayment:this.requiresactorpayment,requiresbookingpayment:this.requiresbookingpayment,requiresowner:this.requiresowner,requiresownercharge:this.requiresownercharge,requiresownerpayment:this.requiresownerpayment,requiresproperty:this.requiresproperty,requiressecuritydeposit:this.requiressecuritydeposit,requiressupplierpayment:this.requiressupplierpayment,donotmodify:this.donotmodify}},p.prototype.toString=function(){return[this.transactionname,this.description].join(" ")},p.prototype.validSchema=function(){return s.object().keys({transactionname:s.string().required().label("Transaction Name"),description:s.string().required().label("Description"),accountingdatedefinition:s.object().required().label("Accounting Date Definition"),transactionsource:s.object().required().label("Transaction Source"),requiresbooking:s.boolean().optional().label("Requires Booking"),requiresbookingextra:s.boolean().optional().label("Requires Booking Extra"),requirescustomer:s.boolean().optional().label("Requires Customer"),requiresactorpayment:s.boolean().optional().label("Requires Actor Payment"),requiresbookingpayment:s.boolean().optional().label("Requires Booking Payment"),requiresowner:s.boolean().optional().label("Requires Owner"),requiresownercharge:s.boolean().optional().label("Requires Owner Charge"),requiresownerpayment:s.boolean().optional().label("Requires Owner Payment"),requiresproperty:s.boolean().optional().label("Requires Property"),requiressupplierpayment:s.boolean().optional().label("Requires Supplier Payment"),requiressecuritydeposit:s.boolean().optional().label("Requires Security Deposit"),donotmodify:s.boolean().optional().label("Do not modify")})},t.exports=p},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="grouping",this.createPath=this.path,this.id="undefined"===typeof t?0:t,this.parentgrouping=new r({entity:"Grouping"}),this.depth=0,this.children=[],this.hasParent=function(){return"object"===typeof this.parentgrouping&&"undefined"!==typeof this.parentgrouping.id&&this.parentgrouping.id>0}.bind(this),this.hasChildren=function(){return"[object Array]"===Object.prototype.toString.call(this.children)&&this.children.length>0},this.hasChildGroup=function(t){if(this.hasChildren())for(var e in this.children)return this.children[e].id===t||this.children[e].hasChildGroup(t);return!1}.bind(this)}n.prototype=new o,n.prototype.toArray=function(){return this.hasParent()?{name:this.name,parentgroupingid:this.parentgrouping.id}:{name:this.name}},n.prototype.toString=function(){return this.hasParent()?[this.name,this.parentgrouping.id].join(" "):this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="value",this.createPath=this.path,this.id="undefined"===typeof t?0:t,this.depth=0,this.children=[],this.marketingbrand=new r({entity:"MarketingBrand"}),this.parentgroupingvalue=new r({entity:"GroupingValue",parent:new r({entity:"Grouping"})}),this.hasParent=function(){return"object"===typeof this.parentgroupingvalue&&"undefined"!==typeof this.parentgroupingvalue.id&&this.parentgroupingvalue.id>0}.bind(this)}n.prototype=new o,n.prototype.toArray=function(){var t={name:this.name,qualifier:this.qualifier,description:this.description,latitude:this.latitude,longitude:this.longitude,radiuskm:this.radiuskm,nearkm:this.nearkm,promote:this.promote,code:this.code,marketingbrandid:this.marketingbrand.id};return this.weight&&(t.weight=this.weight),this.hasParent()&&(t.parentgroupingvalueid=this.parentgroupingvalue.id),t},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="inspectiontype",this.createPath="inspectiontype",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{inspectiontype:this.inspectiontype,schedule:this.schedule,gradingunit:this.gradingunit,defaultgrading:this.defaultgrading,inactive:this.inactive,description:this.description,weight:this.weight}},n.prototype.toString=function(){return this.inspectiontype},n.prototype.validSchema=function(){var t=[],e=["Week","Month","Year"];for(var i in e)for(var o=1;o<12;o++)t.push([o," ",e[i],o>1?"s":""].join(""));return r.object().keys({inspectiontype:r.string().label("inspection type"),schedule:r.string().required().allow(t).label("schedule"),gradingunit:r.string().required().label("grading unit"),description:r.string().required().label("description"),defaultgrading:r.string().optional().allow("").label("default grading"),inactive:r.boolean().optional().label("inactive"),weight:r.number().optional().label("weight")})},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(338);function a(t){this.path="keycheckreason",this.createPath="keycheckreason",this.id=t,this.keyusertype=new n}a.prototype=new r,a.prototype.toArray=function(){return{keycheckreason:this.keycheckreason,keyusertypeid:this.keyusertype.id,description:this.description,checkoutperioddays:this.checkoutperioddays,checkoutperiodhours:this.checkoutperiodhours}},a.prototype.validSchema=function(){return o.object().keys({keyusertype:o.object().required().label("Key User Type"),keycheckreason:o.string().required().label("Key Check Reason"),description:o.string().optional().allow("").label("Description"),checkoutperioddays:o.number().integer().optional().label("Checkout Period Days"),checkoutperiodhours:o.number().integer().optional().label("Checkout Period Hours")})},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(47),a=i(332),s=i(98),c=i(102);function p(t){this.path=this.createPath="charge",this.id=t,this.ownerchargecode=new n,this.exchangerate=new a,this.booking=new r({entity:"Booking"}),this.property=new r({entity:"Property"}),this.supplier=new s,this.invoiceitem=new c,this.createdby=new r({entity:"Actor"})}p.prototype=new o,p.prototype.toArray=function(){var t={type:this.type,ownerchargecodeid:this.ownerchargecode.id,description:this.description,amountnet:this.amountnet,amountvat:this.amountvat,exchangerateid:this.exchangerate.id,cancelleddatetime:this.cancelleddatetime,lastupdateddatetime:this.lastupdateddatetime,workdonedate:this.workdonedate,paidforby:this.paidforby||null};return this.invoicenumber&&(t.invoicenumber=this.invoicenumber),this.chequenumber&&(t.chequenumber=this.chequenumber),"OwnerChargeTemplate"===this.type&&(this.period&&(t.period=this.period),this.frequency&&(t.frequency=this.frequency),this.inactive&&(t.inactive=this.inactive),this.dayofweek&&(t.dayofweek=this.dayofweek),this.weekofmonth&&(t.weekofmonth=this.weekofmonth),this.dayofmonth&&(t.dayofmonth=this.dayofmonth),this.month&&(t.month=this.month)),"OwnerChargeWorkOrder"==this.type?t.invoiceitemid=this.invoiceitem.id:"OwnerChargeProperty"==this.type?(t.propertyid=this.property.id,this.booking&&(t.bookingid=this.booking.id),this.supplier&&(t.supplierid=this.supplier.id),this.supplierpaiddate&&(t.supplierpaiddate=this.supplierpaiddate)):t.bookingid=this.booking.id,this.createdbyactor&&(t.createdbyactorid=this.createdbyactor.id),this.cancelledbyactor&&(t.cancelledbyactorid=this.cancelledbyactor.id),t},t.exports=p},function(t,e,i){var o=i(0),r=i(5),n=i(354),a=i(2);function s(t){this.path="year",this.createPath="year",this.id=t,this.pricebands=new r({object:n,path:"priceband",parent:this})}s.prototype=new o,s.prototype.toArray=function(){var t={year:this.year,amount1:this.amount1,percentage:this.percentage,amount2:this.amount2};return this.updatepropertypricing&&(t.updatepropertypricing=this.updatepropertypricing),this.updateagreedpropertypricing&&(t.updateagreedpropertypricing=this.updateagreedpropertypricing),t},s.prototype.validSchema=function(){return{year:a.number().integer().label("year"),amount1:a.number().empty("").label("amount to add before adding percentage (optional)"),percentage:a.number().empty("").label("percentage to add (optional)"),amount2:a.number().empty("").label("amount to add after adding percentage (optional)"),updatepropertypricing:a.boolean().optional().label("existing property pricing for the year should be updated"),updateagreedpropertypricing:a.boolean().optional().label("agreed pricing should be updated")}},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="propertyquestioncategory",this.createPath="propertyquestioncategory",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{questioncategory:this.questioncategory,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({questioncategory:r.string().required().label("QuestionCategory"),description:r.string().required().label("Description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(97),a=i(358);function s(t){this.createPath="propertynote",this.path="propertynote",this.id=t,this.property=new r({entity:"Property"}),this.note=new n,this.propertynotecategory=new a}s.prototype=new o,s.prototype.toArray=function(){return{propertyid:this.property.id,noteid:this.note.id,fromdate:this.fromdate,todate:this.todate,requiresconfirmation:this.requiresconfirmation,propertynotecategoryid:this.propertynotecategory.id,showonweb:this.showonweb,showonavailability:this.showonavailability}},t.exports=s},function(t,e,i){var o=i(0),r=i(306);function n(t){this.path="brochure",this.createPath=this.path,this.id=t,this.brochure=new r}n.prototype=new o,n.prototype.toArray=function(){return{brochureid:this.brochure.id,page:this.page,sequence:this.sequence,prominence:this.prominence}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(370),a=i(32);function s(t){this.path="substatus",this.createPath=this.path,this.id=t,this.workordersubstatus=new n,this.setbyactor=new a,this.assignedtoactor=new a}s.prototype=new r,s.prototype.toArray=function(){var t={workordersubstatusid:this.workordersubstatus.id,fromdatetime:this.fromdatetime,setbyactorid:this.setbyactor.id};return this.expire&&(t.expire=!0),this.assignedtoactor&&this.assignedtoactor.id&&(t.assignedtoactorid=this.assignedtoactor.id),this.workordernote&&this.workordernote.id&&(t.workordernoteid=this.workordernote.id),t},s.prototype.contact=function(t){return o.put({path:[this.parent.parent.path,this.parent.parent.id,this.parent.path,this.parent.id,this.path,this.id,"contact"].join("/"),entity:t})},t.exports=s},function(t,e,i){var o=i(0);function r(t){this.path="worktype",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){var t={worktype:this.worktype,description:this.description,inactive:this.inactive,icon:this.icon,blockavailability:this.blockavailability,addpropertywarning:this.addpropertywarning};return this.parentworktype&&(t.parentworktypeid=this.parentworktype.id),t},t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="encoding",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{encoding:this.encoding}},n.prototype.validSchema=function(){return{encoding:r.string().required().label("encoding")}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="approvaltype",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{approvaltype:this.approvaltype,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({approvaltype:r.string().required().label("Approval Type"),description:r.string().required().label("Description")})},t.exports=n},function(t,e,i){var o=i(0);function r(){this.path="availability",this.createPath=this.path}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="unit",this.createPath="unit",this.id=t,this.toArray=function(){return{name:this.name,description:this.description,decimalplaces:this.decimalplaces}},this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description"),decimalplaces:r.number().required().label("decimalplaces")}}}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="country",this.createPath="country",this.id=t,this.validSchema=function(){return{name:r.string().required().label("name"),alpha2:r.string().length(2).required().label("alpha2"),alpha3:r.string().length(3).required().label("alpha3"),phonecode:r.string().min(1).max(3).required().label("phonecode")}}}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,alpha2:this.alpha2,alpha3:this.alpha3,phonecode:this.phonecode}},n.prototype.toString=function(){return this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="attributegroup",this.createPath="attributegroup",this.id=t,this.validSchema=function(){return{name:r.string().required().min(1).label("name").description("Attribute group name")}}}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name}},t.exports=n},function(t,e,i){var o=i(0);function r(t,e){this.id=e,this.attributeId=t,this.path="attribute/"+this.attributeId+"/option",this.createPath=this.path}r.prototype=new o,r.prototype.toArray=function(){return{optionname:this.option,optionorder:this.optionorder}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="extragroup",this.id=t,this.validSchema=function(){return{extragroup:r.string().required().label("Extra group"),description:r.string().required().label("Description")}}}n.prototype=new o,n.prototype.toArray=function(){return{extragroup:this.extragroup,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="category",this.createPath="category",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{category:this.category,description:this.description,bookingsminimum:this.bookingsminimum,bookingsmaximum:this.bookingsmaximum,andor:this.andor,bookingvalueminimum:this.bookingvalueminimum,bookingvaluemaximum:this.bookingvaluemaximum,period:this.period}},n.prototype.validSchema=function(){return r.object().keys({category:r.string().required().label("category"),description:r.string().required().label("description"),bookingsminimum:r.string().optional().allow("").label("bookingsminimum"),bookingsmaximum:r.string().optional().allow("").label("bookingsmaximum"),andor:r.string().required().allow(["or","and","either"]).label("andor"),bookingvalueminimum:r.string().optional().allow("").label("bookingvalueminimum"),bookingvaluemaximum:r.string().optional().allow("").label("bookingvaluemaximum"),period:r.string().optional().allow("").label("period")})},t.exports=n},function(t,e,i){var o=i(0),r=i(224);function n(t){this.path="category",this.createPath="category",this.id=t,this.category=new r}n.prototype=new o,n.prototype.toArray=function(){return{categoryid:this.category.id}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(227),a=i(144),s=i(5),c=i(229),p=i(230),h=i(383);function d(t){this.createPath=this.path="contactmethod",this.id=t,this.contactmethodtype=new n,this.language=new a,this.elements=new s({object:c,path:"element",parent:this}),this.attachments=new s({object:p,path:"attachment",parent:this}),this.brandings=new s({object:h,path:"branding",parent:this})}d.prototype=new r,d.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,description:this.description,excludestandardheader:this.excludestandardheader,excludestandardfooter:this.excludestandardfooter,contactmethodtypeid:this.contactmethodtype.id,languageid:this.language.id}},d.prototype.getRefPath=function(t){return"object"===typeof t?(t=t.id,[this.parent.path,this.parent.id,this.path,this.id,"ref",t].join("/")):"undefined"===typeof t?[this.parent.path,this.parent.id,this.path,this.id].join("/"):[this.parent.path,this.parent.id,this.path,this.id,"ref",t].join("/")},d.prototype.getLabel=function(){return this.toString()},d.prototype.toString=function(){var t=[this.language.name,this.contactmethodtype.method];return this.parent&&this.parent.templatename&&t.unshift(this.parent.templatename),t.join(" - ")},d.prototype.getRef=function(t){return o.get(this.getRefPath(t))},d.prototype.render=function(t){return o.get(this.getRefPath(t)+"/render")},d.prototype.preview=function(){return o.get(this.getRefPath()+"/preview")},d.prototype.getEmailContent=function(t){return o.get(this.getRefPath(t)+"/email")},d.prototype.send=function(t){return o.put(this.getRefPath(t)+"/send")},d.prototype.optOut=function(t){return o.put(this.getRefPath(t)+"/optout")},d.prototype.schedule=function(t,e){return o.put({path:this.getRefPath(t)+"/schedule",entity:{job:e}})},d.prototype.sendIfAvailable=function(t){return o.put(this.getRefPath(t)+"/sendifavailable")},d.prototype.save=function(t,e){return e.createPromiseResult(this.getRefPath(t)+"/save",{})},t.exports=d},function(t,e,i){var o=i(0),r=i(216),n=i(5),a=i(228);function s(t){this.path="contactmethodtype",this.createPath=this.path,this.id=t,this.characterlimit=0,this.maximumaddresslength="",this.addressvalidationtype="",this.addressvalidation="",this.encoding=new r,this.elements=new n({object:a,parent:this,path:"element"})}s.prototype=new o,s.prototype.toArray=function(){return{method:this.method,encoding:this.encoding.encoding,characterlimit:this.characterlimit,maximumaddresslength:this.maximumaddresslength,addressvalidationtype:this.addressvalidationtype,addressvalidation:this.addressvalidation}},s.prototype.toUpdateArray=function(){var t=this.toArray();return delete t.method,t},t.exports=s},function(t,e,i){var o=i(0);function r(t){this.createPath=this.path="element",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{contactmethodelement:this.contactmethodelement,description:this.description}},t.exports=r},function(t,e,i){var o=i(0),r=i(4);function n(t){this.createPath=this.path="element",this.id=t,this.contactmethodelement=new r({entity:"ContactMethodElement"}),this.textitem=new r({entity:"TextItem"})}n.prototype=new o,n.prototype.toArray=function(){return{type:this.type,fromdate:this.fromdate,todate:this.todate,elementorder:this.elementorder,contactmethodelementid:this.contactmethodelement.id,textitemid:this.textitem.id,text:this.text,heightinmm:this.heightinmm}},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(46),a=i(5),s=i(231),c=i(382);function p(t){this.createPath=this.path="attachment",this.id=t,this.document=new n,this.templatecontactmethod=new r({entity:"TemplateContactMethod",parent:new r({entity:"Template"})}),this.properties=new a({object:s,path:"property",parent:this}),this.brandings=new a({object:c,path:"branding",parent:this})}p.prototype=new o,p.prototype.toArray=function(){return this.document.id?{documentid:this.document.id}:this.templatecontactmethod.id?{templatecontactmethodid:this.templatecontactmethod.id}:{}},t.exports=p},function(t,e,i){var o=i(0),r=i(82),n=i(2);function a(t){this.createPath=this.path="property",this.id=t,this.property=new r,this.validSchema=function(){return{property:n.object().required().label("Property")}}}a.prototype=new o,a.prototype.toArray=function(){return{propertyid:this.property.id}},t.exports=a},function(t,e,i){var o=i(0),r=i(147),n=i(31),a=i(5),s=i(94),c=i(4),p=i(114),h=i(150);function d(t){this.path="price",this.createPath=this.path,this.id=t,this.currency=new n,this.pricetypebranding=new r,this.partysizeprices=new a({object:s,parent:this}),this.propertybranding=new c({entity:"PropertyBranding"}),this.yearpriceband=new h,this.pricetypebranding.mutateResponse=function(t){var e=this.mutateEntity(t);return e.parent=e.pricetype,e}}d.prototype=new o,d.prototype.toArray=function(){return{type:this.type,fromdate:this.fromdate,todate:this.todate,partysizefrom:this.partysizefrom,partysizeto:this.partysizeto,price:this.price,pricebandid:this.priceband&&this.priceband.id,band:this.band,description:this.description,currencycode:this.currency.code,pricetypebrandingid:this.pricetypebranding.id,updateallbrands:this.updateallbrands,updatematchingbands:this.updatematchingbands}},d.prototype.getDayPrice=function(t,e){var i,o="-";if(t<7&&(i=this.pricetypebranding.percentages.findOne(function(e){return e.pricetype.periods==t}))&&(o=i.price,i.overrides.collection.length)){var r=i.overrides.findOne(function(t){return p(e).isBetween(t.fromdate,t.todate,null,"[)")});r&&(o=r.price)}return o},t.exports=d},function(t,e,i){var o=i(0),r=i(31),n=i(4),a=i(5),s=i(94);function c(t){this.path="price",this.createPath="price",this.id=t,this.currency=new r,this.pricetypebranding=new n({entity:"PriceTypeBranding"}),this.partysizeprices=new a({object:s,path:"reducedoccupancyprice",parent:this})}c.prototype=new o,c.prototype.toArray=function(){return{type:"Override",fromdate:this.fromdate,todate:this.todate,price:this.price,band:this.band,description:this.description,currencycode:this.currency.code,pricetypebrandingid:this.pricetypebranding.id,updateallbrands:this.updateallbrands,updatematchingbands:this.updatematchingbands}},t.exports=c},function(t,e,i){var o=i(0),r=i(113),n=i(235);function a(t){this.path="partysizeprice",this.createPath=this.path,this.id=t,this.partysizepricing=new r,this.partysizepricetype=new n}a.prototype=new o,a.prototype.toArray=function(){return{partysizepricingid:this.partysizepricing.id,price:this.price,partysizepricetype:this.partysizepricetype,useasbase:this.useasbase}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="partysizepricetype",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{partysizepricetype:this.partysizepricetype}},t.exports=r},function(t,e,i){var o=i(2),r=i(0),n=i(115),a=i(68);function s(t,e,i){this.path="extra/"+t+"/branding/"+e+"/configuration",this.createPath=this.path,this.id=i,this.pricingperiod=new n,this.vatband=new a}s.prototype=new r,s.prototype.toArray=function(){var t={fromdate:this.fromdate,todate:this.todate,bookingbookedfromdate:this.bookingbookedfromdate,bookingbookedtodate:this.bookingbookedtodate,pricingperiodid:this.pricingperiod&&this.pricingperiod.id,compulsory:this.compulsory?"true":"false",included:this.included?"true":"false",payagency:this.payagency?"true":"false",payowner:this.payowner?"true":"false",visibletoowner:this.visibletoowner?"true":"false",vatband:this.vatband,visibletocustomer:this.visibletocustomer?"true":"false",customerselectable:this.customerselectable?"true":"false",defaultquantity:this.defaultquantity,maximumquantity:this.maximumquantity,decimalplaces:this.decimalplaces,quantityoverrideallowed:this.quantityoverrideallowed?"true":"false",priceoverrideallowed:this.priceoverrideallowed?"true":"false",changesbrochureprice:this.changesbrochureprice?"true":"false",usepropertyprimarybranding:this.usepropertyprimarybranding?"true":"false",compulsoryontransfer:this.compulsoryontransfer?"true":"false",type:this.type,commissionpercentage:this.commissionpercentage,bookingreasonrequired:this.bookingreasonrequired?"true":"false",copyaction:this.copyaction};return this.customerpaymentfirstperiod?t.customerpaymentfirstperiod=this.customerpaymentfirstperiod:!1===this.customerpaymentfirstperiod&&(t.customerpaymentfirstperiod=!1),this.customerpaymentlastperiod?t.customerpaymentlastperiod=this.customerpaymentlastperiod:!1===this.customerpaymentlastperiod&&(t.customerpaymentlastperiod=!1),this.accountingdatedefinition&&this.accountingdatedefinition.id&&(t.accountingdatedefinitionid=this.accountingdatedefinition.id),t},s.prototype.toCreateArray=function(){var t=this.toArray();return t.propertyid=this.propertyid,t.copytoallbrands=this.copytoallbrands,t},s.prototype.toUpdateArray=function(){var t=this.toArray();return t.updateallbrands=this.updateallbrands,t},s.validSchema=o.object().keys({fromdate:o.string().required().label("from date"),todate:o.string().required().label("to date"),bookingbookedfromdate:o.string().required().label("booking booked from date"),bookingbookedtodate:o.string().required().label("booking booked to date"),pricingperiod:o.object().optional().label("Pricing period"),compulsory:o.boolean().required(),included:o.boolean().required(),payagency:o.boolean().required().label("pay agency"),payowner:o.boolean().required().label("pay owner"),visibletoowner:o.boolean().required().label("visible to owner"),vatband:o.string().required().label("VAT band"),visibletocustomer:o.boolean().required().label("visible to customer"),customerselectable:o.boolean().required().label("customer selectable"),defaultquantity:o.string().required().label("default quantity"),maximumquantity:o.string().required().label("maximum quantity"),decimalplaces:o.string().required().label("decimal places"),quantityoverrideallowed:o.boolean().required().label("quantity override allowed"),priceoverrideallowed:o.boolean().required().label("price override allowed"),changesbrochureprice:o.boolean().required().label("changes brochure price"),usepropertyprimarybranding:o.boolean().required().label("use property primary branding"),compulsoryontransfer:o.boolean().required().label("compulsory on transfer?"),type:o.string().required(),propertyid:o.when("type",{is:"PropertyBrandExtraConfiguration",then:o.number().required(),otherwise:o.forbidden()}),accountingdatedefinition:o.object().optional().label("Accounting Date Definition"),copytoallbrands:o.boolean().label("copy to all brands"),updateallbrands:o.boolean().label("update all brands"),copyaction:o.string().label("update all brands"),commissionpercentage:o.any().optional().label("commission percentage"),customerpaymentfirstperiod:o.boolean().optional().label("customer payment first period"),customerpaymentlastperiod:o.boolean().optional().label("customer payment last period"),bookingreasonrequired:o.boolean().label("booking reason required")}),t.exports=s},function(t,e,i){var o=i(2),r=i(0),n=i(5),a=i(31);function s(t,e,i){this.path="extra/"+t+"/branding/"+e+"/pricing",this.createPath=this.path,this.id=i,this.currency=new a,this.dailyprices=new n({object:a})}s.prototype=new r,s.prototype.toCreateArray=function(){var t={pricingperiod:this.pricingperiod,propertypricing:this.propertypricing,propertyid:this.propertyid,fromdate:this.fromdate,todate:this.todate,bookingbookedfromdate:this.bookingbookedfromdate,bookingbookedtodate:this.bookingbookedtodate,currencycode:this.currency.code,pricingtype:this.pricingtype,perperiod:this.perperiod,copytoallbrands:this.copytoallbrands};return"Amount"==this.pricingtype?(t.price=this.price,t.peradult=this.peradult,t.perchild=this.perchild,t.perinfant=this.perinfant):"Percentage"==this.pricingtype?(t.percentage=this.percentage,t.basedon=this.basedon,t.minimumprice=this.minimumprice,t.maximumprice=this.maximumprice):"Range"==this.pricingtype&&(t.basedon=this.basedon),t},s.prototype.toUpdateArray=function(){var t=this.toCreateArray();return t.updateallbrands=this.updateallbrands,delete t.pricingperiod,delete t.perperiod,t},s.validSchema=o.object().keys({pricingtype:o.string().valid("Amount","Percentage","Range").label("pricing type"),pricingperiod:o.string().required().label("pricing period"),propertypricing:o.boolean().label("property pricing"),fromdate:o.string().required().label("holiday from date"),todate:o.string().required().label("holiday to date"),bookingbookedfromdate:o.string().label("booking booked from date"),bookingbookedtodate:o.string().label("booking booked to date"),currency:o.object().required().label("currency"),perperiod:o.boolean().label("per period"),peradult:o.when("pricingtype",{is:"Amount",then:o.boolean().label("per adult"),otherwise:o.forbidden()}),perchild:o.when("pricingtype",{is:"Amount",then:o.boolean().label("per child"),otherwise:o.forbidden()}),perinfant:o.when("pricingtype",{is:"Amount",then:o.boolean().label("per infant"),otherwise:o.forbidden()}),price:o.when("pricingtype",{is:"Amount",then:o.number().required().label("price"),otherwise:o.forbidden()}),percentage:o.when("pricingtype",{is:"Percentage",then:o.number().required().label("percentage"),otherwise:o.forbidden()}),minimumprice:o.when("pricingtype",{is:"Percentage",then:o.number().optional().label("minimum price"),otherwise:o.forbidden()}),maximumprice:o.when("pricingtype",{is:"Percentage",then:o.number().optional().label("maximum price"),otherwise:o.forbidden()}),basedon:o.when("pricingtype",{is:"Amount",then:o.forbidden(),otherwise:o.string().valid("Basic","Brochure").label("based on")}),copytoallbrands:o.boolean().label("copy to all brands"),updateallbrands:o.boolean().label("update all brands")}),t.exports=s},function(t,e,i){var o=i(0),r=i(239);function n(t){this.path="changedaytemplate",this.createPath=this.path,this.id=t,this.changedaytemplate=new r}n.prototype=new o,n.prototype.toArray=function(){return{changedaytemplateid:this.changedaytemplateid,fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(5),a=i(240);function s(t){this.path="changedaytemplate",this.createPath="changedaytemplate",this.id=t,this.owner=new r({entity:"Branding"}),this.rules=new n({object:a,path:"rule",parents:[this]})}s.prototype=new o,s.prototype.toArray=function(){var t={type:this.type,name:this.name,description:this.description,fromdate:this.fromdate,todate:this.todate};return"Branding"==this.type?(t.brandingid=this.brandingid,t.parentid=this.parentid):"Property"==this.type&&(t.propertybrandingid=this.propertybrandingid,t.parentid=this.parentid),this.ruleorders?{ruleorders:this.ruleorders}:t},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t,e){this.path="changedaytemplate/"+t+"/rule",this.createPath=this.path,this.id=e}n.prototype=new o,n.prototype.toArray=function(){var t={ruleorder:this.ruleorder,everysaturday:this.everysaturday,everysunday:this.everysunday,everymonday:this.everymonday,everytuesday:this.everytuesday,everywednesday:this.everywednesday,everythursday:this.everythursday,everyfriday:this.everyfriday,isfromdate:this.isfromdate,istodate:this.istodate,isnotfromdate:this.isnotfromdate,isnottodate:this.isnottodate,ispriceanchor:this.ispriceanchor,isnotpriceanchor:this.isnotpriceanchor,showonavailability:this.showonavailability,minimumholiday:this.minimumholiday,daysbeforeeaster:this.daysbeforeeaster,daysaftereaster:this.daysaftereaster,description:this.description};return this.maximumholiday?this.maximumholiday&&this.maximumholiday>0&&(t.maximumholiday=this.maximumholiday):t.maximumholiday=999,""!=this.fromdate&&(t.fromdate=this.fromdate),""!=this.todate&&(t.todate=this.todate),this.isfromdate||this.istodate?t.withindays=""!=this.withindays?this.withindays:0:t.withindays=0,""!=this.unlessholidayatleast&&(this.isfromdate||this.istodate||t.withindays<9999)?t.unlessholidayatleast=this.unlessholidayatleast:t.unlessholidayatleast=0,t},n.prototype.toUpdateArray=function(){var t={ruleorder:this.ruleorder,everysaturday:this.everysaturday,everysunday:this.everysunday,everymonday:this.everymonday,everytuesday:this.everytuesday,everywednesday:this.everywednesday,everythursday:this.everythursday,everyfriday:this.everyfriday,isfromdate:this.isfromdate,istodate:this.istodate,isnotfromdate:this.isnotfromdate,isnottodate:this.isnottodate,ispriceanchor:this.ispriceanchor,isnotpriceanchor:this.isnotpriceanchor,showonavailability:this.showonavailability,minimumholiday:this.minimumholiday,daysbeforeeaster:this.daysbeforeeaster,daysaftereaster:this.daysaftereaster,description:this.description};return this.maximumholiday?this.maximumholiday&&this.maximumholiday>0&&(t.maximumholiday=this.maximumholiday):t.maximumholiday=999,""!=this.fromdate&&(t.fromdate=this.fromdate),""!=this.todate&&(t.todate=this.todate),this.isfromdate||this.istodate?t.withindays=""!=this.withindays?this.withindays:0:t.withindays=0,""!=this.unlessholidayatleast&&(this.isfromdate||this.istodate||t.withindays<9999)?t.unlessholidayatleast=this.unlessholidayatleast:t.unlessholidayatleast=0,t},n.prototype.validSchema=function(){return r.object().keys({ruleorder:r.number().integer().required("rule order"),everysaturday:r.boolean().label("every Saturday"),everysunday:r.boolean().label("every Sunday"),everymonday:r.boolean().label("every Monday"),everytuesday:r.boolean().label("every Tuesday"),everywednesday:r.boolean().label("every Wednesday"),everythursday:r.boolean().label("every Thursday"),everyfriday:r.boolean().label("every Friday"),fromdate:r.string().allow("").optional().label("from date"),todate:r.string().allow("").optional().label("to date"),isfromdate:r.boolean().label("is from date"),istodate:r.boolean().label("is to date"),isnotfromdate:r.boolean().label("is not from date"),isnottodate:r.boolean().label("is not to date"),ispriceanchor:r.boolean().label("is price anchor"),isnotpriceanchor:r.boolean().label("is not price anchor"),withindays:r.number().allow("").optional().label("within days"),unlessholidayatleast:r.string().allow("").optional().label("unless holiday at least"),showonavailability:r.boolean().label("show on availability"),daysbeforeeaster:r.number().allow("").optional().label("days before Easter"),daysaftereaster:r.number().allow("").optional().label("days after Easter"),minimumholiday:r.number().allow("").optional().label("minimum holiday"),maximumholiday:r.number().allow("").optional().label("maximum holiday")})},t.exports=n},function(t,e,i){var o=i(0),r=i(147),n=i(5),a=i(94),s=i(4),c=i(150),p=i(114);function h(t){this.path="priceperiod",this.createPath=this.path,this.id=t,this.pricetypebranding=new r,this.partysizeprices=new n({object:a,parent:this}),this.propertybranding=new s({entity:"PropertyBranding"}),this.yearpriceband=new c,this.pricetypebranding.mutateResponse=function(t){var e=this.mutateEntity(t);return e.parent=e.pricetype,e}}h.prototype=new o,h.prototype.toArray=function(){return{level:this.level,fromdate:this.fromdate,todate:this.todate,propertybrandingid:this.propertybranding.id,pricetypebrandingfixedid:this.pricetypebranding.id,pricebandid:this.priceband&&this.priceband.id}},h.prototype.getDayPrice=function(t,e){var i,o="-";if(t<7&&(i=this.pricetypebranding.percentages.findOne(function(e){return e.pricetype.periods==t}))&&(o=i.price,i.overrides.collection.length)){var r=i.overrides.findOne(function(t){return p(e).isBetween(t.fromdate,t.todate,null,"[)")});r&&(o=r.price)}return o},t.exports=h},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="owner",this.createPath="owner",this.id=t,this.owner=new r({entity:"Owner"})}n.prototype=new o,n.prototype.toArray=function(){var t={ownerid:this.owner.id,ownerfromdate:this.ownerfromdate,ownertodate:this.ownertodate};return this.bypasschecks&&(t.bypasschecks=this.bypasschecks),this.recruitedbytabsuserid&&(t.recruitedbytabsuserid=this.recruitedbytabsuserid.id),this.forceoverwrite&&(t.forceoverwrite=this.forceoverwrite),t},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(156),a=i(5),s=i(244),c=i(245);function p(t){this.path="supplier",this.createPath="supplier",this.id=t,this.actor=new r({entity:"Actor"}),this.activity=new n,this.dates=new a({object:s,path:"daterange",parent:this}),this.services=new a({object:c,path:"service",parent:this})}p.prototype=new o,p.prototype.toArray=function(){return{actorid:this.actor.id,fromdate:this.fromdate,todate:this.todate,managedactivityid:this.activity.id}},t.exports=p},function(t,e,i){var o=i(0);function r(t){this.path="daterange",this.createPath="daterange",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},t.exports=r},function(t,e,i){var o=i(0),r=i(157),n=i(5),a=i(158),s=i(444),c=i(247),p=i(2);function h(t){this.path="service",this.createPath="service",this.id=t,this.service=new r,this.charges=new n({object:a,path:"charge",parent:this}),this.contracts=new n({object:s,path:"contract",parent:this}),this.events=new n({object:c,path:"bookingevent",parent:this})}h.prototype=new o,h.prototype.toUpdateArray=function(){var t={fromdate:this.fromdate,todate:this.todate,customerbookings:this.customerbookings,ownerbookings:this.ownerbookings,agencybookings:this.agencybookings,forceupdateservices:this.forceupdateservices};return this.datetouse&&(t.datetouse=this.datetouse),this.chargetype&&(t.chargetype=this.chargetype),t},h.prototype.toCreateArray=function(){var t=this.toUpdateArray();return t.serviceid=this.service.id,t},h.prototype.validSchema=function(){return p.object().keys({fromdate:p.string().required().label("Start Date"),todate:p.string().required().label("Finish Date"),service:p.object().required().label("Service"),customerbookings:p.boolean().required().label("Customer bookings"),ownerbookings:p.boolean().required().label("Owner bookings"),agencybookings:p.boolean().required().label("Agency bookings"),datetouse:p.string().optional().allow("").label("Date to Use"),chargetype:p.string().optional().allow("").label("Charge Type"),forceupdateservices:p.boolean().required().label("Force update services")})},t.exports=h},function(t,e,i){var o=i(0);function r(t){this.createPath=this.path="servicecontracttype",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{name:this.name,description:this.description,invoiceto:this.invoiceto}},t.exports=r},function(t,e,i){var o=i(0),r=i(248);function n(t){this.path="bookingevent",this.createPath="bookingevent",this.id=t,this.event=new r}n.prototype=new o,n.prototype.toArray=function(){return{bookingeventid:this.event.id,action:this.action}},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.createPath=this.path="bookingevent",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{event:this.event,description:this.description}},t.exports=r},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="office",this.createPath="office",this.id=t,this.office=new r({entity:"Office"})}n.prototype=new o,n.prototype.toArray=function(){return{officeid:this.office.id,fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(251),n=i(2);function a(t){this.path="securityfeature",this.createPath=this.path,this.id=t,this.securityfeature=new r}a.prototype=new o,a.prototype.toArray=function(){return{securityfeatureid:this.securityfeature.id,code:this.code,notes:this.notes,fromdate:this.fromdate,todate:this.todate}},a.prototype.validSchema=function(){return n.object().keys({securityfeature:n.object().label("Security Feature"),code:n.string().label("Code"),todate:n.allow("").optional().label("To Date"),fromdate:n.allow("").optional().label("From Date"),notes:n.allow("").optional().label("Notes")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="securityfeature",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name}},n.prototype.validSchema=function(){return r.object().keys({name:r.string().required().label("Name")})},n.prototype.toString=function(){return this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(253),n=i(2);function a(t){this.path="bedtype",this.createPath=this.path,this.id=t,this.bedtype=new r,this.validSchema=function(){return{bedtype:n.object().required().label("bedtype"),quantity:n.number().required().label("quantity")}}}a.prototype=new o,a.prototype.toArray=function(){return{bedtypeid:this.bedtype.id,quantity:this.quantity}},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="bedtype",this.createPath=this.path,this.id=t,this.validSchema=function(){return{bedtype:r.string().required().label("bed type"),sleepsadults:r.string().required().label("sleeps adults"),sleepschildren:r.string().required().label("sleeps children"),sleepsinfants:r.string().required().label("sleeps infants")}}}n.prototype=new o,n.prototype.toArray=function(){return{bedtype:this.bedtype,sleepsadults:this.sleepsadults,sleepschildren:this.sleepschildren,sleepsinfants:this.sleepsinfants}},n.prototype.toString=function(){return this.bedtype+" ("+[this.sleepsadults,this.sleepschildren,this.sleepsinfants].join(", ")+")"},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="target",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{year:this.year,daysbooked:this.daysbooked}},t.exports=r},function(t,e,i){var o=i(0),r=i(95),n=i(2);function a(t){this.path="tabsuser",this.createPath="tabsuser",this.id=t,this.tabsuser=new r}a.prototype=new o,a.prototype.toArray=function(){return{tabsuserid:this.tabsuser.id,fromdate:this.fromdate,todate:this.todate}},a.prototype.validSchema=function(){return n.object().keys({tabsuser:n.object().required().label("Tabs User"),fromdate:n.string().optional().label("fromdate"),todate:n.string().optional().label("todate")})},t.exports=a},function(t,e,i){var o=i(74),r=i(46);function n(t,e){this.path="customer/"+t+"/document",this.createPath="customer/"+t+"/document",this.document=new r,this.id=e}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){var e=i(32);this.path="potentialduplicate",this.createPath="potentialduplicate",this.id=t,this.actor1=new e,this.actor2=new e,this.processedby=new r({entity:"TabsUser"})}n.prototype=new o,n.prototype.toArray=function(){return{actorkept:this.actorkept,processedbytabsuserid:this.processedby.id,notduplicate:this.notduplicate,undomerge:this.undomerge}},t.exports=n},function(t,e,i){var o=i(0),r=i(97),n=i(4);function a(t){this.createPath="actornote",this.path="actornote",this.id=t,this.note=new r,this.actor=new n({entity:"Actor"})}a.prototype=new o,a.prototype.toArray=function(){return{actorid:this.actor.id,noteid:this.note.id}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="text",this.createPath="text",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{id:this.id,createdbyactorid:this.createdbyactorid,notetext:this.notetext,followupdatetime:this.followupdatetime,actioneddatetime:this.actioneddatetime,actionedbytabsuserid:this.actionedbytabsuserid}},r.prototype.toCreateArray=function(){var t={createdbyactorid:this.createdbyactorid,notetext:this.notetext,actioneddatetime:this.actioneddatetime,actionedbytabsuserid:this.actionedbytabsuserid};return this.followupdatetime&&(t.followupdatetime=this.followupdatetime),t},t.exports=r},function(t,e,i){var o=i(0),r=i(4);function n(t){this.createPath="actor",this.path="actor",this.id=t,this.actor=new r({entity:"Actor"})}n.prototype=new o,n.prototype.toArray=function(){return{actorid:this.actorid,notifychanges:this.notifychanges,reminderdate:this.reminderdate}},t.exports=n},function(t,e,i){var o=i(0),r=i(58);function n(t){this.path=this.createPath="branding",this.id=t,this.branding=new r}n.prototype=new o,n.prototype.toArray=function(){return{brandingid:this.branding.id,description:this.description,active:this.active}},t.exports=n},function(t,e,i){var o=i(0),r=i(63);function n(t){this.path=this.createPath="marketingbrand",this.id=t,this.marketingbrand=new r}n.prototype=new o,n.prototype.toArray=function(){return{marketingbrandid:this.marketingbrand.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(149);function n(t){this.path=this.createPath="saleschannel",this.id=t,this.saleschannel=new r}n.prototype=new o,n.prototype.toArray=function(){return{saleschannelid:this.saleschannel.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(265);function n(t){this.path=this.createPath="websitesection",this.id=t,this.websitesection=new r}n.prototype=new o,n.prototype.toArray=function(){return{websitesectionid:this.websitesection.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="websitesection",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{section:this.section}},n.prototype.toString=function(){return this.section},n.prototype.validSchema=function(){return r.object().keys({section:r.string().label("Section name")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="holidayperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){var t={id:this.id,fromdate:this.fromdate,todate:this.todate,donotsplit:this.donotsplit};return this.fixedprice&&(t.fixedprice=this.fixedprice),t},n.prototype.validSchema=function(){return r.object().keys({fromdate:r.string().required(),todate:r.string().required(),donotsplit:r.boolean().required()})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="bookingperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{id:this.id,fromdate:this.fromdate,todate:this.todate}},n.prototype.validSchema=function(){return r.object().keys({fromdate:r.string().required(),todate:r.string().required()})},t.exports=n},function(t,e,i){var o=i(0),r=i(141);function n(t){this.path=this.createPath="attribute",this.id=t,this.attribute=new r}n.prototype=new o,n.prototype.toArray=function(){return{attributeid:this.attribute.id,value:this.value,type:this.attribute.type,operator:this.operator}},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t,e){this.path="booking/"+t+"/customer",this.createPath="booking/"+t+"/customer",this.id=e,this.details=new r({entity:"Customer"})}n.prototype=new o,n.prototype.toArray=function(){return{customerid:this.customerid?this.customerid:this.details.id}},t.exports=n},function(t,e,i){var o=i(74),r=i(46);function n(t,e){this.path="booking/"+t+"/document",this.createPath="booking/"+t+"/document",this.document=new r,this.id=e}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="guest",this.createPath="guest",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{name:this.name,guesttype:this.guesttype,guestagerangeid:this.guestagerangeid,age:this.age,yearofbirth:this.yearofbirth,petbreed:this.petbreed,pettype:this.pettype,bookingcustomerid:this.bookingcustomerid}},t.exports=r},function(t,e,i){var o=i(2),r=i(0),n=i(47);function a(t){this.path=this.createPath="securitydeposit",this.id=t,this.ownerchargecode=new n}a.prototype=new r,a.prototype.toArray=function(){var t={amount:this.amount,dueindate:this.dueindate,dueoutdate:this.dueoutdate,ownerchargecodeid:this.ownerchargecode.id,ownerchargeamount:this.ownerchargeamount,notrefunded:this.notrefunded,note:this.note,refundingpaymentmethodid:!1,refundingpaymentbankaccountid:!1};return this.refundingpaymentmethod&&(t.refundingpaymentmethodid=this.refundingpaymentmethod.id),this.refundingbankaccount&&(t.refundingbankaccountid=this.refundingbankaccount.id),this.propertysecuritydeposit&&(t.propertysecuritydepositid=this.propertysecuritydeposit.id),t},a.prototype.validSchema=o.object().keys({amount:o.number().required(),dueindate:o.string().required().label("due in date"),dueoutdate:o.string().required().label("due out date"),ownerchargeamount:o.number().empty("").label("Owner Charge Amount"),ownerchargecode:o.object().when("ownerchargeamount",{is:o.number().required(),then:o.object().required(),otherwise:o.object().optional()}).label("Owner Charge Code"),notrefunded:o.boolean()}),t.exports=a},function(t,e,i){var o=i(164),r=i(296);function n(){o.apply(this,arguments),this.path="service",this.createPath="service",this.bookingservicecharge=new r}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="holiday",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="workingday",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{dayofweek:this.dayofweek,fromtime:this.fromtime,totime:this.totime}},t.exports=r},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="accountvaluetype",this.createPath="accountvaluetype",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{valuetype:this.valuetype,description:this.description}},n.prototype.validSchema=function(){return o.object().keys({valuetype:o.string().required().label("valuetype"),description:o.string().required().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="accountingdatedefinition",this.createPath="accountingdatedefinition",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({name:r.string().optional().label("name"),description:r.string().required().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="accountingperiod",this.createPath="accountingperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,startdate:this.startdate,enddate:this.enddate,closeddate:this.closeddate}},n.prototype.validSchema=function(){return r.object().keys({name:r.string().required().label("name"),startdate:r.date().required().label("start date"),enddate:r.date().required().label("end date"),closeddate:r.date().label("closed date")})},n.prototype.toString=function(){return this.name},t.exports=n},function(t,e,i){var o=i(0),r=i(63),n=i(118),a=i(4),s=i(2);function c(t){this.path="contactdetailpermission",this.createPath=this.path,this.id=t,this.marketingbrand=new r,this.contactdetail=new n,this.grantedbyactor=new a({entity:"Actor"}),this.revokedbyactor=new a({entity:"Actor"}),this.validSchema=function(){return{marketingbrand:s.object().required().label("Marketing brand"),contactdetail:s.object().required().label("Contact detail"),grantpermission:s.boolean().required().label("Grant marketing permission?").description("Tick this box to grant marketing permission for this person")}}}c.prototype=new o,c.prototype.toArray=function(){return{contactdetailid:this.contactdetail.id,marketingbrandid:this.marketingbrand.id,grantedbyactorid:this.grantedbyactor.id,revokedbyactorid:this.revokedbyactor.id}},t.exports=c},function(t,e,i){var o=i(1016),r=i(0),n=i(5),a=i(117);function s(t){this.id=t,this.path=this.createPath="phonenumber",this.contactpreferences=new n({object:a,path:"contactpreference",parent:this})}s.prototype=new r,s.prototype.toArray=function(){return{contactmethodtype:this.contactmethodtype,contactmethodsubtype:this.contactmethodsubtype,countrycode:this.countrycode,subscribernumber:this.subscribernumber,extension:this.extension,comment:this.comment,invalid:this.invalid,invaliddatetime:this.invaliddatetime,invalidreason:this.invalidreason}},s.prototype.parse=function(t){return t||"44"!=this.countrycode||(t="GB"),o.parse("+"+this.countrycode+this.subscribernumber,t)},s.prototype.getFormattedNumber=function(t){var e=this.parse(t);if(t=t||"GB",e.country)var i=o.format(e,e.country===t?"National":"International");return i||(i="+"+this.countrycode+" "+this.subscribernumber),this.extension&&(i=i+" ext. "+this.extension),i},s.prototype.getE164Number=function(){var t=o.parse("+"+this.countrycode+this.subscribernumber);return o.format(t,"E.164")},s.prototype.getRfc3966Uri=function(){try{var t=o.parse("+"+this.countrycode+this.subscribernumber);return o.format(t,"RFC3966")}catch(e){return"+"+this.countrycode+this.subscribernumber}},t.exports=s},function(t,e,i){var o=i(32),r=i(99),n=i(69),a=i(95),s=i(98),c=i(75),p=i(282);t.exports=function(t){return"customer"===t?r.bind(void 0):"owner"===t?n.bind(void 0):"tabsuser"===t?a.bind(void 0):"supplier"===t?s.bind(void 0):"agency"===t?c.bind(void 0):"office"===t?p.bind(void 0):o.bind(void 0)}},function(t,e,i){var o=i(32);function r(){this.path="office",this.createPath="office",o.apply(this,arguments)}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(156);function n(t){this.path="managedactivity",this.createPath=this.path,this.id=t,this.managedactivity=new r}n.prototype=new o,n.prototype.getCreatePath=function(){return["actor",this.parent.id,this.path].join("/")},n.prototype.getUpdatePath=function(){return["actor",this.parent.id,this.path,this.id].join("/")},n.prototype.toArray=function(){return{managedactivityid:this.managedactivityid,fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="program",this.createPath="program",this.id=t,this.validSchema=function(){var t={programname:r.string().required().label("Name"),description:r.string().required().label("Description"),fromdate:r.date().required().label("From date")};return this.fromdate&&(t.todate=r.date().optional().label("To date")),t.ownerapprovalrequired=r.boolean().required().label("owner approval required?"),t.propertyapprovalrequired=r.boolean().required().label("property approval required?"),t.actionrequiredonapproval=r.boolean().required().label("action required on approval?"),!0===this.actionrequiredonapproval&&(t.approvalactiondescription=r.string().required().label("approval action description")),t.actionrequiredonrejection=r.boolean().required().label("action required on rejection?"),!0===this.actionrequiredonrejection&&(t.rejectionactiondescription=r.string().required().label("rejection action description")),t}}n.prototype=new o,n.prototype.toArray=function(){return{programname:this.programname,description:this.description,fromdate:this.fromdate,todate:this.todate,ownerapprovalrequired:this.ownerapprovalrequired,propertyapprovalrequired:this.propertyapprovalrequired,actionrequiredonapproval:this.actionrequiredonapproval,actionrequiredonrejection:this.actionrequiredonrejection,approvalactiondescription:this.approvalactiondescription,rejectionactiondescription:this.rejectionactiondescription}},t.exports=n},function(t,e,i){var o=i(0),r=i(119),n=i(168),a=i(2);function s(t){this.path="actorsecurity",this.createPath="actorsecurity",this.id=t,this.securityrole=new r,this.securitygroup=new n}s.prototype=new o,s.prototype.toArray=function(){var t={actorid:this.actor.id,type:this.type};return"Role"==this.type?t.securityroleid=this.securityrole.id:"Group"==this.type&&(t.securitygroupid=this.securitygroup.id),t},s.validSchema=a.object().keys({actor:a.object().required().label("Actor"),type:a.string().valid("Role","Group").label("type"),securityrole:a.when("type",{is:"Role",then:a.object().required().label("role"),otherwise:a.forbidden()}),securitygroup:a.when("type",{is:"Group",then:a.object().required().label("group"),otherwise:a.forbidden()})}),t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="setting",this.createPath="setting",this.id=t,this.getDecodedValue=function(){if(this.value)return"string"!==typeof this.value||"{"!==this.value.slice(0,1)&&"["!==this.value.slice(0,1)?this.value:JSON.parse(this.value)}}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,value:this.value}},n.validSchema=r.object().keys({name:r.string().required().label("Name"),value:r.string().required().label("Value")}),t.exports=n},function(t,e,i){var o=i(2),r=i(0);function n(t){this.id=t,this.path="apikey",this.createPath="apikey"}n.prototype=new r,n.prototype.validSchema=function(){return o.object().keys({apikey:o.string().label("API key")})},n.prototype.toArray=function(){return{apikey:this.apikey}},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(84);function a(t){this.path="blockperiod",this.createPath="blockperiod",this.id=t,this.bookingbrand=new n}a.prototype=new r,a.prototype.validSchema=function(){return o.object().keys({fromdate:o.date(),todate:o.date(),bookingbrand:o.object()})},a.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,bookingbrandid:this.bookingbrand.id}},t.exports=a},function(t,e,i){var o=i(2),r=i(0),n=i(82);function a(t){this.path="propertyblockperiod",this.createPath="propertyblockperiod",this.id=t,this.property=new n}a.prototype=new r,a.prototype.validSchema=function(){return o.object().keys({fromdate:o.date(),todate:o.date(),property:o.object()})},a.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,propertyid:this.property.id}},t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(93);function a(t){this.path="bankaccount",this.createPath="bankaccount",this.id=t,this.address=new n}a.prototype=new o,a.prototype.toArray=function(){var t={accountnumber:this.accountnumber,accountname:this.accountname,bankname:this.bankname,sortcode:this.sortcode,paymentreference:this.paymentreference,rollnumber:this.rollnumber};return this.address.line1&&(t.address_line1=this.address.line1,t.address_line2=this.address.line2,t.address_line3=this.address.line3,t.address_town=this.address.town,t.address_county=this.address.county,t.address_postcode=this.address.postcode,t.address_countryalpha2code=this.address.country.alpha2,t.address_latitude=this.address.latitude,t.address_longitude=this.address.longitude),this.currency&&this.currency.id&&(t.currencyid=this.currency.id),t},a.prototype.getSchema=function(){return{accountname:r.string().empty("").max(40).label("Account Name"),accountnumber:r.string().required().min(6).max(10).label("Account Number"),sortcode:r.string().required().length(6).label("Sort Code"),bankname:r.string().empty("").max(30).label("Bank Name"),paymentreference:r.string().allow("").optional().max(18).label("Payment reference"),rollnumber:r.string().allow("").optional().max(18).label("Roll Number")}},a.prototype.validSchema=function(){var t=this.getSchema();return t.address=r.object().optional(),t.currency=r.object().optional(),r.object().keys(t)},t.exports=a},function(t,e,i){var o=i(0),r=i(97),n=i(4);function a(t){this.createPath="bookingnote",this.path="bookingnote",this.id=t,this.booking=new n({entity:"Booking"}),this.note=new r}a.prototype=new o,a.prototype.toArray=function(){return{bookingid:this.booking.id,noteid:this.note.id}},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.path="payment",this.createPath="payment",this.id=t,this.actor=new r({entity:"Actor"}),this.madeby=new r({entity:"TabsUser"})}a.prototype=new o,a.prototype.toCreateArray=function(){var t={type:this.type,paymentdatetime:this.paymentdatetime,amount:this.amount,ignoresdrefundeddate:!0,ignorerefundableflag:this.ignorerefundableflag};return"Swap"!=this.type&&"Transfer"!=this.type&&(t.actorid=this.actor.id),"BookingAndSecurityDeposit"==this.type&&(t.bookingamount=this.bookingamount,t.securitydepositamount=this.securitydepositamount),t};var s=n.object().required();a.validSchema=n.object().keys({type:n.string().valid("Booking","SecurityDeposit","BookingAndSecurityDeposit","Swap","Transfer").label("payment type"),paymentdatetime:n.string().optional().label("payment date time"),amount:n.number().required().label("amount"),ignorerefundableflag:n.boolean().optional().label("ignore refundable flag"),bookingamount:n.when("type",{is:"BookingAndSecurityDeposit",then:n.number().required().label("booking amount"),otherwise:n.forbidden()}),securitydepositamount:n.when("type",{is:"BookingAndSecurityDeposit",then:n.number().required().label("sd amount"),otherwise:n.forbidden()}),actor:n.when("type",{is:"Booking",then:s,otherwise:n.when("type",{is:"SecurityDeposit",then:s,otherwise:n.when("type",{is:"BookingAndSecurityDeposit",then:s,otherwise:n.forbidden()})})})}),t.exports=a},function(t,e,i){var o=i(0),r=i(4);function n(t,e){this.path="property",this.createPath="property",this.id=e,this.details=new r({entity:"Property"})}n.prototype=new o,n.prototype.toArray=function(){return{propertyid:this.propertyid?this.propertyid:this.details.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(67),n=i(5),a=i(2);function s(t){this.path="bookingreason",this.createPath="bookingreason",this.id=t,this.extras=new n({object:r,path:"extra"})}s.prototype=new o,s.prototype.toArray=function(){return{bookingreason:this.bookingreason}},s.prototype.validSchema=function(){return a.object().keys({bookingreason:a.string().required().label("Booking Reason")})},t.exports=s},function(t,e,i){var o=i(0),r=i(116),n=i(159),a=i(160),s=i(2);function c(t){this.path="room",this.createPath=this.path,this.id=t,this.roomtype=new r,this.room=new n,this.propertyroomtype=new a,this.validSchema=function(){return{propertyroomtype:s.object().required().label("Property Room Type")}}}c.prototype=new o,c.prototype.mutateResponse=function(t){return t.roomroomtype&&(this.propertyroomtype.id=parseInt(t.roomroomtype.split("/").pop()),this.propertyroomtype.roomtype=this.roomtype),this.mutateEntity(t)},c.prototype.toArray=function(){return{roomroomtypeid:this.propertyroomtype.id}},t.exports=c},function(t,e,i){var o=i(0);function r(t){this.id=t,this.path="charge",this.createPath=this.path}r.prototype=new o,r.prototype.toArray=function(){return{charge:this.charge,currencyid:this.currencyid,perperiod:this.perperiod,includesvat:this.includesvat,vatbandid:this.vatbandid,ownerchargecodeid:this.ownerchargecodeid}},t.exports=r},function(t,e,i){var o=i(0),r=i(298);function n(t){this.path="vehicle",this.createPath=this.path,this.id=t,this.vehicle=new r}n.prototype=new o,n.prototype.toArray=function(){return{vehicleid:this.vehicleid}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="vehicle",this.createPath=this.path,this.id=t,this.validSchema=function(){return{registration:r.string().min(4).label("registration").required(),make:r.string().label("make").allow("").optional(),model:r.string().label("model").allow("").optional(),colour:r.string().allow("").label("colour"),comments:r.string().allow("").label("comments")}}}n.prototype=new o,n.prototype.toArray=function(){return{make:this.make,model:this.model,registration:this.registration,colour:this.colour,comments:this.comments}},t.exports=n},function(t,e,i){var o=i(0),r=i(300),n=i(2);function a(t){this.path="voucher",this.createPath="voucher",this.id=t,this.voucher=new r,this.validSchema=function(){return{bookingamount:n.number().optional().label("booking amount").description("Optional booking amount.  Leave blank if you want tabs to use the full amount on the booking and any remainder allocated to a damage deposit.Any further remaining voucher balance will be used in creating a new voucher for the customer."),securitydepositamount:n.number().optional().label("security deposit amount").description("Optional booking damage deposit amount."),voucher:n.object().required().label("voucher")}}}a.prototype=new o,a.prototype.toArray=function(){var t={bookingamount:this.bookingamount,securitydepositamount:this.securitydepositamount,voucher_useddatetime:this.voucher_useddatetime,voucher_usedbyactorid:this.voucher_usedbyactorid};return this.voucher.id&&(t.voucherid=this.voucher.id),t},t.exports=a},function(t,e,i){var o=i(0),r=i(5),n=i(4),a=i(301),s=i(302),c=i(303),p=i(304),h=i(2);function d(t){this.id=t,this.path="voucher",this.createPath="voucher",this.vouchersource=new p(3),this.bookingperiods=new r({object:a,path:"bookingperiod",parent:this}),this.holidayperiods=new r({object:s,path:"holidayperiod",parent:this}),this.restrictions=new r({object:c,path:"restriction",parent:this}),this.paidforbyactor=new n({entity:"Customer"}),this.forusebyactor=new n({entity:"Customer"}),this.usedbyactor=new n({entity:"Customer"}),this.createdbyactor=new n({entity:"Actor"}),this.cancelledbyactor=new n({entity:"Actor"}),this.booking=new n({entity:"Booking"}),this.frombooking=new n({entity:"Booking"}),this.vouchersource=new n({entity:"VoucherSource"}),this.validSchema=function(){var t={value:h.number().required().label("voucher value"),paidforbyactor:h.object().required().label("paid for by").description("Who the voucher is paid for by.  Normally this will be the current customer."),forusebyactor:h.object().optional().label("for use by").description("Who the voucher is to be used by.  Normally this will be the current customer."),vouchersource:h.object().required().label("voucher source").description("Where the voucher was used.")};return this.id||(t.bookingperiod_fromdate=h.date().required().label("booking period from date").description("The start of the period which this voucher can be used in."),this.bookingperiod_fromdate&&(t.bookingperiod_todate=h.date().required().label("booking period to date").description("The end of the period which this voucher can be used in.")),t.holidayperiod_fromdate=h.date().required().label("holiday period from date").description("The start of the holiday period which this voucher is applicable to."),this.holidayperiod_fromdate&&(t.holidayperiod_todate=h.date().required().label("holiday period to date").description("The end of the holiday period which this voucher is applicable to.")),t.restriction_type=h.any().allow(["No restriction","Property","BookingBrand"]).label("restriction type").description("Choose either No Restriction, Property or Booking Brand restrictions. No restriction will mean the voucher will be applicable to any booking."),"BookingBrand"===this.restriction_type?t.restriction_bookingbrand=h.object().required().label("booking brand"):"Property"===this.restriction_type&&(t.restriction_property=h.object().required().label("property"))),t}.bind(this),this.validExpirySchema=function(){return{expirydate:h.date().required().label("Voucher expiry date").description("The date the voucher expires.")}}}d.prototype=new o,d.prototype.toArray=function(){var t={value:this.value,cancelleddatetime:this.cancelleddatetime,expirydate:this.expirydate};return["paidforbyactor","forusebyactor","usedbyactor","createdbyactor","cancelledbyactor","frombooking"].forEach(function(e){this[e].id&&(t[e+"id"]=this[e].id)}.bind(this)),this.id||(t.bookingperiod_fromdate=this.bookingperiod_fromdate,t.bookingperiod_todate=this.bookingperiod_todate,t.holidayperiod_fromdate=this.holidayperiod_fromdate,t.holidayperiod_todate=this.holidayperiod_todate,["Property","BookingBrand"].indexOf(this.restriction_type)>=0&&(t.restriction_type=this.restriction_type,this.restriction_bookingbrand&&(t.restriction_bookingbrandid=this.restriction_bookingbrand.id),this.restriction_property&&(t.restriction_propertyid=this.restriction_property.id)),t.vouchersourceid=this.vouchersource.id),t},d.prototype.toString=function(){return"Unique code: "+this.guid},t.exports=d},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="bookingperiod",this.createPath="bookingperiod",this.id=t,this.validSchema=function(){return{fromdate:r.date().required().label("from date"),todate:r.date().required().label("to date")}}}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="holidayperiod",this.createPath="holidayperiod",this.id=t,this.validSchema=function(){return{fromdate:r.date().required().label("from date"),todate:r.date().required().label("to date")}}}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.path="restriction",this.createPath="restriction",this.id=t,this.property=new r({entity:"Property"}),this.bookingbrand=new r({entity:"BookingBrand"}),this.type="Property",this.validSchema=function(){var t={};return this.id||(t.type=n.any().allow(["Property","BookingBrand"]).label("restriction type")),"property"===this.type.toLowerCase()?t.property=n.object().required().label("property"):"bookingbrand"===this.type.toLowerCase()&&(t.bookingbrand=n.object().required().label("booking brand")),t}}a.prototype=new o,a.prototype.toArray=function(){var t={type:this.type};return this.property.id&&(t.propertyid=this.property.id),this.bookingbrand.id&&(t.bookingbrandid=this.bookingbrand.id),t},t.exports=a},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="vouchersource",this.createPath="vouchersource",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{vouchersource:this.vouchersource,description:this.description,refundable:this.refundable}},n.prototype.toString=function(){return this.vouchersource},n.prototype.validSchema=function(){return o.object().keys({vouchersource:o.string().required().label("vouchersource"),description:o.string().required().label("description"),refundable:o.boolean().required().label("refundable")})},t.exports=n},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="brandsource",this.createPath="brandsource",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{BrandSource:this.BrandSource,description:this.description}},n.prototype.validSchema=function(){return o.object().keys({brandsource:o.string().label("BrandSource"),description:o.string().required().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(63),n=i(2);function a(t){this.path=this.createPath="brochure",this.id=t,this.marketingbrand=new r,this.validSchema=function(){return{name:n.string().required().min(1).label("name").description("Brochure name"),marketingbrand:n.object().required().label("Marketing brand").description("The marketing brand this brochure represents"),year:n.number().required().label("Year").description("Year of publication"),availablefromdate:n.date().required().label("Available to order from"),orderfromdate:n.date().required().label("Able to order from"),ordertodate:n.date().required().label("Able to order to"),weight:n.number().required().label("Weight").description("Weight of brochure"),cost:n.number().required().label("Cost").description("Cost of brochure"),code:n.string().required().label("Brochure Code")}}}a.prototype=new o,a.prototype.toArray=function(){return{name:this.name,marketingbrandcode:this.marketingbrand.code,year:this.year,orderfromdate:this.orderfromdate,ordertodate:this.ordertodate,availablefromdate:this.availablefromdate,weight:this.weight,cost:this.cost,code:this.code}},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="cancellationreasongroup",this.id=t,this.validSchema=function(){return{groupname:r.string().required().label("CancellationReason group")}}}n.prototype=new o,n.prototype.toArray=function(){return{groupname:this.groupname}},t.exports=n},function(t,e,i){var o=i(0),r=i(32),n=i(4);function a(){this.actor=new r,this.path="history"}a.prototype=new o,a.prototype.toArray=function(){return{actor:this.actor,client:this.client,datetime:this.datetime,description:this.description,parameters:this.parameters}},a.prototype.mutateResponse=function(t){if(t.entity&&t.entity.route){var e=new n({entity:t.entity.type});this[t.entity.type.toLowerCase()]=e.factory(t.entity.route)}return this.mutateEntity(t)},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.path="channel",this.createPath=this.path,this.id=t,this.affiliate=new r({entity:"Affiliate"})}a.prototype=new o,a.prototype.toArray=function(){return{channelreference:this.channelreference,channelname:this.channelname}},a.prototype.validSchema=function(){return n.object().keys({channelreference:n.string().label("channelreference"),channelname:n.string().label("channelname")})},t.exports=a},function(t,e,i){var o=i(0),r=i(311),n=i(2);function a(t,e,i){this.path="channel/"+t+"/setting/"+e+"/value",this.createPath=this.path,this.id=i,this.channelsetting=new r}a.prototype=new o,a.prototype.toArray=function(){var t={value:this.value};return this.agency&&(t.agencyid=this.agency.id),this.branding&&(t.brandingid=this.branding.id),this.channelpropertybranding&&(t.channelpropertybrandingid=this.channelpropertybranding.id),t},a.prototype.validSchema=function(){return n.object().keys({value:n.string().label("value")})},t.exports=a},function(t,e,i){var o=i(0),r=i(312),n=i(2);function a(t){this.path="setting",this.createPath=this.path,this.id=t,this.channelsettingtype=new r}a.prototype=new o,a.prototype.toArray=function(){return{channelsettingtypeid:this.channelsettingtype.id}},a.prototype.validSchema=function(){return n.object().keys({channelsettingtype:n.object().label("channelsettingtype")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="channelsettingtype",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{channelsettingtype:this.channelsettingtype,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({channelsettingtype:r.string().label("channelsettingtype"),description:r.string().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(172),n=i(2);function a(t){this.path="informationcategory",this.id=t,this.informationcategory=new r}a.prototype=new o,a.prototype.toArray=function(){return{informationcategoryid:this.informationcategory.id,updateddatetime:this.updateddatetime,pusheddatetime:this.pusheddatetime,processing:this.processing}},a.prototype.validSchema=function(){return n.object().keys({informationcategory:n.object().label("informationcategory"),updateddatetime:n.date().label("updateddatetime"),pusheddatetime:n.date().label("pusheddatetime"),processing:n.boolean().label("processing")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(4),a=i(315),s=i(316);function c(t){this.path="complaint",this.createPath="complaint",this.id=t,this.booking=new n({entity:"Booking"}),this.customer=new n({entity:"Customer"}),this.source=new a,this.reason=new s}c.prototype=new o,c.prototype.validSchema=function(){return{booking:r.object().required().label("Booking"),customer:r.object().optional().label("Customer"),complaintsource:r.object().required().label("Complaint Source"),complaintreason:r.object().required().label("Complaint Reason"),complaintdetails:r.string().required().label("Complaint Detail"),visibletoowner:r.boolean().optional().label("Visible to Owner")}},c.prototype.toArray=function(){var t={bookingid:this.booking.id,complaintsourceid:this.complaintsource.id,complaintreasonid:this.complaintreason.id,complaintdetails:this.complaintdetails,visibletoowner:this.visibletoowner};return this.customer&&this.customer.id&&(t.customerid=this.customer.id),t},c.prototype.toUpdateArray=function(){console.log(this);var t={bookingid:this.booking.id,complaintsourceid:this.source.id,complaintreasonid:this.reason.id,complaintdetails:this.details,visibletoowner:this.visibletoowner};return this.customer&&this.customer.id&&(t.customerid=this.customer.id),this.complaintstatus&&this.complaintstatus.id&&(t.complaintstatusid=this.complaintstatus.id),t},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="complaintsource",this.createPath="complaintsource",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{complaintsource:r.string().required().label("Complaint Source"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{complaintsource:this.complaintsource,description:this.description}},n.prototype.toString=function(){return this.complaintsource},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="complaintreason",this.createPath="complaintreason",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{complaintreason:r.string().required().label("Complaint Reason"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{complaintreason:this.complaintreason,description:this.description}},n.prototype.toString=function(){return this.complaintreason},t.exports=n},function(t,e,i){var o=i(0),r=i(2),n=i(67);function a(t){this.path="complaintdiscountextra",this.createPath="complaintdiscountextra",this.id=t,this.extra=new n}a.prototype=new o,a.prototype.validSchema=function(){return{type:r.string().valid("Agency","Owner").label("type"),fromdate:r.string().required().label("from date"),todate:r.string().required().label("to date"),extra:r.object().required().label("extra")}},a.prototype.toArray=function(){return{type:this.type,fromdate:this.fromdate,todate:this.todate,extraid:this.extra.id}},t.exports=a},function(t,e,i){var o=i(74);t.exports=o},function(t,e,i){var o=i(0);function r(t){this.createPath="entity",this.path="entity",this.id=t}r.prototype=new o,r.prototype.toCreateArray=function(){var t={contactentitytype:this.contactEntityType,entityid:this.entityid,function:this.function,contactdetailid:this.contactdetailid,intermediary:this.intermediary,reference:this.reference,perform_send:this.perform_send};return this.perform_send||(t.status_status=this.status_status,t.status_statusdatetime=this.status_statusdatetime,t.status_detail=this.status_detail),this.createdbyactorid&&(t.createdbyactorid=this.createdbyactorid),t},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="contactreason",this.createPath="contactreason",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{contactreason:r.string().required().label("Contact Reason"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{contactreason:this.contactreason,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(142);function n(t){this.path=this.createPath="emaillist",this.id=t,this.marketingbrandemaillist=new r}n.prototype=new o,n.prototype.toArray=function(){return{marketingbrandemaillistid:this.marketingbrandemaillist.id,unsubscribed:this.unsubscribed}},t.exports=n},function(t,e,i){var o=i(0),r=i(323);function n(t){this.path=this.createPath="source",this.id=t,this.source=new r}n.prototype=new o,n.prototype.toArray=function(){return{sourceid:this.source.id,sourcedate:this.sourcedate}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(324),a=i(171),s=i(2);function c(t){this.path="source",this.createPath="source",this.id=t,this.sourcecategory=new n,this.sourcemarketingbrands=new r({object:a,path:"marketingbrand",parent:this}),this.validSchema=function(){return{sourcecode:s.string().required().label("Source code"),description:s.string().required().label("Description"),sourcecategory:s.object().required().label("Source Category"),showonweb:s.boolean().required().label("Show on web")}}}c.prototype=new o,c.prototype.toArray=function(){return{sourcecode:this.sourcecode,description:this.description,sourcecategory:this.sourcecategory.sourcecategory,showonweb:this.showonweb}},c.prototype.toString=function(){return this.sourcecode+" ("+this.description+")"},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="sourcecategory",this.createPath="sourcecategory",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{sourcecategory:this.sourcecategory}},n.prototype.validSchema=function(){return r.object().keys({sourcecategory:r.string().required().label("Source Category")})},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="paymentmethodtype",this.createPath="paymentmethodtype",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{paymentmethodtype:this.paymentmethodtype}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="depositamounttype",this.createPath="depositamounttype",this.id=t,this.validSchema=function(){return{depositamounttype:r.string().required().label("deposit amount type")}}}n.prototype=new o,n.prototype.toCreateArray=function(){return{depositamounttype:this.depositamounttype}},n.prototype.toUpdateArray=function(){return{depositamounttype:this.depositamounttype}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="descriptiontype",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){var t={code:this.code,name:this.name,description:this.description,minimumlength:this.minimumlength,maximumlength:this.maximumlength,donotmodify:this.donotmodify,sortorder:this.order};return"object"===typeof this.encoding?t.encoding=this.encoding.encoding:"string"===typeof this.encoding&&this.encoding.length>2&&(t.encoding=this.encoding),t},n.prototype.validSchema=function(){return{code:r.string().min(2).max(8).label("Code"),name:r.string().label("Name"),description:r.string().label("Description"),encoding:r.string().valid("Plain","HTML","XML").required().label("Encoding - Plain, HTML, XML"),minimumlength:r.number().label("Minimum length"),maximumlength:r.number().label("Maximum length"),donotmodify:r.boolean().label("Do not modify"),order:r.number().label("Sort order")}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t,e){this.path="transactiondefinition/"+t+"/doubleentrydefinition",this.createPath=this.path,this.id=e}n.prototype=new o,n.prototype.toArray=function(){return{payagency:this.payagency,payowner:this.payowner,donotmodify:this.donotmodify}},n.prototype.validSchema=function(){return r.object().keys({payagency:r.boolean().label("payagency"),payowner:r.boolean().label("payowner"),donotmodify:r.boolean().optional().label("do not modify")})},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(175),a=i(278);function s(t){this.path="transaction",this.createPath="transaction",this.id=t,this.transactiondefinition=new n,this.accountingperiod=new a,this.booking=new r({entity:"Booking"}),this.bookingextra=new r({entity:"BookingExtra"}),this.customer=new r({entity:"Customer"}),this.bookingpayment=new r({entity:"BookingPayment"}),this.owner=new r({entity:"Owner"}),this.ownercharge=new r({entity:"OwnerCharge"}),this.ownerpayment=new r({entity:"OwnerPayment"}),this.property=new r({entity:"Property"})}s.prototype=new o,t.exports=s},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="transactionsource",this.createPath="transactionsource",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{name:this.name,description:this.description}},n.prototype.validSchema=function(){return o.object().keys({name:o.string().required().label("name"),description:o.string().required().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="exchangerateissuetype",this.id=t,this.validSchema=function(){return{exchangerateissuetype:r.string().label("type"),description:r.string().label("description")}}}n.prototype=new o,n.prototype.toArray=function(){return{exchangerateissuetype:this.exchangerateissuetype,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t,e){this.path=this.createPath="exchangerateissue/"+t+"/rate",this.id=e,this.currency=new r({entity:"Currency"})}n.prototype=new o,n.prototype.toArray=function(){return{currencyid:this.currencyid,unitsperbaseunit:this.unitsperbaseunit}},t.exports=n},function(t,e,i){var o=i(0),r=i(334),n=i(4);function a(t){this.path="flag",this.createPath="flag",this.id=t,this.flagtype=new r,this.createdBy=new n({entity:"TabsUser"}),this.flaggedbybranding=new n({entity:"Branding"}),this.flaggedbyactor=new n({entity:"Actor"}),this.note=new n({entity:"Note"})}a.prototype=new o,a.prototype.toArray=function(){var t={type:this.type,flagtypeid:this.flagtype.id};return this.note&&(t.noteid=this.note.id),this.flaggedbybranding&&(t.flaggedbybrandingid=this.flaggedbybranding.id),this.flaggedbyactor&&(t.flaggedbyactorid=this.flaggedbyactor.id),t},a.prototype.getCreatePath=function(){return"actor/"+this.parent.id+"/"+this.path},a.prototype.getUpdatePath=function(){return"actor/"+this.parent.id+"/"+this.path+"/"+this.id},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="flagtype",this.createPath="flagtype",this.id=t,this.validSchema=function(){return{flagtype:r.string().required().label("Flag type"),description:r.string().required().label("Description"),allowbooking:r.boolean().label("Allow booking")}}}n.prototype=new o,n.prototype.toArray=function(){return{flagtype:this.flagtype,description:this.description,allowbooking:this.allowbooking}},n.prototype.toString=function(){return[this.flagtype,this.description].join(" ")},t.exports=n},function(t,e){t.exports=function(){this.collections=[],this.fetchAll=function(){for(var t=[],e=0;e<this.collections.length;e++)t.push(this.collections[e].fetch());return Promise.all(t)},this.fetchAllCacheable=function(t,e){for(var i=[],o=0;o<this.collections.length;o++)i.push(this.collections[o].fetchCacheable(t,e));return Promise.all(i)},this.getAllEntities=function(){var t=[];return this.collections.forEach(function(e){e.forEach(function(e){t.push(e)})}),t}}},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="instructiontype",this.createPath="instructiontype",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{instructiontype:this.instructiontype,description:this.description}},n.prototype.validSchema=function(){return o.object().keys({instructiontype:o.string().required().label("Instruction Type"),description:o.string().required().label("Description")})},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="jobtype",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{jobtype:this.jobtype,description:this.description}},t.exports=r},function(t,e,i){var o=i(2),r=i(0),n=i(339);function a(t){this.path="keyusertype",this.createPath="keyusertype",this.id=t,this.role=new n}a.prototype=new r,a.prototype.toArray=function(){return{keyusertype:this.keyusertype,roleid:this.role&&this.role.id,description:this.description}},a.prototype.validSchema=function(){return o.object().keys({keyusertype:o.string().required().label("Key User Type"),role:o.object().optional().label("Role"),description:o.string().optional().allow("").label("Description")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="role",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{name:r.string().required().min(1).label("name").description("Role name"),donotdelete:r.boolean().required().label("Do not delete").description("This removes the delete option from the role admin screen")}},n.prototype.toArray=function(){return{name:this.name,donotdelete:this.donotdelete}},t.exports=n},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="keyset",this.createPath="keyset",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{keyset:this.keyset}},n.prototype.validSchema=function(){return o.object().keys({keyset:o.string().label("Key Set")})},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(4),a=i(340);function s(t){this.path="keytag",this.createPath="keytag",this.id=t,this.property=new n({entity:"Property"}),this.keyset=new a}s.prototype=new r,s.prototype.toArray=function(){return{propertyid:this.property.id,tag:this.tag,colour:this.colour,keysetid:this.keyset.id,deleted:this.deleted}},s.prototype.validSchema=function(){return o.object().keys({property:o.object().required().label("Property"),tag:o.string().required().label("Tag"),colour:o.string().optional().allow("").label("Colour"),keyset:o.object().required().label("Key Set"),deleted:o.boolean().optional().label("Deleted")})},t.exports=s},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="labeltemplatepapersize",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{name:this.name}},t.exports=r},function(t,e,i){var o=i(0),r=i(2),n=i(84);function a(t){this.path=this.createPath="bookingbrand",this.id=t,this.bookingbrand=new n}a.prototype=new o,a.prototype.getCreatePath=function(){return"/multibrandtemplate/"+this.parent.id+"/"+this.path},a.prototype.toCreateArray=function(){return{bookingbrandid:this.bookingbrandid,inactive:!1}},a.validSchema=r.object().keys({bookingbrandid:r.string().required().label("bookingbrand"),inactive:r.boolean().optional().label("inactive")}),t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(63);function a(t){this.path=this.createPath="marketingbrand",this.id=t,this.marketingbrand=new n}a.prototype=new o,a.prototype.getCreatePath=function(){return"/multibrandtemplate/"+this.parent.id+"/"+this.path},a.prototype.toCreateArray=function(){return{marketingbrandid:this.marketingbrandid,inactive:!1}},a.validSchema=r.object().keys({marketingbrandid:r.string().required().label("marketingbrand"),inactive:r.boolean().optional().label("inactive")}),t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(121);function a(t){this.path=this.createPath="payment",this.id=t,this.exchangerate=new n,this.supplierpayment=new r({entity:"SupplierPayment"})}a.prototype=new o,a.prototype.toArray=function(){return{exchangerateid:this.exchangerate.id,supplierpaymentid:this.supplierpayment.id,amountnet:this.amountnet,amountvat:this.amountvat,commissionnet:this.commissionnet,commissionvat:this.commissionvat}},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="ownerenquiryactiontype",this.createPath="ownerenquiryactiontype",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{action:this.action,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({action:r.string().required().label("action"),description:r.string().optional().allow("").label("description")})},n.prototype.toString=function(){return[this.action,this.description].join(" ")},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(4);function a(t){this.path="bookingbrand",this.createPath="bookingbrand",this.id=t,this.bookingbrand=new n({entity:"BookingBrand"})}a.prototype=new r,a.prototype.toArray=function(){return{bookingbrandid:this.bookingbrand.id}},a.prototype.validSchema=function(){return o.object().keys({bookingbrand:o.object().required().label("booking brand")})},t.exports=a},function(t,e,i){var o=i(2),r=i(0),n=i(4);function a(t){this.path="property",this.createPath="property",this.id=t,this.property=new n({entity:"Property"})}a.prototype=new r,a.prototype.toArray=function(){return{proeprtyid:this.property.id}},a.prototype.validSchema=function(){return o.object().keys({property:o.object().required().label("proeprty")})},t.exports=a},function(t,e,i){var o=i(0),r=i(31),n=i(5),a=i(350);function s(t){this.path="ownerpaymentterms",this.createPath="ownerpaymentterms",this.id=t,this.ondeposit=!1,this.oninterim=!1,this.onbalance=!1,this.amountperperiod=0,this.percentageofpayment=0,this.percentageofbasic=0,this.currency=new r,this.ownerpaid="",this.extras=new n({object:a,path:"extra",parent:this})}s.prototype=new o,s.prototype.toArray=function(){return{name:this.name,description:this.description,ondeposit:this.ondeposit,oninterim:this.oninterim,onbalance:this.onbalance,amountperperiod:this.amountperperiod,percentageofbasic:this.percentageofbasic,percentageofpayment:this.percentageofpayment,ownerpaid:this.ownerpaid,excludeallextrasexcept:this.excludeallextrasexcept,currencyid:this.currency.id}},t.exports=s},function(t,e,i){var o=i(0),r=i(67);function n(t){this.path="extra",this.createPath="extra",this.id=t,this.extra=new r}n.prototype=new o,n.prototype.toArray=function(){return{extraid:this.extra.id,addtodepositpaid:this.addtodepositpaid,subtractfromdepositpaid:this.subtractfromdepositpaid,payondeposit:this.payondeposit,dontpayondeposit:this.dontpayondeposit}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(352),a=i(2);function s(t){this.path="parkingpermit",this.createPath="parkingpermit",this.id=t,this.holidayperiods=new r({object:n,parent:this,path:"holidayperiod"}),this.validSchema=function(){return{location:a.string().required().min(1).label("location").description("Parking permit location"),owneroragencyrequirement:a.any().allow(["Owner","Agency"]).required().label("owner or agency requirement"),maximumvehicles:a.number().required().label("maximum vehicles"),locationofpermit:a.string().optional().allow("").label("location of permit"),comments:a.string().optional().allow("").label("comments")}}}s.prototype=new o,s.prototype.toArray=function(){return{location:this.location,owneroragencyrequirement:this.owneroragencyrequirement,maximumvehicles:this.maximumvehicles,locationofpermit:this.locationofpermit,comments:this.comments}},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="holidayperiod",this.id=t,this.validSchema=function(){return{fromdate:r.date().required().label("from date"),todate:r.date().required().label("to date"),samedateseveryyear:r.boolean().required().label("same dates every year?")}}}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,samedateseveryyear:this.samedateseveryyear}},t.exports=n},function(t,e,i){var o=i(0),r=i(68);function n(t){this.path="vatrate",this.createPath="vatrate",this.id=t,this.vatband=new r}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,percentage:this.percentage,vatband:this.vatband.vatband}},t.exports=n},function(t,e,i){var o=i(0),r=i(151),n=i(2);function a(t){this.path="priceband",this.createPath="priceband",this.id=t,this.priceband=new r}a.prototype=new o,a.prototype.toArray=function(){var t={pricebandid:this.priceband.id,amount1:this.amount1,percentage:this.percentage,amount2:this.amount2};return this.updatepropertypricing&&(t.updatepropertypricing=this.updatepropertypricing),this.updateagreedpropertypricing&&(t.updateagreedpropertypricing=this.updateagreedpropertypricing),t},a.prototype.validSchema=function(){return{priceband:n.object().required().label("price band"),amount1:n.number().empty("").label("amount to add before adding percentage (optional)"),percentage:n.number().empty("").label("percentage to add (optional)"),amount2:n.number().empty("").label("amount to add after adding percentage (optional)"),updatepropertypricing:n.boolean().optional().label("existing property pricing for the year should be updated"),updateagreedpropertypricing:n.boolean().optional().label("agreed pricing should be updated")}},t.exports=a},function(t,e,i){var o=i(0),r=i(154);function n(t,e,i){this.path="property/"+t+"/answer/"+e+"/document",this.createPath="property/"+t+"/answer/"+e+"/document",this.propertydocument=new r,this.id=i}n.prototype=new o,n.prototype.toCreateArray=function(){return{propertydocumentid:this.propertydocument.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(167),n=i(2);function a(t){this.path="approval",this.createPath="approval",this.id=t,this.actorprogram=new r}a.prototype=new o,a.prototype.toArray=function(){return{actorprogramid:this.actorprogram.id,approved:this.approved}},a.prototype.validSchema=function(){return n.object().keys({actorprogram:n.object().required().label("Actor Program"),approved:n.boolean().optional().label("Approved"),approverquestion:n.string().optional().allow("").label("Approver Question")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="reason",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{reason:this.reason,inactive:this.inactive}},n.prototype.validSchema=function(){return r.object().keys({reason:r.string().label("Reason"),inactive:r.boolean()})},t.exports=n},function(t,e,i){var o=i(0),r=i(161),n=i(2);function a(t){this.path="propertynotecategory",this.createPath="propertynotecategory",this.id=t,this.notetype=new r}a.prototype=new o,a.prototype.toArray=function(){return{name:this.name,description:this.description,notetypeid:this.notetype.id}},a.prototype.validSchema=function(){return n.object().keys({name:n.string().required().label("Name"),description:n.string().required().label("Description"),notetype:n.object().required().label("note type")})},t.exports=a},function(t,e,i){var o=i(0),r=i(115),n=i(2);function a(t){this.path="commission",this.createPath="commission",this.id=t,this.pricingperiod=new r,this.validSchema=function(){return{fromdate:n.date().required().label("From date"),todate:n.date().required().label("To date"),pricingperiod:n.object().required().label("Pricing period"),commissionpercentage:n.number().required().label("Commission percentage"),updateexistingbookings:n.boolean().required().label("Update all bookings in this date range"),forceoverwrite:n.boolean().required().label("Overwrite existing commissions where dates overlap"),overrideuserset:n.boolean().required().label("Update all bookings in this date range - even if the booking commission has been updated"),updatefullyownerpaid:n.boolean().required().label("Update all bookings in this date range - even if the owner is fully paid")}}}a.prototype=new o,a.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,commissionpercentage:this.commissionpercentage,updateexistingbookings:this.updateexistingbookings,overrideuserset:this.overrideuserset,forceoverwrite:this.forceoverwrite,pricingperiodid:this.pricingperiod.id,updatefullyownerpaid:this.updatefullyownerpaid}},t.exports=a},function(t,e,i){var o=i(0),r=i(176),n=i(177);function a(t){this.path="groupingvalue",this.createPath=this.path,this.id=t,this.grouping=new r,this.groupingvalue=new n}a.prototype=new o,a.prototype.toArray=function(){return{groupingid:this.grouping.id,groupingvalueid:this.groupingvalue.id,weight:this.weight}},t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(5),a=i(362),s=i(2);function c(t){this.path="link",this.createPath="link",this.id=t,this.childproperty=new r({entity:"Property"}),this.parentproperty=new r({entity:"Property"}),this.holidayperiods=new n({object:a,path:"holidayperiod",parent:this})}c.prototype=new o,c.prototype.toArray=function(){return{childpropertyid:this.childproperty.id}},c.prototype.validSchema=function(){return s.object().keys({childproperty:s.object().optional().label("Linked Property")})},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="holidayperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},n.prototype.validSchema=function(){return r.object().keys({fromdate:r.date().required().label("From date"),todate:r.date().required().label("To date")})},t.exports=n},function(t,e,i){var o=i(0),r=i(349);function n(t){this.path="ownerpaymentterms",this.createPath="ownerpaymentterms",this.id=t,this.ownerpaymentterms=new r}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,ownerpaymenttermsid:this.ownerpaymentterms.id,updateexistingbookings:this.updateexistingbookings}},t.exports=n},function(t,e,i){var o=i(2),r=i(29).getInstance(),n=i(81),a=i(0),s=i(40),c=i(365),p=i(366);function h(t){this.path="report",this.createPath="report",this.id=t,this.parameters=new s({object:c})}h.prototype=new a,h.prototype.run=function(t){return r.post({path:this.getUpdatePath()+"/run",entity:t}).then(function(t){return new Promise(function(e,i){200===t.status.code?e(new p(t.id).mutateResponse(t.entity)):i(new n(t))})})},h.prototype.toArray=function(){return{name:this.name,description:this.description,category:this.category}},h.prototype.toFormData=function(){var t=new FormData;return t.append("file",this.file),t},h.prototype.validParameters=function(){var t={_recipients:o.string().email(),_format:o.string()};return this.parameters.forEach(function(e){var i=e.type;"integer"===i&&(i="number"),t[e.name]=o.alternatives().try(o[i](),o.number(),o.string()).label(e.toString()),e.required?t[e.name]=t[e.name].required():t[e.name]=t[e.name].empty("")}),o.object(t)},t.exports=h},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="parameter",this.createPath="parameter",this.id=t}n.prototype=new o,n.prototype.toString=function(){return this.name.replace(/([A-Z]+)/g," $1")},n.prototype.toArray=function(){var t={};return t.name=this.name,t.description=this.description||"",t.type=this.type,t.sortorder="undefined"!==typeof this.sortorder?this.sortorder:0,t.required=this.required||!1,t},n.prototype.validSchema=function(){return r.object().keys({name:r.string().required().label("Parameter Name"),description:r.string().optional().label("Parameter description"),type:r.string().required().label("Parameter Type"),sortorder:r.number().required().label("Parameter Sort Order"),required:r.boolean().label("Parameter Required")})},t.exports=n},function(t,e,i){var o=i(0),r=i(46);function n(t){var e=i(364);this.path="reportrun",this.createPath="reportrun",this.id=t,this.report=new e,this.result=new r}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(4),a=i(5),s=i(83),c=i(82),p=i(368),h=i(281);function d(t){this.path="templatecontactmethod",this.createPath="templatecontactmethod",this.id=t,this.templatecontactmethod=new n({entity:"TemplateContactMethod",parent:new n({entity:"Template"})}),this.available=new a({path:"available",parent:this,ignoreparent:!0,discriminator:function(t){return t.guesttype?s:"property"==t.type?c:"Instance"==t.type?p:h.call(this,t.type.toLowerCase())}})}d.prototype=new r,d.prototype.toArray=function(){var t={templatecontactmethodid:this.templatecontactmethod.id};return this.paused?t.paused=this.paused:!1===this.paused&&(t.paused=!1),t},d.prototype.hasBranding=function(t){if(this.templatecontactmethod.id&&this.templatecontactmethod.parent){if("BookingTemplate"===this.templatecontactmethod.parent.type)return this.templatecontactmethod.parent.bookingbrand.id===t.bookingbrand.id;if("ActorTemplate"===this.templatecontactmethod.parent.type)return this.templatecontactmethod.parent.branding.id===t.id;if("WorkOrderTemplate"===this.templatecontactmethod.parent.type)return this.templatecontactmethod.parent.branding.id===t.id;if("WorkOrderInstanceTemplate"===this.templatecontactmethod.parent.type)return this.templatecontactmethod.parent.branding.id===t.id;if("MarketingCampaignTemplate"===this.templatecontactmethod.parent.type)return this.templatecontactmethod.parent.marketingbrand.id===t.marketingbrand.id}return!1},d.prototype.shouldLoadAvailable=function(t,e,i){var o=this.hasBranding(t);return!0!==i||o||(o="MultiBrandTemplate"===this.templatecontactmethod.parent.type),"boolean"===typeof e?o&&(!e||!this.paused):o&&!this.paused},d.prototype.validSchema=function(){return o.object().keys({templatecontactmethod:o.object().required().label("templatecontactmethod")})},t.exports=d},function(t,e,i){var o=i(0),r=i(82),n=i(95),a=i(369),s=i(122),c=i(374),p=i(186),h=i(4),d=i(83),u=i(376),l=i(377),m=i(378),y=i(379),b=i(185),g=i(96),f=i(5);function w(t){this.path="workorder",this.createPath=this.path,this.id=t,this.property=new r,this.workordersupplier=new s,this.updatedbyactor=new n,this.booking=new d,this.worktype=new p,this.substatus=new b,this.availabilityblockingbooking=new d,this.workordertemplate=new h({entity:"WorkOrder"}),this.notes=new g({noteEntity:this,object:y,path:"workordernote"}),this.documents=new f({object:m,path:"document",parent:this}),this.expenses=new f({object:c,path:"expense",parent:this}),this.statushistory=new f({object:a,path:"statushistory",parent:this}),this.childassociations=new f({object:l,path:"childassociation",parent:this}),this.parentassociations=new f({object:l,path:"parentassociation",parent:this}),this.actors=new f({object:u,path:"actor",parent:this}),this.fieldsOverrides={substatusmini:"substatus",worktypemini:"worktype",workordersuppliermini:"workordersupplier",propertynano:"property"}}w.prototype=new o,w.prototype.toArray=function(){var t={type:this.type,propertyid:this.property.id,rating:this.rating,shortdescription:this.shortdescription,fulldescription:this.fulldescription,invoiceto:this.invoiceto,labourhours:this.labourhours,labourrate:this.labourrate,accesscontacttype:this.accesscontacttype,accesscontactdetails:this.accesscontactdetails,workordertemplateid:this.workordertemplate&&this.workordertemplate.id?this.workordertemplate.id:void 0,estimaterequired:this.estimaterequired,estimate:this.estimate,period:this.period,startdate:this.startdate,frequency:this.frequency,dayofweek:this.dayofweek,weekofmonth:this.weekofmonth,dayofmonth:this.dayofmonth,month:this.month,maximuminstances:this.maximuminstances,autogenerate:this.autogenerate,exclusionstartdate:this.exclusionstartdate,exclusionenddate:this.exclusionenddate,updatedbyactorid:this.updatedbyactor.id,setapproved:this.setapproved,blockavailability:this.blockavailability,addpropertywarning:this.addpropertywarning,autogeneratebufferdays:this.autogeneratebufferdays,noworkrequired:this.noworkrequired};return this.booking&&this.booking.id>=0&&(t.bookingid=this.booking.id),this.availabilityblockingbooking&&this.availabilityblockingbooking.id>=0&&(t.availabilityblockingbookingid=this.availabilityblockingbooking.id),this.reporteddate&&(t.reporteddate=this.reporteddate),this.preferredstartdate&&(t.preferredstartdate=this.preferredstartdate),this.requiredbydate&&(t.requiredbydate=this.requiredbydate),this.approveddate&&(t.approveddate=this.approveddate),this.starteddate&&(t.starteddate=this.starteddate),this.cancelleddatetime&&(t.cancelleddatetime=this.cancelleddatetime),this.completeddate&&(t.completeddate=this.completeddate),this.invoiceapproveddatetime&&(t.invoiceapproveddatetime=this.invoiceapproveddatetime),this.invoicerejecteddatetime&&(t.invoicerejecteddatetime=this.invoicerejecteddatetime),this.durationminutes&&(t.durationminutes=this.durationminutes),this.preferredstartdatetime&&(t.preferredstartdatetime=this.preferredstartdatetime),this.workordersupplier&&this.workordersupplier.id?t.workordersupplierid=this.workordersupplier.id:this.supplier&&this.supplier.id&&(t.supplierid=this.supplier.id),this.worktype&&this.worktype.id&&(t.worktypeid=this.worktype.id),this.workordersource&&this.workordersource.id&&(t.workordersourceid=this.workordersource.id),this.fromdatetime&&(t.fromdatetime=this.fromdatetime),t},w.prototype.recur=function(){return this.createPromiseResult([this.path,this.id,"recur"].join("/"),{})},w.prototype.chargeowner=function(t){return this.updatePromiseResult([this.path,this.id,"ownercharge"].join("/"),this.removeUndefineds(t))},w.prototype.toString=function(){return[this.id,this.type,this.workordersupplier.supplier.getFullName(),this.status].join(" ")},t.exports=w},function(t,e,i){var o=i(0),r=i(32),n=i(185),a=i(5);function s(t){this.path="statushistory",this.createPath=this.path,this.id=t,this.setbyactor=new r,this.substatus=new a({object:n,path:"substatus",parent:this})}s.prototype=new o,t.exports=s},function(t,e,i){var o=i(0),r=i(371),n=i(372),a=i(5);function s(t){this.path="workordersubstatus",this.createPath=this.path,this.id=t,this.nextworkordersubstatuses=new a({object:r,path:"next"}),this.templates=new a({object:n,path:"template"})}s.prototype=new o,t.exports=s},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="next",this.createPath=this.path,this.id=t,this.nextworkordersubstatus=new r({entity:"WorkOrderSubStatus"})}n.prototype=new o,n.prototype.toArray=function(){},t.exports=n},function(t,e,i){var o=i(0),r=i(143),n=i(373);function a(t){this.path="template",this.createPath=this.path,this.id=t,this.template=new r,this.assignee=new n}a.prototype=new o,a.prototype.toArray=function(){return{workordersubstatustemplateassigneeid:this.assignee.id,workorderinstancetemplateid:this.template.id}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="workordersubstatustemplateassignee",this.createPath=this.path,this.id=t}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(169),n=i(100),a=i(102),s=i(47),c=i(103),p=i(31),h=i(68),d=i(173),u=i(375),l=i(5);function m(t){this.path=this.createPath="expense",this.id=t,this.amountlimittype=new r,this.costitemcode=new n,this.supplierinvoiceitem=new a,this.ownerchargecode=new s,this.ownerchargeamounttype=new c,this.currency=new p,this.vatband=new h,this.chargingperiod=new d,this.ownercharges=new l({object:u,path:"ownercharge",parent:this})}m.prototype=new o,m.prototype.toArray=function(){var t={description:this.description,currencyid:this.currency.id,vatbandid:this.vatband.id,ownerchargeamount:this.ownerchargeamount,donotpaysupplier:this.donotpaysupplier,invoiceto:this.invoiceto};return this.costitemcode.id&&(t.costitemcodeid=this.costitemcode.id),this.ownerchargecode.id>=0&&(t.ownerchargecodeid=this.ownerchargecode.id),this.ownerchargeamounttype.id>=0&&(t.ownerchargeamounttypeid=this.ownerchargeamounttype.id),this.chargingperiod.id>=0&&(t.chargingperiodid=this.chargingperiod.id),"undefined"!==typeof this.agencyownerchargecode&&this.agencyownerchargecode.id>=0&&(t.agencyownerchargecodeid=this.agencyownerchargecode.id),parseFloat(this.amountnetestimate)>=0&&(t.amountnetestimate=this.amountnetestimate),this.chargingperiodsestimate&&(t.chargingperiodsestimate=this.chargingperiodsestimate),void 0!==this.amountlimittype&&this.amountlimittype.id>=0&&(t.amountlimittypeid=this.amountlimittype.id),this.amountnetlimit&&(t.amountnetlimit=this.amountnetlimit),parseFloat(this.chargingperiodpriceperunit)>=0&&(t.chargingperiodpriceperunit=this.chargingperiodpriceperunit),"Template"!==this.parent.type&&(t.amountnet=this.amountnet,t.amountvat=this.amountvat,t.notes=this.notes,t.chargingperiodsactual=this.chargingperiodsactual,this.supplierinvoiceitem.id>=0&&(t.supplierinvoiceitemid=this.supplierinvoiceitem.id)),this.agencycostnet&&(t.agencycostnet=this.agencycostnet),t},t.exports=m},function(t,e,i){var o=i(0),r=i(47),n=i(103);function a(t){this.path=this.createPath="ownercharge",this.id=t,this.ownerchargecode=new r,this.ownerchargeamounttype=new n}a.prototype=new o,a.prototype.toArray=function(){return{ownerchargecodeid:this.ownerchargecode.id,ownerchargeamounttypeid:this.ownerchargeamounttype.id,description:this.description,amount:this.amount,invoicenumber:this.invoicenumber,invoicedate:this.invoicedate}},t.exports=a},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="actor",this.id=t,this.actor=new r({entity:"Actor"})}n.prototype=new o,n.prototype.toArray=function(){return{actorid:this.actor.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="association",this.id=t,this.workorder=new r({entity:"WorkOrder"}),this.associatedworkorder=new r({entity:"WorkOrder"})}n.prototype=new o,n.prototype.toArray=function(){return{associatedworkorderid:this.associatedworkorder.id,comment:this.comment}},t.exports=n},function(t,e,i){var o=i(74);t.exports=o},function(t,e,i){var o=i(0),r=i(97),n=i(4);function a(t){this.createPath="workordernote",this.path="workordernote",this.id=t,this.workorder=new n({entity:"WorkOrder"}),this.note=new r}a.prototype=new o,a.prototype.toArray=function(){return{workorderid:this.workorder.id,noteid:this.note.id}},t.exports=a},function(t,e,i){var o=i(0),r=i(5),n=i(381);function a(t){this.path="entity",this.createPath="entity",this.id=t,this.values=new r({object:n,parent:this})}a.prototype=new o,a.prototype.toArray=function(){return{id:this.id,entity:this.entity,mandatory:this.mandatory,defaultvalue:this.defaultvalue}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="value",this.createPath="value",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{id:this.id,entityid:this.entityid,settingvalue:this.settingvalue}},t.exports=r},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.createPath=this.path="branding",this.id=t,this.branding=new r({entity:"Branding"}),this.validSchema=function(){return{branding:n.object().required().label("Branding")}}}a.prototype=new o,a.prototype.toArray=function(){return{brandingid:this.branding.id}},t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(4),a=i(118);function s(t){this.path="branding",this.createPath=this.path,this.id=t,this.branding=new n({entity:"Branding"}),this.replycontactdetail=new a}s.prototype=new o,s.prototype.validSchema=function(){return r.object().keys({branding:r.object().required().label("Branding"),replycontactdetail:r.object().required().label("Reply Contact Detail")})},s.prototype.toArray=function(){return{brandingid:this.branding.id,replycontactdetailid:this.replycontactdetail.id}},t.exports=s},function(t,e,i){var o=i(0),r=i(166);function n(t){this.createPath=this.path="rolereason",this.id=t,this.rolereason=new r}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,rolereasonid:this.rolereason.id}},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="ticketuser",this.createPath="ticketuser",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{username:this.username,fullname:this.fullname}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="ticketbrand",this.createPath="ticketbrand",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{brandcode:this.brandcode,companyname:this.companyname,email:this.email,telephne:this.telephone,keycode:this.keycode}},t.exports=r},function(t,e,i){var o=i(0),r=i(388);function n(t){this.path="term",this.createPath="term",this.id=t,this.term=new r}n.prototype=new o,n.prototype.toArray=function(){return{value:this.value,termid:this.term.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(593);function n(t){this.path="term",this.createPath="term",this.id=t,this.termtype=new r}n.prototype=new o,n.prototype.toArray=function(){return{term:this.term,termtypeid:this.termtype.id}},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="ticketstatus",this.createPath="ticketstatus",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{status:this.status}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="ticketpriority",this.createPath="ticketpriority",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{priority:this.priority}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="message",this.createPath="message",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{message:this.message}},t.exports=r},function(t,e,i){var o=i(39);function r(t){this.path="history",this.createPath="history",this.id=t}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="note",this.createPath="note",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{message:this.message}},t.exports=r},function(t,e,i){var o=i(0),r=i(111),n=i(29).getInstance(),a=i(81);function s(t){this.path="attachment",this.createPath="attachment",this.id=t,this.filedata=new r}s.prototype=new o,s.prototype.toArray=function(){return{filename:this.filename}},s.prototype.toFormData=function(){var t=new FormData;return t.append("data",this.filedata),t.append("filename",this.filename),t},s.prototype.getData=function(){var t=n.get({path:this.getUpdatePath()+"/data",mixin:{responseType:"blob"}});return new Promise(function(e,i){t.then(function(t){200===t.status.code?(self.data=t.entity,self.url=URL.createObjectURL(t.entity),e(self)):i(new a(t))})})},t.exports=s},function(t,e,i){var o=i(0);function r(t){this.path="tickettime",this.createPath="tickettime",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{timetext:this.timetext,timeint:this.timeint}},t.exports=r},function(t,e,i){var o=i(0),r=i(47),n=i(103);function a(t){this.path=this.createPath="workorderownerchargetemplate",this.id=t,this.ownerchargecode=new r,this.ownerchargeamounttype=new n}a.prototype=new o,a.prototype.toArray=function(){return{ownerchargecodeid:this.ownerchargecode.id,ownerchargeamounttypeid:this.ownerchargeamounttype.id,description:this.description,amount:this.amount}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="zendeskticket",this.id=t}r.prototype=new o,t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var o,r,n;function a(t){var e,i,o,r;i=0===t.indexOf("#")?t.substring(1):t,e={},r=(o=/([^&=]+)=([^&]*)/g).exec(i);do{e[decodeURIComponent(r[1])]=decodeURIComponent(r[2]),r=o.exec(i)}while(r);n.publish(e.state,e.token_type+" "+e.access_token)}function s(t){var e=window.open(t,"_blank","width=500,height=400");return function(){e.close()}}o=i(92),r=i(215),n=i(685),t.exports=o({init:function(t){return t.redirectUrl=new r(t.redirectUrl).fullyQualify().build(),t.windowStrategy=t.windowStrategy||s,t.oAuthCallback=t.oAuthCallback||a,t.oAuthCallbackName=t.oAuthCallbackName||"oAuthCallback",window[t.oAuthCallbackName]=t.oAuthCallback,t},request:function(t,e){return t.headers=t.headers||{},e.token?(t.headers.Authorization=e.token,t):function(t){var e,i,o;return new Promise(function(a){e=Math.random()*(new Date).getTime(),i=new r(t.authorizationUrlBase).build({response_type:"token",redirect_uri:t.redirectUrl,client_id:t.clientId,scope:t.scope,state:e}),o=t.windowStrategy(i),n.subscribe(e,function(t){o(),a(t)})})}(e).then(function(i){return t.headers.Authorization=e.token=i,t})},response:function(t){return 403===t.status.code||401===t.status.code?Promise.reject(t):t}})},function(t,e){function i(t){this.name="pathNotSpecified",this.message=t||""}i.prototype=Error.prototype,t.exports=i},function(t,e,i){var o=i(0);function r(t){this.path="feature",this.createPath="feature",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="title",this.createPath="title",this.id=t,this.toArray=function(){return{title:this.title}},this.validSchema=function(){return{title:r.string().required().label("title")}}}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="route",this.id=t,this.validSchema=function(){return{}}}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(39);function r(t,e){this.id=e,this.path="extra"}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="assessmentgrade",this.createPath="assessmentgrade",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{tabscode:r.string().required().label("tabscode"),name:r.string().required().label("name")}},n.prototype.toArray=function(){return{name:this.name}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(143),a=i(32),s=i(318),c=i(319),p=i(320),h=i(2);function d(t){this.path="contact",this.createPath="contact",this.id=t,this.deleted=!1,this.template=new n,this.documents=new r({object:s,path:"document",parent:this}),this.contactentities=new r({object:c,path:"contactentity",parent:this}),this.createdby=new a,this.contactreason=new p}d.prototype=new o,d.prototype.toArray=function(){return{contacttype:this.contacttype.type,contactmethodtype:this.contactmethodtype.method,content:this.content}},d.prototype.toCreateArray=function(){var t={contacttype:this.contacttype,contactmethodtype:this.contactmethodtype,subject:this.subject,sender:this.sender,sendercontactdetailid:this.sendercontactdetailid,sourcemarketingbrandid:this.sourcemarketingbrandid,status_status:this.status_status,status_statusdatetime:this.status_statusdatetime,status_intermediary:this.status_intermediary,status_reference:this.status_reference,status_detail:this.status_detail,contactdatetime:this.contactdatetime,content:this.content,deleted:!1,templateentityid:this.templateentityid,templateid:this.template.id,document_documentid:this.document_documentid,comments:this.comments};return this.contactreason&&this.contactreason.id&&(t.contactreasonid=this.contactreason.id),t},d.prototype.validSchema=function(){return h.object().keys({details:h.string().min(5).label("Details"),subject:h.string().min(5).label("Subject")})},t.exports=d},function(t,e,i){var o=i(0),r=i(31),n=i(4);function a(t){this.path="price",this.createPath="price",this.id=t,this.currency=new r,this.pricetypebranding=new n({entity:"PriceTypeBranding"})}a.prototype=new o,a.prototype.toArray=function(){return{type:"Minimum",fromdate:this.fromdate,todate:this.todate,price:this.price,band:this.band,description:this.description,currencycode:this.currency.code,pricetypebrandingid:this.pricetypebranding.id,updateallbrands:this.updateallbrands,updatematchingbands:this.updatematchingbands}},t.exports=a},function(t,e,i){var o=i(0),r=i(246);function n(t){this.path="contract",this.createPath="contract",this.id=t,this.servicecontracttype=new r}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(47),n=i(2);function a(t){this.path="accidentaldamagedeposit",this.createPath=this.path,this.id=t,this.ownerchargecode=new r}a.prototype=new o,a.prototype.toArray=function(){var t={bookedfromdate:this.bookedfromdate,bookedtodate:this.bookedtodate,holidayfromdate:this.holidayfromdate,holidaytodate:this.holidaytodate,amount:this.amount,currencycode:this.currency.code,daysduein:this.daysduein,daysdueout:this.daysdueout,refundable:this.refundable,peradult:this.peradult,perchild:this.perchild,perinfant:this.perinfant,perperiod:this.perperiod,perpet:this.perpet,anypet:this.anypet,pricingperiod:this.pricingperiod,minimumdays:this.minimumdays,maximumdays:this.maximumdays,maximumdaysbeforeholiday:this.maximumdaysbeforeholiday,comments:this.comments,ownerchargecodeid:this.ownerchargecode.id,ownerchargeamount:this.ownerchargeamount,defaultforperiod:this.defaultforperiod,type:this.type};return this.propertyid&&(t.propertyid=this.propertyid),this.brandingid&&(t.brandingid=this.brandingid),this.noaccidentaldamagedeposit?t.noaccidentaldamagedeposit=this.noaccidentaldamagedeposit:!1===this.noaccidentaldamagedeposit&&(t.noaccidentaldamagedeposit=this.noaccidentaldamagedeposit),this.noaccidentaldamagedepositglobal?t.noaccidentaldamagedepositglobal=this.noaccidentaldamagedepositglobal:!1===this.noaccidentaldamagedepositglobal&&(t.noaccidentaldamagedepositglobal=this.noaccidentaldamagedepositglobal),t},a.prototype.validSchema=function(){return n.object().keys({bookedfromdate:n.date().required().label("Booked From Date"),bookedtodate:n.date().required().label("Booked To Date"),holidayfromdate:n.date().required().label("Holiday From Date"),holidaytodate:n.date().required().label("Holiday To Date"),amount:n.string().required().label("Amount"),currency:n.object().required().label("Currency"),daysduein:n.string().required().label("Days Due In"),daysdueout:n.string().required().label("Days Due Out"),refundable:n.boolean().required().label("Refundable"),peradult:n.boolean().required().label("Per Adult"),perchild:n.boolean().required().label("Per Child"),perinfant:n.boolean().required().label("Per Infant"),perperiod:n.boolean().required().label("Per Period"),perpet:n.boolean().required().label("Per Pet"),anypet:n.boolean().required().label("Any Pet"),pricingperiod:n.string().required().label("Pricing Period"),minimumdays:n.string().required().label("Minimum Days"),maximumdays:n.string().required().label("Maximum Days"),type:n.string().required().label("Type"),maximumdaysbeforeholiday:n.string().required().label("Maximum Days Before Holiday"),comments:n.string().empty("").label("Comments"),ownerchargeamount:n.number().empty("").label("Owner Charge Amount"),ownerchargecode:n.object().when("ownerchargeamount",{is:n.number().required(),then:n.object().required(),otherwise:n.object().optional()}).label("Owner Charge Code"),defaultforperiod:n.boolean().optional().label("Default For Period")})},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.createPath="device",this.path="device",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{deviceid:this.deviceid,registereddatetime:this.registereddatetime}},t.exports=r},function(t,e,i){var o=i(74),r=i(46);function n(t){this.path="document/"+t,this.createPath="document",this.document=new r,this.id=t}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0);function r(t){this.createPath="location",this.path="location",this.id=t}r.prototype=new o,r.prototype.toArray=function(){var t={longitude:this.longitude,latitude:this.latitude,loggeddatetime:this.loggeddatetime};return this.deviceid&&(t.deviceid=this.deviceid),t},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="refund",this.createPath="refund",this.id=t}r.prototype=new o,r.prototype.toArray=function(){var t={paymentdatetime:this.paymentdatetime,reference:this.reference,paymentmethodid:this.paymentmethod.id,amount:this.amount};return this.bookingpayments.forEach(function(e){var i="bookingpayment_"+e.id;t[i+"_bookingamount"]=e.bookingamount,t[i+"_securitydepositamount"]=e.securitydepositamount}),t},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="vatregistrationperiod",this.createPath="vatregistrationperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,vatnumber:this.vatnumber}},n.prototype.validSchema=function(){return r.object().keys({fromdate:r.string().required().label("From date"),todate:r.string().required().label("To Date"),vatnumber:r.string().required().label("Vat number")})},t.exports=n},function(t,e,i){var o=i(32),r=i(5);function n(t,e,i){this.path=t,this.options.path=t,this.options.object=o,this.page="undefined"!==typeof e?e:null,this.limit="undefined"!==typeof i?i:null}n.prototype=new r,t.exports=n},function(t,e,i){var o=i(2),r=i(5),n=i(32),a=i(287),s=i(288),c=i(289),p=i(99);function h(){this.path="affiliate",this.createPath="affiliate",n.apply(this,arguments),this.apikeys=new r({object:a,parent:this,path:"apikey"}),this.blockperiods=new r({object:s,parent:this,path:"blockperiod"}),this.propertyblockperiods=new r({object:c,parent:this,path:"propertyblockperiod"}),this.customers=new r({object:p,parent:this,path:"actor"})}h.prototype=new n,h.prototype.validSchema=function(){return o.object().keys({companyname:o.string().label("Company name"),addaccidentaldamagedeposit:o.boolean().label("Add accidental damage deposit"),accidentaldamagedepositnotetext:o.string().optional().allow("").label("Accidental damage deposit note text"),processbookingnotetext:o.string().optional().allow("").label("Booking process note text")})},h.prototype.toArray=function(){var t=n.prototype.toArray.call(this);return["abroad","enquirer"].forEach(function(e){"undefined"!==typeof t[e]&&delete t[e]}),t},t.exports=h},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="agencybookingtype",this.createPath="agencybookingtype",this.id=t,this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description"),donotaddservices:r.boolean().required().label("do not add services?")}}}n.prototype=new o,n.prototype.toArray=function(){return{name:this.name,description:this.description,donotaddservices:this.donotaddservices}},t.exports=n},function(t,e,i){var o=i(75),r=i(5);function n(t,e){this.path="agency",this.options.path="agency",this.options.object=o,this.page="undefined"!==typeof t?t:null,this.limit="undefined"!==typeof e?e:null}n.prototype=new r,t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="answeroption",this.createPath="answeroption",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{answeroption:this.answeroption}},n.prototype.validSchema=function(){return r.object().keys({answeroption:r.string().required().label("Answer Option")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="answeroptiongroup",this.createPath="answeroptiongroup",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{answeroptiongroup:this.answeroptiongroup}},n.prototype.validSchema=function(){return r.object().keys({answeroptiongroup:r.string().required().label("Answer Option group name")})},t.exports=n},function(t,e,i){var o=i(0);function r(){this.path="availablebreak",this.createPath=this.path}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0);function r(){}r.prototype=new o,r.prototype.get=function(){return this.okPromiseResult("bacs",this.params)},t.exports=r},function(t,e,i){var o=i(0),r=i(2),n=i(114),a=i(4);function s(t){this.path="approval",this.createPath=this.path,this.id=t,this.approvingactor=new a({entity:"Actor"}),this.actionedbyactor=new a({entity:"Actor"}),this.validSchema=function(){var t={approvingactor:r.object().required().label("Approving Actor"),approveddatetime:r.date().optional().label("Approved Date Time"),actioneddatetime:r.date().optional().label("Actioned Date Time"),comment:r.string().optional().allow("").label("Comment"),approverquestion:r.string().optional().allow("").label("Question"),pending:r.boolean().optional().label("Approval Pending")};return this.id&&(t.approved=r.boolean().optional().allow(null).label("Approved")),t}}s.prototype=new o,s.prototype.toArray=function(){var t={bookingid:this.bookingid,approvingactortype:this.approvingactor.type,approvingactorid:this.approvingactor.id,createddatetime:n().format("YYYY-MM-DD HH:mm:ss"),approveddatetime:this.approveddatetime,actioneddatetime:this.actioneddatetime,comment:this.comment,approverquestion:this.approverquestion,pending:this.pending};return"boolean"===typeof this.approved&&(t.approved=this.approved),t},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="cancellationaction",this.createPath="cancellationaction",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{cancellationaction:r.string().required().label("Cancellation Action"),duedate:r.string().optional().label("Due date"),completeddatetime:r.string().optional().label("Completed date time")}},n.prototype.toArray=function(){return{cancellationactionid:this.cancellationaction.id,duedate:this.duedate,completeddatetime:this.completeddatetime}},t.exports=n},function(t,e,i){var o=i(39),r=i(58);function n(t,e,i,o,n,a,s,c,p,h,d,u,l,m,y,b,g,f,w,v){this.path="/bookingenquiry",this.createPath=this.path,this.params={propertyid:t,brandingid:e,fromdate:i,todate:o,adults:a,children:s,infants:c,pets:p,saleschannel:n,pricingperiod:h,currencycode:d,calculatebrochureprice:m,calculateadditionalextras:y,calculateincludedextras:b,includepartysizepricing:g,includespecialoffers:f,calculatesecuritydeposit:w,calculatedeposit:v},u&&(this.params.currentbookingid=u),l&&(this.params.customerid=l),this.branding=new r}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(39);function r(t,e,i){this.path="booking/"+t.id+"/enquiry",this.createPath=this.path,this.params={extraid:e.id,quantity:i||1}}r.prototype=new o,r.prototype.mutateEntity=function(t){return t},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="paymentitem",this.createPath="paymentitem",this.id=t}n.prototype=new o,n.prototype.toCreateArray=function(){return{fromdate:this.fromdate,todate:this.todate,description:this.description,ownerincome:this.ownerincome,agencyincome:this.agencyincome,agencyvat:this.agencyvat}},n.validSchema=r.object().keys({fromdate:r.string().required().label("fromdate"),todate:r.string().optional().label("todate"),description:r.string().optional().label("description"),ownerincome:r.number().optional().label("ownerincome"),agencyincome:r.number().optional().label("agencyincome"),agencyvat:r.number().optional().label("agencyvat")}),t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="refund",this.createPath="refund",this.id=t}r.prototype=new o,r.prototype.toArray=function(){var t={actorid:this.actor.id,paymentdatetime:this.paymentdatetime,reference:this.reference,paymentmethodid:this.paymentmethod.id,currencyid:this.currency.id};return this.bookingpayments.forEach(function(e){var i="bookingpayment_"+e.id;t[i+"_bookingamount"]=e.bookingamount,t[i+"_securitydepositamount"]=e.securitydepositamount}),t},t.exports=r},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="hold",this.id=t,this.tabsuser=new r({entity:"TabsUser"})}n.prototype=new o,n.prototype.toArray=function(){return{type:this.type,helddate:this.helddate,helduntildate:this.helduntildate,reason:this.reason,tabsuserid:this.tabsuser.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="withhold",this.id=t,this.tabsuser=new r({entity:"TabsUser"}),this.agency=new r({entity:"Agency"}),this.ownercharge=new r({entity:"OwnerCharge"})}n.prototype=new o,n.prototype.toArray=function(){return{type:this.type,amount:this.amount,reason:this.reason,helddate:this.helddate,tabsuserid:this.tabsuser.id,agencyid:this.agency.id,ownerchargeid:this.ownercharge.id}},t.exports=n},function(t,e,i){var o=i(83),r=i(5);function n(t,e){this.path="booking",this.options.path=this.path,this.options.object=o,this.page="undefined"!==typeof t?t:null,this.limit="undefined"!==typeof e?e:null}n.prototype=new r,t.exports=n},function(t,e,i){var o=i(39);function r(t){this.path="branding/"+t+"/extra"}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(75),n=i(2);function a(t){this.path="brandinggroup",this.createPath="brandinggroup",this.id=t,this.agency=new r,this.validSchema=function(){return{code:n.string().required().min(2).max(4).uppercase().label("Code"),name:n.string().required().label("Name"),agency:n.object().required().label("Agency")}}}a.prototype=new o,a.prototype.toArray=function(){return{brandinggroupcode:this.code,brandinggroup:this.name,agencyid:this.agency.id}},a.prototype.toString=function(){return this.name},t.exports=a},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="leadtimeperiod",this.createPath="leadtimeperiod",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{leaddaysfrom:this.leaddaysfrom,leaddaysto:this.leaddaysto,depositduedays:this.depositduedays}},n.prototype.validSchema=function(){return o.object().keys({leaddaysfrom:o.number().required().label("Lead days from"),leaddaysto:o.number().required().label("Lead days to"),depositduedays:o.number().required().label("deposit due days")})},t.exports=n},function(t,e,i){var o=i(0),r=i(99),n=i(4),a=i(171);function s(t){this.path=this.createPath="request",this.id=t,this.customer=new r,this.brochure=new n({entity:"Brochure"}),this.sourcemarketingbrand=new a}s.prototype=new o,s.prototype.toArray=function(){var t={customerid:this.customer.id,emailoptin:this.emailoptin,processeddatetime:this.processeddatetime};return this.sourcemarketingbrand&&this.sourcemarketingbrand.id&&(t.sourcemarketingbrandid=this.sourcemarketingbrand.id),t},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="cancellationaction",this.createPath="cancellationaction",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{cancellationaction:r.string().required().label("Cancellation Action"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{cancellationaction:this.cancellationaction,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(2),n=i(307);function a(t){this.path="cancellationreason",this.createPath="cancellationreason",this.id=t,this.cancellationreasongroup=new n}a.prototype=new o,a.prototype.validSchema=function(){return{cancellationreason:r.string().required().label("Cancellation Reason"),cancellationreasongroup:r.object().label("Cancellation reason group"),covered:r.boolean().label("Covered by cancellation protection scheme"),agencybooking:r.boolean().label("Applies to agency bookings"),ownerbooking:r.boolean().label("Owner bookings"),customerbooking:r.boolean().label("Customer bookings"),potentialbooking:r.boolean().label("Potential bookings"),provisionalbooking:r.boolean().label("Provisional bookings"),confirmedbooking:r.boolean().label("Confirmed bookings")}},a.prototype.toArray=function(){return{cancellationreason:this.cancellationreason,covered:this.covered,agencybooking:this.agencybooking,ownerbooking:this.ownerbooking,customerbooking:this.customerbooking,potentialbooking:this.potentialbooking,provisionalbooking:this.provisionalbooking,confirmedbooking:this.confirmedbooking,cancellationreasongroupid:this.cancellationreasongroup.id}},t.exports=a},function(t,e,i){var o=i(39);function r(t){this.path="changedaytemplate/"+t+"/day",this.createPath=this.path}r.prototype=new o,r.prototype.mutateEntity=function(t){return t},t.exports=r},function(t,e,i){var o=i(5),r=i(308);function n(t,e,i,o){this.path=t+"/"+e+"/history",this.options.path=this.path,this.options.object=r,this.page="undefined"!==typeof i?i:null,this.limit="undefined"!==typeof o?o:null}n.prototype=new o,n.prototype.mutateResponse=function(t){return this.collection=t.elements.map(function(t){return(new(Function.prototype.bind.apply(r,null))).mutateResponse(t)}),this.total=t.total,this.page=t.page,this.limit=t.limit,this.time=t.time,this},t.exports=n},function(t,e,i){var o=i(0),r=i(172),n=i(2);function a(t){this.path="informationcategory",this.createPath=this.path,this.id=t,this.informationcategory=new r}a.prototype=new o,a.prototype.toArray=function(){return{informationcategoryid:this.informationcategoryid}},a.prototype.validSchema=function(){return n.object().keys({informationcategory:n.object().label("informationcategory")})},t.exports=a},function(t,e,i){var o=i(0),r=i(5),n=i(309),a=i(310),s=i(313),c=i(112),p=i(2);function h(t){this.path="propertybranding",this.createPath=this.path,this.id=t,this.channel=new n,this.propertybranding=new c,this.informationcategories=new r({object:s,path:"informationcategory",parent:this}),this.settingvalues=new r({object:a,path:"settingvalue",parent:this})}h.prototype=new o,h.prototype.toArray=function(){return{propertybrandingid:this.propertybranding.id,channelpropertyreference:this.channelpropertyreference}},h.prototype.validSchema=function(){return p.object().keys({propertybranding:p.object().label("propertybranding"),channelpropertyreference:p.string().label("channelpropertyreference")})},t.exports=h},function(t,e,i){var o=i(0),r=i(2),n=i(32);function a(t){this.path="assignment",this.createPath="assignment",this.id=t,this.actor=new n}a.prototype=new o,a.prototype.validSchema=function(){return{actor:r.object().required().label("Tabs user"),assigneddatetime:r.string().optional().allow("").label("assigned date time"),actionrequiredbydatetime:r.string().optional().allow("").label("action required by date time")}},a.prototype.toArray=function(){return{actorid:this.actor.id,assigneddatetime:this.assigneddatetime,actionrequiredbydatetime:this.actionrequiredbydatetime}},t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(170),a=i(317);function s(t){this.path="bookingextra",this.createPath="bookingextra",this.id=t,this.bookingextra=new n,this.complaintdiscountextra=new a}s.prototype=new o,s.prototype.validSchema=function(){return{type:r.string().valid("Agency","Owner").label("type"),price:r.number().required().label("price"),quantity:r.number().required().label("quantity")}},s.prototype.toArray=function(){return{type:this.type,price:this.price,quantity:this.quantity}},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="complaintstatus",this.createPath="complaintstatus",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{complaintstatus:r.string().required().label("Complaint Status"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{complaintstatus:this.complaintstatus,description:this.description}},n.prototype.toString=function(){return this.complaintstatus},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="contactmethodsubtype",this.createPath=this.path,this.id=t,this.validSchema=function(){return{contactmethodsubtype:r.string().required().label("contact method sub type")}}}n.prototype=new o,n.prototype.toArray=function(){return{contactmethodsubtype:this.contactmethodsubtype}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="contactschedule",this.createPath="contactschedule",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{contactschedule:r.string().required().label("Contact Schedule"),description:r.string().required().label("Description")}},n.prototype.toArray=function(){return{contactschedule:this.contactschedule,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="period",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return r.object().keys({fromdate:r.date().required().label("from date"),todate:r.date().required().label("to date"),propertyid:r.string().optional().allow("").label("property id"),bookingbrandid:r.string().optional().allow("").label("branding id"),dayofweek:r.number().optional().allow("").label("day of week"),fromtime:r.string().optional().label("from time"),totime:r.string().optional().label("to time"),exclude:r.boolean().optional().label("exclude")})},n.prototype.toArray=function(){var t={fromdate:this.fromdate,todate:this.todate};return this.exclude?t.exclude=this.exclude:!1===this.exclude&&(t.exclude=!1),this.propertyid&&(t.propertyid=this.propertyid),this.bookingbrandid&&(t.bookingbrandid=this.bookingbrandid),this.dayofweek&&(t.dayofweek=this.dayofweek,t.fromtime=this.fromtime,t.totime=this.totime),t},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="contact/"+t+"/send",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="contacttype",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{type:r.string().required().label("type")}},n.prototype.toArray=function(){return{type:this.type}},t.exports=n},function(t,e,i){var o=i(2),r=i(39);function n(t){this.path="copypricing",this.createPath="copypricing",this.id=t}n.prototype=new r,n.prototype.toArray=function(){var t={type:this.type,fromid:this.from.id,ignorepricingagreed:this.ignorepricingagreed,fromyear:this.fromyear,toyear:this.toyear,checkforoverlap:this.checkforoverlap,overlapaction:this.overlapaction,copyminimums:this.copyminimums,copyoverrides:this.copyoverrides,copypartysizeprices:this.copypartysizeprices,incrementamount1:this.incrementamount1,incrementpercentage:this.incrementpercentage,incrementamount2:this.incrementamount2,roundtonearest:this.roundtonearest,usepricinggroupyear:this.usepricinggroupyear};return this.adjustforchangeday?t.adjustforchangeday=this.adjustforchangeday:t.adjustforchangeday=!1,this.to&&this.to.id&&(t.toid=this.to.id),this.toyear!=this.fromyear||this.adjustforchangeday||(t.datemodifier=this.datemodifier+" days"),this.copypartysizeprices&&(this.partysizepricing&&this.partysizepricing.id?t.partysizepricingid=this.partysizepricing.id:(t.partysizepricing_description=this.partysizepricing_description,t.partysizepricing_partysizefrom=this.partysizepricing_partysizefrom,t.partysizepricing_partysizeto=this.partysizepricing_partysizeto,t.partysizepricing_partysizepricetype=this.partysizepricing_partysizepricetype,t.partysizeprice_useasbase=this.partysizeprice_useasbase,t.partysizeprice_decimalplaces=this.partysizeprice_decimalplaces)),!0===this.usepricinggroupyear&&(t.toyear=String(Number(t.fromyear)+1)),this.deleteexistingpricing&&(t.deleteexistingpricing=this.deleteexistingpricing),t},n.prototype.create=function(){return this.createSimplePromiseResult(this.path,this.toArray())},n.prototype.validSchema=function(){return o.object().keys({type:o.any().valid("Branding","Property","PropertyBranding").label("Type"),fromid:o.object().required().label("From ID"),toid:o.object().optional().label("To ID")})},t.exports=n},function(t,e,i){var o=i(0),r=i(100),n=i(47);function a(t){this.path=this.createPath="ownerchargecode",this.id=t,this.costitemcode=new r,this.ownerchargecode=new n}a.prototype=new o,a.prototype.toArray=function(){return{costitemcodeid:this.costitemcode.id,ownerchargecodeid:this.ownerchargecode.id}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="creditorpaymentmethod",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{creditorpaymentmethod:this.creditorpaymentmethod,requiresbankaccount:this.requiresbankaccount}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path=this.createPath="crontask",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{schedule:this.schedule,type:this.type,method:this.method,url:this.url,parameters:this.parameters,headers:this.headers}},n.prototype.validSchema=function(){return r.object().keys({schedule:r.string().required().label("Schedule"),type:r.string().required().label("Type"),method:r.string().required().label("Method"),url:r.string().required().label("URL"),parameters:r.string().empty("").label("Parameters"),headers:r.string().empty("").label("Headers")})},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(63),a=i(322),s=i(321);function c(t){this.path=this.createPath="marketingbrand",this.id=t,this.marketingbrand=new n,this.firstcustomersource=new a,this.sources=new r({object:a,path:"source",parent:this}),this.emaillists=new r({object:s,path:"emaillist",parent:this})}c.prototype=new o,c.prototype.toArray=function(){return{marketingbrandid:this.marketingbrand.id,nocontact:this.nocontact,firstcustomersourceid:this.firstcustomersource.id}},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="datetouse",this.createPath="datetouse",this.id=t,this.toArray=function(){return{name:this.name,description:this.description}},this.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description")}}}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(58),n=i(31),a=i(326),s=i(2);function c(t){this.path="depositamount",this.createPath="depositamount",this.id=t,this.branding=new r,this.currency=new n,this.depositamounttype=new a,this.validSchema=function(){var t={type:s.string().required().label("type").allow(["General","Property","Booking","Branding"]),name:s.string().required().label("name"),description:s.string().required().label("description"),currency:s.object().required().label("currency"),pricingperiod:s.object().required().label("pricing period"),depositamounttype:s.object().required().label("deposit amount type"),amount:s.string().required().label("amount"),decimalplaces:s.number().required().label("decimal places"),usebrochureprice:s.boolean().label("use brochure price?"),plusadditionalextras:s.boolean().label("plus additional extras?")};return["Branding","Property"].indexOf(this.type)>=0&&(t.fromdate=s.date().required().label("from date"),t.todate=s.date().required().label("from date"),t.minimumamount=s.number().required().label("minimum amount")),"Property"===this.type&&(t.property=s.object().required().label("Property")),"Branding"===this.type&&(t.branding=s.object().required().label("Branding")),t}}c.prototype=new o,c.prototype.toArray=function(){var t={type:this.type,name:this.name,description:this.description,currencyid:this.currency.id,pricingperiod:this.pricingperiod.pricingperiod,depositamounttype:this.depositamounttype.depositamounttype,amount:this.amount,decimalplaces:this.decimalplaces,plusincludedextras:this.plusincludedextras,plusadditionalextras:this.plusadditionalextras,usebrochureprice:this.usebrochureprice};return"Branding"==this.type&&(t.brandingid=this.branding.id),"Property"==this.type&&(t.propertyid=this.property.id),"Booking"!==this.type&&(t.fromdate=this.fromdate,t.todate=this.todate,t.minimumamount=this.minimumamount),t},t.exports=c},function(t,e,i){var o=i(0),r=i(67);function n(t){this.path="extra",this.createPath="extra",this.id=t,this.extra=new r}n.prototype=new o,n.prototype.toArray=function(){var t={subtract:this.subtract};return this.extra&&(t.extraid=this.extra.id),t},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="documenttag",this.createPath="documenttag",this.id=t,this.validSchema=function(){return{tag:r.string().required().min(1).label("tag").description("Tag name")}}}n.prototype=new o,n.prototype.toArray=function(){return{tag:this.tag}},n.prototype.toString=function(){return this.tag},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(76),a=i(84),s=i(329);function c(t){this.path="entry",this.createPath="entry",this.id=t,this.account=new n,this.doubleentrydefinition=new r({entity:"DoubleEntryDefinition"}),this.entrydefinition=new r({entity:"EntryDefinition"}),this.bookingbrand=new a,this.transaction=new s}c.prototype=new o,t.exports=c},function(t,e,i){var o=i(0),r=i(276),n=i(305),a=i(76),s=i(2);function c(t,e,i){this.path="transactiondefinition/"+t+"/doubleentrydefinition/"+e+"/entrydefinition",this.createPath=this.path,this.id=i,this.accountvaluetype=new r,this.brandsource=new n,this.account=new a}c.prototype=new o,c.prototype.toArray=function(){var t={debit:this.debit,accountvaluetypeid:this.accountvaluetype.id,brandsourceid:this.brandsource.id,type:this.type,donotdelete:this.donotdelete};return"Standard"==this.type&&(t.accountid=this.account.id),t},c.prototype.validSchema=function(){return s.object().keys({debit:s.boolean().label("debit"),accountvaluetype:s.object().required().label("Account Value Type"),brandsource:s.object().optional().label("Brand Source"),type:s.string().valid("Standard","Extra","OwnerCharge","Payment","CostItem").label("type"),account:s.object().when("type",{is:"Standard",then:s.required()}).label("Account"),donotdelete:s.boolean().optional().label("do not delete")})},t.exports=c},function(t,e,i){var o=i(0),r=i(100),n=i(76),a=i(2);function s(t,e,i,o){this.path="transactiondefinition/"+t+"/doubleentrydefinition/"+e+"/entrydefinition/"+i+"/costitemcode",this.createPath=this.path,this.id=o,this.costitemcode=new r,this.account=new n}s.prototype=new o,s.prototype.toArray=function(){return{costitemcodeid:this.costitemcode.id,accountid:this.account.id}},s.prototype.validSchema=function(){return a.object().keys({costitemcode:a.object().required().label("Cost Item Code"),account:a.object().required().label("Account")})},t.exports=s},function(t,e,i){var o=i(0),r=i(152),n=i(76),a=i(2);function s(t,e,i,o){this.path="transactiondefinition/"+t+"/doubleentrydefinition/"+e+"/entrydefinition/"+i+"/extrabranding",this.createPath=this.path,this.id=o,this.extrabranding=new r,this.account=new n}s.prototype=new o,s.prototype.toArray=function(){return{extrabrandingid:this.extrabranding.id,accountid:this.account.id}},s.prototype.validSchema=function(){return a.object().keys({extrabranding:a.object().required().label("Extra Branding"),account:a.object().required().label("Account")})},t.exports=s},function(t,e,i){var o=i(0),r=i(47),n=i(76),a=i(2);function s(t,e,i,o){this.path="transactiondefinition/"+t+"/doubleentrydefinition/"+e+"/entrydefinition/"+i+"/ownerchargecode",this.createPath=this.path,this.id=o,this.ownerchargecode=new r,this.account=new n}s.prototype=new o,s.prototype.toArray=function(){return{ownerchargecodeid:this.ownerchargecode.id,accountid:this.account.id}},s.prototype.validSchema=function(){return a.object().keys({ownerchargecode:a.object().required().label("Owner Charge Code"),account:a.object().required().label("Account")})},t.exports=s},function(t,e,i){var o=i(0),r=i(120),n=i(76),a=i(2);function s(t,e,i,o){this.path="transactiondefinition/"+t+"/doubleentrydefinition/"+e+"/entrydefinition/"+i+"/paymentmethod",this.createPath=this.path,this.id=o,this.paymentmethod=new r,this.account=new n}s.prototype=new o,s.prototype.toArray=function(){return{paymentmethodid:this.paymentmethod.id,accountid:this.account.id}},s.prototype.validSchema=function(){return a.object().keys({paymentmethod:a.object().required().label("Payment Method"),account:a.object().required().label("Account")})},t.exports=s},function(t,e,i){var o=i(0),r=i(2),n=i(4);function a(t){this.createPath=this.path="eventlog",this.id=t,this.type="Booking",this.booking=new n({entity:"Booking"}),this.property=new n({entity:"Property"}),this.actor=new n({entity:"Customer"}),this.validSchema=function(){var t={eventtype:r.object().required().label("Event type")};return"Booking"===this.type?t.booking=r.object().required().label("Booking"):"Property"===this.type?t.property=r.object().required().label("Property"):"Actor"===this.type?t.actor=r.object().required().label("Actor"):t.type=r.any().required().label("Type").allow(["Booking","Property","Actor"]),t}}a.prototype=new o,a.prototype.toArray=function(){var t={eventtypeid:this.eventtype.id,type:this.type};return this.booking.id&&(t.bookingid=this.booking.id),this.property.id&&(t.propertyid=this.property.id),this.actor.id&&(t.actorid=this.actor.id),t},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.createPath=this.path="eventtype",this.id=t,this.validSchema=function(){var t={eventtype:r.string().required().label("Event name").description("The name of your event you want to define")};return this.id||(t.appliestobooking=r.boolean().required().label("Applies to booking"),t.appliestoactor=r.boolean().required().label("Applies to actor"),t.appliestoproperty=r.boolean().required().label("Applies to property")),t}}n.prototype=new o,n.prototype.toArray=function(){return{eventtype:this.eventtype,appliestobooking:this.appliestobooking,appliestoactor:this.appliestoactor,appliestoproperty:this.appliestoproperty}},n.prototype.toString=function(){return this.eventtype},t.exports=n},function(t,e,i){var o=i(0),r=i(331),n=i(31),a=i(5),s=i(121),c=i(2);function p(t){this.path=this.createPath="exchangerateissue",this.id=t,this.type=new r,this.currency=new n,this.exchangerates=new a({object:s,path:"rate",parent:this}),this.validSchema=function(){return{type:c.object().required().label("Type"),currency:c.object().required().label("Currency"),issuenumber:c.number().label("issue number"),fromdate:c.date().label("from date"),todate:c.date().label("to date"),description:c.string().required().label("Description")}}}p.prototype=new o,p.prototype.toArray=function(){return{exchangerateissuetypeid:this.type.id,currencyid:this.currency.id,issuenumber:this.issuenumber,fromdate:this.fromdate,todate:this.todate,description:this.description}},t.exports=p},function(t,e,i){var o=i(0),r=i(2),n=i(294);function a(t){this.path="bookingreason",this.createPath="bookingreason",this.id=t,this.bookingreason=new n}a.prototype=new o,a.prototype.toArray=function(){return{bookingreasonid:this.bookingreasonid}},a.validSchema=r.object().keys({bookingreasonid:r.number().required().label("bookingreasonid")}),t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="affiliateoverride",this.createPath=this.path,this.id=t,this.validSchema=function(){return{compulsory:r.bool().required().label("compulsory")}}}n.prototype=new o,n.prototype.toArray=function(){var t={compulsory:this.compulsory,affiliateid:this.affiliate.id};return this.vatband&&this.vatband.id&&(t.vatbandid=this.vatband.id),t},t.exports=n},function(t,e,i){var o=i(0),r=i(148),n=i(2);function a(t,e,i,o){this.path="extra/"+t+"/branding/"+e+"/pricing/"+i+"/pricetype",this.createPath=this.path,this.id=o,this.PriceType=new r}a.prototype=new o,a.prototype.toArray=function(){return{pricetypeid:this.pricetype.id,price:this.price}},a.prototype.validSchema=function(){return n.object().keys({pricetype:n.object().label("PriceType"),price:n.number().double().label("Price")})},t.exports=a},function(t,e,i){var o=i(0);function r(t,e,i,o){this.path="extra/"+t+"/branding/"+e+"/pricing/"+i+"/rangeelement",this.createPath=this.path,this.id=o}r.prototype=new o,r.prototype.toArray=function(){return{lowvalue:this.lowvalue,highvalue:this.highvalue,price:this.price}},t.exports=r},function(t,e,i){var o=i(0);function r(t,e,i,o,r){this.path="extra/"+t+"/branding/"+e+"/pricing/"+i+"/rangeelement/"+o+"/pricetype",this.createPath=this.path,this.id=r}r.prototype=new o,r.prototype.toCreateArray=function(){return{pricetypeid:this.pricetype.id,price:this.price}},r.prototype.toUpdateArray=function(){return{pricetypeid:this.pricetype.id,price:this.price}},t.exports=r},function(t,e,i){var o=i(39);function r(t,e,i,o,r){this.searchterm=t,this.category=e,this.path="globalsearch";var n=t;null!=e&&(n+=" AND type:"+e),i||(n+=" AND active:1"),this.params={query:n,start:o,size:r}}r.prototype=new o,r.prototype.toArray=function(){return{searchterm:this.searchterm,category:this.category,page:this.page,limit:this.limit}},t.exports=r},function(t,e,i){var o=i(5),r=i(176),n=i(177),a=i(335),s=i(140);function c(){this.nestedGroups=[]}c.prototype=new o({path:"grouping",object:r}),c.prototype.getGroupingValueCollections=function(){for(var t=new a,e=0;e<this.collection.length;e++)t.collections.push(new o({path:"value",parent:this.collection[e],object:n}));return t},c.prototype.postResponse=function(){var t=0,e=this.collection.filter(function(t){return!1===t.hasParent()}),i=e.length;do{e.forEach(function(e){e.depth=t}),t++;var o=e.map(function(t){return t.id});i+=(e=this.collection.filter(function(t){return"object"===typeof t.parentgrouping&&o.indexOf(t.parentgrouping.id)>-1})).length}while(e.length>0&&i<=this.collection.length);for(var r=0;r<this.collection.length;r++)this.collection[r].children=[];this.nestedGroups=this.getNestedGroupings()},c.prototype.getNestedGroupings=function(){return function t(e,i,o){o=o||[],i=i||{};var r=s.filter(e,function(t){return"undefined"===typeof t.parentgrouping&&(t.parentgrouping={}),t.parentgrouping.id===i.id});return s.isEmpty(r)||("undefined"===typeof i.id?o=r:i.children=r,s.each(r,function(i){t(e,i)})),o}(this.collection,void 0,[])},c.prototype.traverse=function(t){"function"!==typeof t&&(t=function(){console.log(Array(this.depth).join("-")+(this.depth>0?"-> ":"")+this.name+" ("+this.depth+")")});return function e(i){i.forEach(function(i){t.call(i),i.children&&i.children.length>0&&e(i.children)})}(this.nestedGroups)},t.exports=c},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="guestagerange",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{agefrom:r.number().required().label("age from"),ageto:r.number().required().label("age to")}},n.prototype.toArray=function(){return{agefrom:this.agefrom,ageto:this.ageto}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="guesttype",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{guesttype:r.string().required().label("Guest type")}},n.prototype.toArray=function(){return{guesttype:this.guesttype}},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(4),a=i(178);function s(t){this.path=this.createPath="inspection",this.id=t,this.inspectiontype=new a,this.Property=new n({entity:"Property"})}s.prototype=new r,s.prototype.toArray=function(){return{inspectiondate:this.inspectiondate,grading:this.grading,gradingunit:this.gradingunit,inspectorname:this.inspectorname,notes:this.notes,inspectiontypeid:this.inspectiontype.id,reinspectiondate:this.reinspectiondate}},s.prototype.validSchema=function(){return o.object().keys({inspectiondate:o.date().optional().label("Inspection Date"),grading:o.string().optional().allow("").label("Grading"),gradingunit:o.string().optional().allow("").max(16).label("Grading Unit"),inspectorname:o.string().optional().allow("").max(40).label("Inspector Name"),notes:o.string().optional().allow("").label("Notes"),inspectiontype:o.object().required().label("Inspection Type"),reinspectiondate:o.date().optional().allow("").label("Reinspection date")})},t.exports=s},function(t,e,i){var o=i(0),r=i(337);function n(t){this.path=this.createPath="job",this.id=t,this.jobtype=new r}n.prototype=new o,n.prototype.toArray=function(){var t={jobtypeid:this.jobtype.id,createddatetime:this.createddatetime,createdbyactorid:this.createdbyactor.id,cancelleddatetime:this.cancelleddatetime,reference:this.reference};return this.cancelledbyactor&&(t.cancelledbyactorid=this.cancelledbyactor.id),this.ids&&(t.ids=this.ids),this.workdonedate&&(t.workdonedate=this.workdonedate),this.addendum&&(t.addendum=this.addendum),this.subject&&(t.subject=this.subject),this.message&&(t.message=this.message),t},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="item",this.id=t,this.lastjobitemresponse=new r({entity:"JobItemResponse"})}n.prototype=new o,n.prototype.toArray=function(){return{requesturl:this.requesturl,requestmethod:this.requestmethod,completeddatetime:this.completeddatetime,successful:this.successful}},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="response",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{responsedatetime:this.responsedatetime,statuscod:this.statuscode,content:this.content}},t.exports=r},function(t,e,i){var o=i(2),r=i(0),n=i(4),a=i(179);function s(t){this.path="check",this.createPath="check",this.id=t,this.tabsuser=new n({entity:"TabsUser"}),this.keycheckreason=new a,this.actor=new n({entity:"Actor"})}s.prototype=new r,s.prototype.toArray=function(){var t={type:this.type,checkdatetime:this.checkdatetime,notes:this.notes,tabsuserid:this.tabsuser.id,keycheckreasonid:this.keycheckreason.id,expectedbackdatetime:this.expectedbackdatetime,actorid:this.actor&&this.actor.id};return"KeyCheckIn"===this.type&&(t.keycheckoutid=this.parent.lastcheck.id),t},s.prototype.validSchema=function(){return o.object().keys({type:o.string().valid(["KeyCheckOut","KeyCheckIn"]).required(),checkdatetime:o.string().label("Date and time"),notes:o.string().empty("").label("Notes"),tabsuser:o.object().label("Tabs user"),keycheckreason:o.object().label("Reason"),expectedbackdatetime:o.when("type",{is:"KeyCheckOut",then:o.string().empty(""),otherwise:o.forbidden()}).label("Expected back date and time"),actor:o.object().empty("").label("Actor")})},t.exports=s},function(t,e,i){var o=i(2),r=i(0),n=i(84),a=i(179);function s(t){this.path="keysbookingbrand",this.createPath="keysbookingbrand",this.id=t,this.bookingbrand=new n,this.defaultkeycheckreason=new a}s.prototype=new r,s.prototype.toArray=function(){return{bookingbrandid:this.bookingbrand.id,defaultkeycheckreasonid:this.defaultkeycheckreason.id}},s.prototype.validSchema=function(){return o.object().keys({bookingbrand:o.object().required().label("Booking Brand"),defaultkeycheckreason:o.object().label("Default Key Check Reason")})},t.exports=s},function(t,e,i){var o=i(2),r=i(0),n=i(341);function a(t){this.path="keyy",this.createPath="keyy",this.id=t,this.keytag=new n}a.prototype=new r,a.prototype.toArray=function(){return{serialnumber:this.serialnumber,manufacturerortype:this.manufacturerortype,description:this.description}},a.prototype.validSchema=function(){return o.object().keys({serialnumber:o.string().required().label("Serial Number"),manufacturerortype:o.string().required().label("Manufacturer or Type"),description:o.string().required().label("Description")})},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="labelqueue",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{sortreference:this.sortreference,reference:this.reference,textjson:this.textjson,printed:this.printed}},r.prototype.getText=function(){try{return JSON.parse(this.textjson)}catch(t){return this.textjson}},r.prototype.toString=function(t){var e=this.getText();return e.join?e.join(t||"\n"):e},t.exports=r},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(342);function a(t){this.path=this.createPath="labeltemplate",this.id=t,this.papersize=new n}a.prototype=new r,a.prototype.toArray=function(){return{name:this.name,papersizeid:this.papersize.id,headersize:this.headersize,horizontalcount:this.horizontalcount,verticalcount:this.verticalcount,labelwidth:this.labelwidth,labelheight:this.labelheight,columnspacing:this.columnspacing,rowspacing:this.rowspacing,labelpadding:this.labelpadding,fontfamily:this.fontfamily,fontsize:this.fontsize,margintop:this.margintop,marginbottom:this.marginbottom,marginleft:this.marginleft,marginright:this.marginright}},a.prototype.render=function(t,e){var i=[];for(var r in t)i.push(r+"="+t[r]);return e||(e=1),o.get(this.getUpdatePath()+"/render?filter="+i.join(":")+"&startlabel="+e)},t.exports=a},function(t,e,i){var o=i(0);function r(t,e){this.path="managedactivity/"+t+"/service",this.createPath="managedactivity/"+t+"/service",this.id=e}r.prototype=new o,r.prototype.toCreateArray=function(){return{serviceid:this.serviceid,fromdate:this.fromdate,todate:this.todate}},r.prototype.toUpdateArray=function(){return{serviceid:this.serviceid,fromdate:this.fromdate,todate:this.todate}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="ownerbookingtype",this.createPath="ownerbookingtype",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{name:r.string().required().label("name"),description:r.string().required().label("description"),longdescription:r.string().required().label("long description"),donotaddservices:r.boolean().required().label("donotaddservices"),inactive:r.boolean().optional().label("inactive")}},n.prototype.toArray=function(){return{name:this.name,description:this.description,longdescription:this.longdescription,donotaddservices:this.donotaddservices,inactive:this.inactive}},t.exports=n},function(t,e,i){var o=i(0);function r(){this.path=this.createPath="ownercharge/import"}r.prototype=new o,r.prototype.toArray=function(){return{tabsuserid:this.tabsuser.id,data:this.data.replace(/\n/g,"|"),importtype:"csv"}},t.exports=r},function(t,e,i){var o=i(74),r=i(46);function n(t,e){this.path="owner/"+t+"/document",this.createPath="owner/"+t+"/document",this.document=new r,this.id=e}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(346),n=i(32),a=i(2);function s(t){this.path="enquiryaction",this.createPath="enquiryaction",this.id=t,this.ownerenquiryactiontype=new r,this.completedbytabsuser=new n}s.prototype=new o,s.prototype.toArray=function(){var t={ownerenquiryactiontypeid:this.ownerenquiryactiontype.id};return this.duedate&&(t.duedate=this.duedate),this.completeddate&&(t.completeddate=this.completeddate,t.completedbytabsuserid=this.completedbytabsuser?this.completedbytabsuser.id:null),t},s.prototype.validSchema=function(){return a.object().keys({ownerenquiryactiontype:a.object().required().label("OwnerEnquiryActionType"),duedate:a.date().optional().label("duedate"),completeddate:a.date().optional().label("completeddate"),completedbytabsuser:a.object().optional().label("completedbytabsuser")})},t.exports=s},function(t,e,i){var o=i(0),r=i(2);function n(t){this.id=t,this.path="ownerenquiryinactivereason",this.createPath=this.path,this.validSchema=function(){return{reason:r.string().required().label("reason"),description:r.string().required().label("description")}}}n.prototype=new o,n.prototype.toArray=function(){return{reason:this.reason,description:this.description}},t.exports=n},function(t,e,i){var o=i(2),r=i(0),n=i(4);function a(t){this.path=this.createPath="payment",this.id=t,this.tabsuser=new n({entity:"TabsUser"}),this.owner=new n({entity:"Owner"}),this.ownerstatement=new n({entity:"OwnerStatement"})}a.prototype=new r,a.prototype.toUpdateArray=function(){return{sortcode:this.sortcode,accountname:this.accountname,accountnumber:this.accountnumber,chequenumber:this.chequenumber,bankreference:this.bankreference,ownerreference:this.ownerreference}},a.prototype.validSchema=o.object().keys({sortcode:o.string().empty("").label("sort code"),accountname:o.string().empty("").label("account name"),accountnumber:o.string().empty("").label("account number"),chequenumber:o.string().empty("").label("cheque number"),bankreference:o.string().empty("").label("bank reference"),ownerreference:o.string().empty("").label("owner reference"),parent:o.object().required()}),t.exports=a},function(t,e,i){var o=i(0),r=i(4),n=i(5),a=i(347),s=i(348),c=i(2),p=i(114);function h(t){this.path="ownerpaymentselection",this.createPath="ownerpaymentselection",this.id=t,this.bookingbrand=new r({entity:"BookingBrand"}),this.createdby=new r({entity:"TabsUser"}),this.bookingbrands=new n({object:a,path:"bookingbrand",parent:this}),this.properties=new n({object:s,path:"property",parent:this})}h.prototype=new o,h.prototype.toCreateArray=function(){var t={selectbookingson:this.selectbookingson,paytodate:this.paytodate,ownerids:this.ownerids,propertyids:this.propertyids,createdbytabsuserid:this.createdbytabsuser.id,balancepaid:this.balancepaid||!1,accidentaldamagedepositpaid:this.accidentaldamagedepositpaid||!1};return this.bookingbrands.getTotal()>0?t.bookingbrandids=this.bookingbrands.map(function(t){return t.bookingbrand.id}).join(","):this.bookingbrand.id&&(t.bookingbrandid=this.bookingbrand.id),t},h.prototype.toUpdateArray=function(){var t={};return this.paidbytabsuser&&(t.paidbytabsuserid=this.paidbytabsuser.id),this.owner&&(t.ownerid=this.owner.id),this.cancelledbytabsuser&&(t.cancelledbytabsuserid=this.cancelledbytabsuser.id),this.authorisedbytabsuser&&(t.authorisedbytabsuserid=this.authorisedbytabsuser.id,t.authorised=this.authorised,t.value=this.value),t},h.prototype.payOwner=function(t,e){return this.updatePromiseResult(this.path+"/"+this.id,{ownerid:t.id,paidbytabsuserid:e.id})},h.prototype.getLabel=function(t){var e=[];if(e.push("ID: "+this.id),t&&t.collection.length>1&&(t.collection.length>1?e.push("Booking Brands: "):e.push("Booking Brand: "),e.push(this.bookingbrands.map(function(e){return t.getEntityById(e.bookingbrand.id).name}).join(", "))),this.properties&&this.properties.collection.length&&(e.push("Properties: "),e.push(this.properties.map(function(t){return t.property.id}).join(", "))),this.paytodate&&(e.push("Pay to date: "),e.push(p(this.paytodate).format("D MMM YYYY"))),this.owners&&this.owners.length>0){var i=this.owners.map(function(t){return"id: "+t.owner.split("/")[3]});i.length&&e.push("For owners - "+i.join(", "))}return this.cancelled?e.push("- Cancelled"):this.paid&&e.push("- Paid"),e.join(" ")},h.prototype.toString=function(){return[this.bookingbrand.id,this.paytodate].join(" ")},h.validCreateSchema=c.object().keys({bookingbrand:c.object().optional().label("booking brand"),bookingbrands:c.any().optional().label("booking brands"),selectbookingson:c.string().valid("fromdate","todate").label("select bookings on"),paytodate:c.date().required().label("pay to date"),ownerids:c.string().allow("").optional().label("owner ids"),propertyids:c.string().allow("").optional().label("property ids"),balancepaid:c.boolean().required().label("Bookings with balance paid"),accidentaldamagedepositpaid:c.boolean().required().label("Bookings with ADD waiver paid"),createdbytabsuser:c.object().optional().label("created by")}),h.validUpdateSchema=c.object().keys({paidbytabsuser:c.object().optional().label("Paid by"),createdbytabsuser:c.object().optional().label("created by"),cancelledbytabsuser:c.object().optional().label("cancelled by"),authorisedbytabsuser:c.object().optional().label("authorised by"),authorised:c.boolean().optional().label("authorised"),value:c.number().optional().label("value")}),t.exports=h},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="creditorpaymentmethod",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{creditorpaymentmethod:this.creditorpaymentmethod}},t.exports=r},function(t,e,i){var o=i(0),r=i(4),n=i(69),a=i(31);function s(t){this.path=this.createPath="statement",this.id=t,this.tabsuser=new r({entity:"TabsUser"}),this.owner=new n,this.currency=new a}s.prototype=new o,s.prototype.toArray=function(){return{id:this.id}},s.prototype.render=function(t){return t.createPromiseResult(this.getUpdatePath()+"/render",{})},s.prototype.rendermc=function(t){return t.createPromiseResult(this.getUpdatePath()+"/rendermc",{})},s.prototype.email=function(t,e,i){return this.updatePromiseResult(this.getUpdatePath()+"/email",{message:e,subject:t,bookingbrandid:i.id})},t.exports=s},function(t,e,i){var o=i(0),r=i(4),n=i(5),a=i(67),s=i(353),c=i(69),p=i(2);function h(t){this.path="item",this.createPath="item",this.id=t,this.owner=new c,this.booking=new r({entity:"Booking"}),this.ownercharge=new r({entity:"OwnerCharge"}),this.bookingbrand=new r({entity:"BookingBrand"}),this.vatrate=new s,this.extras=new n({object:a,path:"extra",parents:[this]})}h.prototype=new o,h.prototype.toUpdateArray=function(){var t={};return this.authorisedbytabsuser&&(t.authorisedbytabsuserid=this.authorisedbytabsuser.id,t.authorised=this.authorised),this.dontpayowneruntildate&&(t.dontpayowneruntildate=this.dontpayowneruntildate),t},h.validUpdateSchema=p.object().keys({dontpayowneruntildate:p.object().optional().label("hold date"),authorisedbytabsuser:p.object().optional().label("authorised by"),authorised:p.boolean().optional().label("authorised")}),t.exports=h},function(t,e,i){var o=i(0),r=i(46);function n(t){this.path="personalisedbrochure",this.createPath="personalisedbrochure",this.id=t}n.prototype=new o,n.prototype.print=function(t,e,i,o,n){return(new r).createPromiseResult([this.path,this.id,"print"].join("/"),{customerid:t.id,salutation:e,filter:i.getFilterString().substring(8),optionids:o.join(","),exludedproperties:n.join(",")})},t.exports=n},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="pmschecklist",this.id=t,this.branding=new r({entity:"Branding"}),this.createdbyactor=new r({entity:"Actor"}),this.updatedbyactor=new r({entity:"Actor"})}n.prototype=new o,n.prototype.toArray=function(){return{brandingid:this.branding.id,name:this.name,json:this.json,createddatetime:this.createddatetime,createdbyactorid:this.createdbyactor.id,updateddatetime:this.updateddatetime,updatedbyactorid:this.updatedbyactor.id}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(46),a=i(69);function s(t){this.path="pmsinvoice",this.createPath=this.path,this.document=new n,this.owner=new a,this.id=t}s.prototype=new r,s.prototype.toArray=function(){return{ownerid:this.ownerid,chargeids:this.chargeids}},s.prototype.preview=function(t,e,i,r){return o.get(this.path+"preview?ownerid="+t+"&chargeids="+e+"&addendum="+encodeURIComponent(i)+"&workdonedate="+r)},t.exports=s},function(t,e,i){var o=i(0),r=i(180);function n(t){this.path="ownercharge",this.createPath=this.path,this.ownercharge=new r,this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{ownerchargeid:this.ownercharge.id}},t.exports=n},function(t,e,i){var o=i(5),r=i(93);function n(t,e){this.options.object=r,this.postcode=t,this.house=e,this.getPath=function(){var t="postcode/"+this.postcode;return this.house&&(t+="/"+this.house),t}}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path="potentialbookingtype",this.createPath="potentialbookingtype",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{name:this.name,affectsavailability:this.affectsavailability,expirydays:this.expirydays,expiryhours:this.expiryhours,expiryminutes:this.expiryminutes,autoexpire:this.autoexpire,ignorepricingandchangedays:this.ignorepricingandchangedays,description:this.description}},r.prototype.toString=function(){return[this.name].join(" ")},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="startday",this.createPath="startday",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{dayssincepriceanchor:this.dayssincepriceanchor}},t.exports=r},function(t,e,i){var o=i(0),r=i(5),n=i(181),a=i(2);function s(t){this.path="pricinggroup",this.createPath="pricinggroup",this.id=t,this.years=new r({object:n,path:"year",parent:this})}s.prototype=new o,s.prototype.toArray=function(){return{pricinggroup:this.pricinggroup,description:this.description}},s.prototype.validSchema=function(){return{pricinggroup:a.string().label("pricing group"),description:a.string().label("description")}},t.exports=s},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path="pricingimportexport",this.createPath="pricingimportexport",this.id=t,this.branding=new r({entity:"Branding"}),this.createdtabsuser=new r({entity:"TabsUser"}),this.propertyids=[]}n.prototype=new o,n.prototype.toArray=function(){var t={createdtabsuserid:this.createdtabsuser.id,year:this.year};return this.branding&&this.branding.id&&(t.brandingid=this.branding.id),this.pricinggroup&&(t.pricinggroupid=this.pricinggroup.id),this.importall&&(t.importall=this.importall),this.propertyids.length>0&&(t.propertyids=this.propertyids.join(",")),this.statusids&&this.statusids.length>0&&(t.statusids=this.statusids.join(",")),t},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="pricingmethod",this.createPath="pricingmethod",this.id=t,this.validSchema=function(){return{pricingmethod:r.string().required().label("Pricing method"),description:r.string().required().label("Description")}}}n.prototype=new o,n.prototype.toArray=function(){return{pricingmethod:this.pricingmethod,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(58);function n(t){this.path="branding",this.createPath="branding",this.id=t,this.branding=new r}n.prototype=new o,n.prototype.toArray=function(){return{brandingid:this.branding.id,fromdate:this.fromdate,todate:this.todate}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="promotionperiod",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{fromdate:r.date().optional().label("From date"),todate:r.date().required().label("To date"),comments:r.string().optional().label("Comments")}},n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,comments:this.comments}},t.exports=n},function(t,e,i){var o=i(82),r=i(5);function n(t,e,i){this.path="property",this.options.path="property",this.options.object=o,this.page="undefined"!==typeof t?t:null,this.limit="undefined"!==typeof e?e:null,this.filters="undefined"!==typeof i?i:null}n.prototype=new r,t.exports=n},function(t,e,i){var o=i(93);function r(t,e){this.path="property/"+t+"/address",this.createPath="property/"+t+"/address",this.id=e}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(5),n=i(182),a=i(355),s=i(2);function c(t){this.path="answer",this.createPath="answer",this.id=t,this.propertyquestioncategory=new n,this.documents=new r({object:a,path:"document",parent:this})}c.prototype=new o,c.prototype.toArray=function(){var t={propertyquestionid:this.propertyquestion.id};return null!=this.booleananswer&&(t.booleananswer=this.booleananswer),null!=this.textanswer&&(t.textanswer=this.textanswer),t},c.prototype.validSchema=function(){return s.object().keys({propertyquestion:s.object().label("Question"),booleananswer:s.boolean().optional().label("Boolean Answer"),textanswer:s.string().optional().allow("").label("Text Answer"),answeroption:s.object().optional().label("Answer Option"),lastupdatedatetime:s.string().optional().allow("").label("Last Update time"),lastupdatedbyactor:s.object().optional().label("Last Updated By Actor")})},t.exports=c},function(t,e,i){var o=i(0),r=i(141);function n(t,e){this.propertyId=t,this.path="property/"+this.propertyId+"/attribute",this.createPath=this.path,this.id=e,this.attribute=new r}n.prototype=new o,n.prototype.toArray=function(){return{attributeid:this.attribute.id,value:this.value,unit:this.attribute.unit.name,optionid:this.optionid,comments:this.comments}},n.prototype.toString=function(){switch(this.attribute.type){case"Boolean":return this.value?"yes":"no";case"Hybrid":return(this.value.boolean?"yes":"no")+", "+this.value.number+this.attribute.unit.name;case"Number":return this.value+this.attribute.unit.name}return this.value.toString()},t.exports=n},function(t,e,i){var o=i(39);function r(t,e,i,o,r,n){this.path="/property/"+t+"/branding/"+e+"/availability",this.createPath=this.path,this.params={fromdate:i,todate:o,includechangedays:r,includeoffers:n}}r.prototype=new o,r.prototype.mutateEntity=function(t){return t},t.exports=r},function(t,e,i){var o=i(0),r=i(75);function n(t){this.path="bookingbrand",this.createPath="bookingbrand",this.id=t,this.agency=new r}n.prototype=new o,n.prototype.toArray=function(){return{bookingbrandcode:this.code,bookingbrand:this.name,agencyid:this.agency.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(336),n=i(2);function a(t,e,i){this.path="/property/"+t+"/bookingbrand/"+e+"/instruction",this.createPath=this.path,this.id=i,this.instructiontype=new r}a.prototype=new o,a.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,instructiontext:this.instructiontext,html:this.html,instructiontypeid:this.instructiontypeid}},a.prototype.validSchema=function(){return n.object().keys({fromdate:n.date().required().label("From Date"),todate:n.date().required().label("To Date"),instructiontext:n.string().required().label("Instruction Text"),html:n.boolean().required().label("Html Flag"),instructiontypeid:n.number().required().label("Instruction Type")})},t.exports=a},function(t,e,i){var o=i(0);function r(){this.path="pricing",this.createPath=this.path,this.id=null}r.prototype=new o,r.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,daysofweek:this.daysofweek,adddays:this.adddays}},t.exports=r},function(t,e,i){var o=i(0),r=i(181);function n(t){this.path="pricingyear",this.createPath=this.path,this.id=t,this.pricinggroupyear=new r}n.prototype=new o,n.prototype.toArray=function(){return{pricingyear:this.pricingyear,pricinggroupyearid:this.pricinggroupyear.id,pricingagreed:this.pricingagreed}},t.exports=n},function(t,e,i){var o=i(40),r=i(162);function n(t,e,i,o,n,a){this.path="/property/"+t+"/branding/"+e+"/specialoffer",this.params={fromdate:i,todate:o},n&&a&&(this.params.bookingdate=n,this.params.templatetypeid=a),this.options={object:r}}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(153),n=i(357),a=i(183);function s(t){this.path="status",this.createPath=this.path,this.id=t,this.status=new r,this.reason=new n,this.propertynote=new a}s.prototype=new o,s.prototype.toArray=function(){return{status:this.status.name,fromdate:this.fromdate,todate:this.todate,statusreasonid:this.reason.id,propertynoteid:this.propertynote.id}},t.exports=s},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.createPath=this.path="comment",this.id=t,this.booking=new r({entity:"Booking"})}a.prototype=new o,a.prototype.toArray=function(){return{comment:this.comment,commenter:this.commenter,visibletoowner:this.visibletoowner,visibleonweb:this.visibleonweb,bookingid:this.booking&&this.booking.id,createddate:this.createddate,commentdate:this.commentdate,firstname:this.firstname,surname:this.surname,salutation:this.salutation}},a.prototype.schema=function(){return{comment:n.string().required().label("Comment"),commenter:n.string().optional().allow("").label("Commenter"),firstname:n.string().optional().allow("").label("First name"),surname:n.string().optional().allow("").label("Surname"),salutation:n.string().optional().allow("").label("Salutation"),visibletoowner:n.boolean().label("Visible to owner"),visibleonweb:n.boolean().label("Visible on web"),booking:n.object().optional().label("Booking"),createddate:n.date().optional().label("Date"),commentdate:n.date().optional().label("Comment Date")}},a.prototype.toString=function(){return this.salutation?this.salutation:this.firstname&&this.surname?this.firstname+" "+this.surname:this.commenter},a.prototype.validSchema=function(){return n.object().keys(this.schema())},t.exports=a},function(t,e,i){var o=i(0),r=i(327);function n(t,e,i){this.path="/property/"+t+"/marketingbrand/"+e+"/description",this.createPath=this.path,this.id=i,this.descriptiontype=new r}n.prototype=new o,n.prototype.toArray=function(){return{descriptiontype:this.descriptiontype.name,description:this.description}},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(559);function a(){this.suppliers=new r({object:n})}a.prototype=new o,t.exports=a},function(t,e,i){var o=i(0),r=i(4);function n(){this.actor=new r({entity:"Supplier"})}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(75),n=i(84),a=i(5),s=i(360),c=i(184),p=i(63);function h(t){this.path="marketingbrand",this.createPath=this.path,this.id=t,this.agency=new r,this.defaultbookingbrand=new n,this.marketingbrand=new p,this.groupings=new a({parent:this,path:"groupingvalue",object:s}),this.brochures=new a({parent:this,path:"brochure",object:c})}h.prototype=new o,h.prototype.toArray=function(){return{marketingbrandcode:this.code,marketingbrand:this.name,website:this.website,email:this.email,agencyid:this.agency.id,defaultbookingbrandid:this.defaultbookingbrand.id}},t.exports=h},function(t,e,i){var o=i(0);function r(t){this.createPath="confirmation",this.path="confirmation",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{actorid:this.actorid,bookingid:this.bookingid}},r.prototype.toCreateArray=function(){return{actorid:this.actorid,bookingid:this.bookingid}},t.exports=r},function(t,e,i){var o=i(0),r=i(182),n=i(2);function a(t){this.path="propertyquestion",this.createPath="propertyquestion",this.id=t,this.propertyquestioncategory=new r}a.prototype=new o,a.prototype.toArray=function(){var t={propertyquestioncategoryid:this.propertyquestioncategory.id,question:this.question,booleananswerallowed:this.booleananswerallowed,booleananswerrequired:this.booleananswerrequired,textanswerallowed:this.textanswerallowed,textanswerrequired:this.textanswerrequired,optionanswerrequired:this.optionanswerrequired,displayorder:this.displayorder};return this.answeroptiongroup&&(t.answeroptiongroupid=this.answeroptiongroup.id),this.defaultansweroption&&(t.defaultansweroptionid=this.defaultansweroption.id),t},a.prototype.validSchema=function(){return n.object().keys({propertyquestioncategory:n.object().label("Question Category"),question:n.string().required().label("Question"),booleananswerallowed:n.boolean().required().label("Boolean answer allowed"),booleananswerrequired:n.boolean().required().label("Boolean answer required"),textanswerallowed:n.boolean().required().label("Text answer allowed"),textanswerrequired:n.boolean().required().label("Text answer required"),answeroptiongroupid:n.object().optional().label("Answer Option group"),optionanswerrequired:n.boolean().required().label("Option answer required"),defaultansweroptionid:n.object().optional().label("Default Answer"),displayorder:n.number().optional().label("display order")})},t.exports=a},function(t,e,i){var o=i(0),r=i(47),n=i(2);function a(t,e){this.path="property/"+t+"/securitydeposit",this.createPath=this.path,this.id=e,this.ownerchargecode=new r}a.prototype=new o,a.prototype.toArray=function(){return{bookedfromdate:this.bookedfromdate,bookedtodate:this.bookedtodate,holidayfromdate:this.holidayfromdate,holidaytodate:this.holidaytodate,amount:this.amount,currencycode:this.currency.code,daysduein:this.daysduein,daysdueout:this.daysdueout,refundable:this.refundable,peradult:this.peradult,perchild:this.perchild,perinfant:this.perinfant,perperiod:this.perperiod,perpet:this.perpet,anypet:this.anypet,pricingperiod:this.pricingperiod,minimumdays:this.minimumdays,maximumdays:this.maximumdays,maximumdaysbeforeholiday:this.maximumdaysbeforeholiday,comments:this.comments,ownerchargecodeid:this.ownerchargecode.id,ownerchargeamount:this.ownerchargeamount,defaultforperiod:this.defaultforperiod}},a.prototype.validSchema=function(){return n.object().keys({bookedfromdate:n.date().required().label("Booked From Date"),bookedtodate:n.date().required().label("Booked To Date"),holidayfromdate:n.date().required().label("Holiday From Date"),holidaytodate:n.date().required().label("Holiday To Date"),amount:n.string().required().label("Amount"),currency:n.object().required().label("Currency"),daysduein:n.string().required().label("Days Due In"),daysdueout:n.string().required().label("Days Due Out"),refundable:n.boolean().required().label("Refundable"),peradult:n.boolean().required().label("Per Adult"),perchild:n.boolean().required().label("Per Child"),perinfant:n.boolean().required().label("Per Infant"),perperiod:n.boolean().required().label("Per Period"),perpet:n.boolean().required().label("Per Pet"),anypet:n.boolean().required().label("Any Pet"),pricingperiod:n.string().required().label("Pricing Period"),minimumdays:n.string().required().label("Minimum Days"),maximumdays:n.string().required().label("Maximum Days"),maximumdaysbeforeholiday:n.string().required().label("Maximum Days Before Holiday"),comments:n.string().empty("").label("Comments"),ownerchargeamount:n.number().empty("").label("Owner Charge Amount"),ownerchargecode:n.object().when("ownerchargeamount",{is:n.number().required(),then:n.object().required(),otherwise:n.object().optional()}).label("Owner Charge Code"),defaultforperiod:n.boolean().optional().label("Default For Period")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2),n=i(4);function a(t){this.path="tabsuservisit",this.createPath="tabsuservisit",this.id=t,this.tabsuser=new n({entity:"TabsUser"})}a.prototype=new o,a.prototype.toArray=function(){return{tabsuserid:this.tabsuser.id,visitdatetime:this.visitdatetime,reason:this.reason,comments:this.comments}},a.prototype.validSchema=function(){return r.object().keys({tabsuser:r.object().required().label("tabsuser"),visitdatetime:r.string().optional().allow("").label("Visit Datetime"),reason:r.string().optional().allow("").label("Reason"),comments:r.string().optional().allow("").label("Comments")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="reason",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{name:r.string().required().min(1).label("name").description("Reason name"),donotdelete:r.boolean().required().label("Do not delete").description("This removes the delete option from the reason admin screen")}},n.prototype.toArray=function(){return{name:this.name,donotdelete:this.donotdelete}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(5),a=i(2),s=i(367);function c(t){this.path="scheduledevent",this.createPath="scheduledevent",this.id=t,this.templatecontactmethods=new n({object:s,path:"templatecontactmethod",parent:this})}c.prototype=new r,c.prototype.toArray=function(){return{label:this.label,filter:this.filter,filtercontext:this.filtercontext,frequency:this.frequency,sendonce:this.sendonce,inactive:this.inactive,timespacedsending:this.timespacedsending}},c.prototype.validSchema=function(){return a.object().keys({label:a.string().required().label("label"),filter:a.string().required().label("filter"),filtercontext:a.string().required().label("filter context"),frequency:a.string().required().label("frequency"),sendonce:a.boolean().required().label("send once only"),inactive:a.boolean().required().label("inactive"),timespacedsending:a.boolean().required().label("time spaced sending")})},c.prototype.process=function(){return o.put(this.getUpdatePath()+"/process")},t.exports=c},function(t,e,i){var o=i(0),r=i(168),n=i(119),a=i(2);function s(t){this.path="securitygrouprole",this.createPath="securitygrouprole",this.id=t,this.securitygroup=new r,this.securityrole=new n}s.prototype=new o,s.prototype.toArray=function(){return{securitygroupid:this.securitygroup.id,securityroleid:this.securityrole.id}},s.validSchema=a.object().keys({securitygroup:a.object().required().label("Security Group"),securityrole:a.object().required().label("Security Role")}),t.exports=s},function(t,e,i){var o=i(0);function r(t){this.createPath=this.path="contract",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{servicecontracttypeid:this.servicecontracttype.id,fromdate:this.fromdate,todate:this.todate}},t.exports=r},function(t,e,i){var o=i(0),r=i(5),n=i(380);function a(t){this.path="setting",this.createPath=this.path,this.id=t,this.entitysettings=new r({object:n,parent:this})}a.prototype=new o,a.prototype.toArray=function(){return{name:this.name,description:this.description,type:this.type,minimumvalue:this.minimumvalue,maximumvalue:this.maximumvalue,decimalplaces:this.decimalplaces,defaultvalue:this.defaultvalue,restrictvalue:this.restrictvalue}},t.exports=a},function(t,e,i){var o=i(0);function r(t){this.path="settingentity",this.createPath="settingentity",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{id:this.id}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="valueoption",this.createPath="valueoption",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{settingvalueoption:this.settingvalueoption,defaultoption:this.defaultoption}},t.exports=r},function(t,e,i){var o=i(0);function r(t){this.path="settingvaluetype",this.createPath="settingvaluetype",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{id:this.id}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="discountextra",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){var t={};return t.extraid=this.extraid,this.price&&(t.price=this.price),t},n.prototype.validSchema=function(){return r.object().keys({extraid:r.string().required().label("extra id"),price:r.string().optional().allow("").label("Price")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="discountedextra",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.toArray=function(){var t={};return t.extraid=this.extraid,this.percentagediscount&&(t.percentagediscount=this.percentagediscount),this.newprice&&(t.newprice=this.newprice),this.discountamount&&(t.discountamount=this.discountamount),t},n.prototype.validSchema=function(){return r.object().keys({extraid:r.number().required().label("extra id"),percentagediscount:r.number().optional().allow("").label("percentage discount"),newprice:r.number().optional().allow("").label("new price"),discountamount:r.number().optional().allow("").label("discount amount")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="leadtimeperiod",this.createPath="leadtimeperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{leaddaysfrom:this.leaddaysfrom,leaddaysto:this.leaddaysto,amount:this.amount}},n.prototype.validSchema=function(){return r.object().keys({leaddaysfrom:r.number().required().label("Lead Days From"),leaddaysto:r.number().required().label("Lead Days To"),amount:r.string().required().label("Amount")})},t.exports=n},function(t,e,i){var o=i(0);function r(t){var e=i(112);this.path=this.createPath="property",this.id=t,this.propertybranding=new e}r.prototype=new o,r.prototype.toArray=function(){return{propertybrandingid:this.propertybranding.id,description:this.description}},t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="templatetype",this.createPath="templatetype",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{templatetype:this.templatetype,description:this.description}},n.prototype.validSchema=function(){return r.object().keys({templatetype:r.string().required().label("Template Type"),description:r.string().required().label("Description")})},t.exports=n},function(t,e,i){var o=i(0);function r(t){this.path=this.createPath="dayplan",this.id=t}r.prototype=new o,r.prototype.toArray=function(){return{plandate:this.plandate,dayplan:this.dayplan}},t.exports=r},function(t,e,i){var o=i(74),r=i(46);function n(t,e){this.path="supplier/"+t+"/document",this.createPath="supplier/"+t+"/document",this.document=new r,this.id=e}n.prototype=new o,t.exports=n},function(t,e,i){var o=i(0),r=i(122),n=i(102),a=i(5);function s(t){this.path=this.createPath="supplierinvoice",this.id=t,this.workordersupplier=new r,this.invoiceitems=new a({path:"item",parent:this,object:n})}s.prototype=new o,s.prototype.toArray=function(){return{workordersupplierid:this.workordersupplier.id,invoicedate:this.invoicedate,invoicenumber:this.invoicenumber,description:this.description}},t.exports=s},function(t,e,i){var o=i(0),r=i(122),n=i(4);function a(t){this.path=this.createPath="supplierpayment",this.id=t,this.workordersupplier=new r,this.tabsuser=new n({entity:"TabsUser"})}a.prototype=new o,a.prototype.toArray=function(){return{workordersupplierid:this.workordersupplier.id,tabsuserid:this.tabsuser.id,paymentdate:this.paymentdate,remark:this.remark,sortcode:this.sortcode,accountnumber:this.accountnumber,chequenumber:this.chequenumber}},t.exports=a},function(t,e,i){var o=i(0),r=i(186);function n(t){this.path=this.createPath="worktype",this.id=t,this.worktype=new r}n.prototype=new o,n.prototype.toArray=function(){return{skilllevel:this.skilllevel,worktypeid:this.worktype.id}},t.exports=n},function(t,e,i){var o=i(2),r=i(0);function n(t){this.path="tabsevent",this.createPath="tabsevent",this.id=t}n.prototype=new r,n.prototype.toArray=function(){return{name:this.name,description:this.description}},n.prototype.validSchema=function(){return o.object().keys({name:o.string().required().label("name"),description:o.string().required().label("description")})},t.exports=n},function(t,e,i){var o=i(0),r=i(175),n=i(2);function a(t,e){this.path="tabsevent/"+t+"/transactiondefinition",this.createPath=this.path,this.id=e,this.transactiondefinition=new r}a.prototype=new o,a.prototype.toArray=function(){return{transactiondefinitionid:this.transactiondefinition.id}},a.prototype.validSchema=function(){return n.object().keys({transactiondefinition:n.object().required().label("Transaction Definition")})},t.exports=a},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="tabsusergroup",this.createPath=this.path,this.id=t,this.validSchema=function(){return{tabsusergroupname:r.string().required().label("group name"),description:r.string().required().label("description"),parenttabsusergroup:r.object().optional().label("parent user group")}}}n.prototype=new o,n.prototype.toArray=function(){var t={tabsusergroupname:this.tabsusergroupname,description:this.description};return this.parenttabsusergroup&&(t.parenttabsusergroupid=this.parenttabsusergroup.id),t},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="member",this.createPath=this.path,this.id=t,this.validSchema=function(){return{userid:r.string().required().label("Tabs user id"),inactive:r.boolean().optional().label("Inactive")}}}n.prototype=new o,n.prototype.toArray=function(){return{tabsuserid:this.userid,inactive:this.inactive}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="contactschedule",this.createPath=this.path,this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return r.object().keys({fromdate:r.date().required().label("from date"),todate:r.date().required().label("to date"),contactscheduleid:r.string().required().allow("").label("contact schedule id")})},n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate,contactscheduleid:this.contactscheduleid}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.createPath=this.path="templatesource",this.id=t,this.validSchema=function(){return{templatesource:r.string().label("Template Source"),sourcesql:r.string().allow("").label("Source SQL")}}}n.prototype=new o,n.prototype.toArray=function(){return{templatesource:this.templatesource,sourcesql:this.sourcesql||""}},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.createPath=this.path="templatetarget",this.id=t,this.validSchema=function(){return{templatetarget:r.string().label("Template Target")}}}n.prototype=new o,n.prototype.toArray=function(){return{templatetarget:this.templatetarget}},t.exports=n},function(t,e,i){var o=i(0),r=i(4),n=i(2);function a(t){this.createPath=this.path="templatetargetsource",this.id=t,this.templatesource=new r({entity:"TemplateSource"}),this.templatetarget=new r({entity:"TemplateTarget"}),this.validSchema=function(){return{templatesource:n.object().required().label("Template Source"),templatetarget:n.object().required().label("Template Target")}}}a.prototype=new o,a.prototype.toArray=function(){return{templatesourceid:this.templatesource.id,templatetargetid:this.templatetarget.id}},a.prototype.toString=function(){return this.templatesource.templatesource+" "+this.templatetarget.templatetarget},t.exports=a},function(t,e,i){var o=i(0),r=i(4);function n(t){this.createPath=this.path="textitem",this.id=t,this.branding=new r({entity:"Branding"}),this.encoding=new r({entity:"Encoding"}),this.language=new r({entity:"Language"}),this.contactmethodtype=new r({entity:"ContactMethodType"})}n.prototype=new o,n.prototype.toArray=function(){var t={name:this.name,text:this.text,header:this.header,footer:this.footer,donotdelete:this.donotdelete,encodingid:this.encoding.id,languageid:this.language.id,contactmethodtypeid:this.contactmethodtype.id,standardheader:this.standardheader,standardfooter:this.standardfooter};return this.branding&&this.branding.id?t.brandingid=this.branding.id:t.brandingid=0,t},t.exports=n},function(t,e,i){var o=i(0),r=i(5),n=i(40),a=i(385),s=i(386),c=i(387),p=i(389),h=i(390),d=i(391),u=i(392),l=i(393),m=i(394),y=i(395),b=i(2);function g(t){this.createPath="ticket",this.path="ticket",this.id=t,this.ticketuser=new a,this.brand=new s,this.status=new p,this.priority=new h,this.messages=new r({object:d,path:"message",parent:this}),this.notes=new r({object:l,path:"note",parent:this}),this.attachments=new r({object:m,path:"attachement",parent:this}),this.terms=new r({object:c,path:"term",parent:this}),this.history=new n({object:u,path:"history",parent:this}),this.timespent=new n({object:y,path:"time",parent:this})}g.prototype=new o,g.prototype.toString=function(){return this.id+" - "+this.subject},g.prototype.toArray=function(){return{priority:this.priority.priority,versionnumber:this.versionnumber,subject:this.subject,read:this.read,tabsscreen:this.tabsscreen,computername:this.computername,status:this.status.status,ticketuser:this.ticketuser.username}},g.prototype.toCreateArray=function(){var t=this.toArray();return t.brandcode=this.brand.brandcode,t.ticketmessage_message=this.ticketmessage_message,t},g.prototype.schema=function(){return{priority:b.object().required().label("Priority"),versionnumber:b.string().required().label("Version Number"),subject:b.string().required().label("Subject"),read:b.string().optional().label("Read"),tabsscreen:b.string().required().label("Area affected"),status:b.object().optional().label("Ticket Status"),ticketuser:b.object().optional().label("Ticket User")}},g.prototype.createSchema=function(){var t=this.schema();return t.ticketmessage_message=b.string().required().label("Message"),t.brand=b.object().optional().label("Brand"),t},g.prototype.validSchema=function(){return this.id?b.object().keys(this.schema()):b.object().keys(this.createSchema())},g.prototype.addTime=function(t){return this.updatePromiseResult(this.getUpdatePath()+"/time",{time:t})},t.exports=g},function(t,e,i){var o=i(39);function r(t){this.path="tickettermtype",this.createPath="tickettermtype",this.id=t}r.prototype=new o,t.exports=r},function(t,e,i){var o=i(0),r=i(2);function n(t){this.createPath=this.path="triggerevent",this.id=t}n.prototype=new o,n.prototype.validSchema=function(){return{triggerevent:r.string().label("trigger event"),eventdescription:r.string().label("event description")}},n.prototype.toArray=function(){return{triggerevent:this.triggerevent,eventdescription:this.eventdescription}},t.exports=n},function(t,e,i){var o=i(2),r=i(39);function n(t){this.path="updatepricing",this.createPath="updatepricing",this.id=t}n.prototype=new r,n.prototype.toArray=function(){var t={action:this.action,pricingperiodid:this.pricingperiodid,saleschannel:this.saleschannel,brandingids:this.brandingids,fromdate:this.fromdate,pricebandid:this.pricebandid,adjustforchangeday:this.adjustforchangeday,exactdatesonly:this.exactdatesonly};return this.pricebandids&&(t.pricebandids=this.pricebandids),this.todate&&(t.todate=this.todate),t},n.prototype.create=function(){return this.createSimplePromiseResult(this.path,this.toArray())},n.prototype.validSchema=function(){return o.object().keys({action:o.any().valid("UpdatePriceBand").label("Action"),pricingperiodid:o.number().required().label("Pricing Period"),saleschannel:o.number().required().label("Sales Channel"),brandingids:o.string().required().label("Brandings"),fromdate:o.string().required().label("From Date"),pricebandid:o.number().required().label("New Price Band"),adjustforchangeday:o.boolean().label("Adjust For Change Day"),exactdatesonly:o.boolean().label("Exact Dates Only"),pricebandids:o.string().optional().label("Current Price Bands"),todate:o.string().optional().label("To Date")})},t.exports=n},function(t,e,i){var o=i(0),r=i(2);function n(t){this.path="vatregistrationperiod",this.createPath="vatregistrationperiod",this.id=t}n.prototype=new o,n.prototype.toArray=function(){return{fromdate:this.fromdate,todate:this.todate}},n.prototype.validSchema=function(){return r.object().keys({fromdate:r.string().required().label("From date"),todate:r.string().required().label("To Date")})},t.exports=n},function(t,e,i){var o=i(39),r=i(4);function n(){this.reviewer=new r({entity:"TabsUser"})}n.prototype=new o,n.prototype.toArray=function(){return{createddatetime:this.createddatetime,reviewstartdatetime:this.reviewstartdatetime,processeddatetime:this.processeddatetime,reviewingtabsuserid:this.reviewer.id}},t.exports=n},function(t,e,i){var o=i(0),r=i(169),n=i(100),a=i(102),s=i(47),c=i(103),p=i(31),h=i(68),d=i(173),u=i(396),l=i(5);function m(t){this.path=this.createPath="workorderexpensetemplate",this.id=t,this.amountlimittype=new r,this.costitemcode=new n,this.supplierinvoiceitem=new a,this.ownerchargecode=new s,this.ownerchargeamounttype=new c,this.currency=new p,this.vatband=new h,this.chargingperiod=new d,this.ownercharges=new l({object:u,path:"workorderownerchargetemplate",parent:this})}m.prototype=new o,m.prototype.toArray=function(){var t={description:this.description,currencyid:this.currency.id,vatbandid:this.vatband.id,ownerchargeamount:this.ownerchargeamount};return this.costitemcode.id&&(t.costitemcodeid=this.costitemcode.id),this.ownerchargecode.id>=0&&(t.ownerchargecodeid=this.ownerchargecode.id),this.ownerchargeamounttype.id>=0&&(t.ownerchargeamounttypeid=this.ownerchargeamounttype.id),this.chargingperiod.id>=0&&(t.chargingperiodid=this.chargingperiod.id),parseFloat(this.chargingperiodpriceperunit)>=0&&(t.chargingperiodpriceperunit=this.chargingperiodpriceperunit),this.amountnetestimate&&(t.amountnetestimate=this.amountnetestimate),this.chargingperiodsestimate&&(t.chargingperiodsestimate=this.chargingperiodsestimate),void 0!==this.amountlimittype&&this.amountlimittype.id>=0&&(t.amountlimittypeid=this.amountlimittype.id),this.amountnetlimit&&(t.amountnetlimit=this.amountnetlimit),this.amountnet&&(t.amountnet=this.amountnet),this.amountvat&&(t.amountvat=this.amountvat),this.notes&&(t.notes=this.notes),this.chargingperiodsactual&&(t.chargingperiodsactual=this.chargingperiodsactual),this.supplierinvoiceitem.id>=0&&(t.supplierinvoiceitemid=this.supplierinvoiceitem.id),this.agencycostnet&&(t.agencycostnet=this.agencycostnet),t},t.exports=m},function(t,e,i){var o=i(0);function r(t){this.path="workorder/"+t+"/invoice",this.createPath=this.path,this.id=t}r.prototype=new o,r.prototype.toArray=function(){var t={};return this.supplierinvoice_invoicedate&&(t.supplierinvoice_invoicedate=this.supplierinvoice_invoicedate),this.supplierinvoice_invoicenumber&&(t.supplierinvoice_invoicenumber=this.supplierinvoice_invoicenumber),this.supplierinvoice_description&&(t.supplierinvoice_description=this.supplierinvoice_description),t},t.exports=r},function(t,e,i){var o=i(0),r=i(4);function n(t){this.path=this.createPath="workorderowner",this.id=t,this.owner=new r({entity:"Owner"})}n.prototype=new o,n.prototype.toArray=function(){return{ownerid:this.owner.id,markuppercent:this.commissionpercent,showchargesseparately:this.showchargesseparately}},t.exports=n},function(t,e,i){var o=i(29).getInstance(),r=i(0),n=i(4);function a(t){this.path=this.createPath="pmschecklist",this.id=t,this.pmschecklist=new n({entity:"PmsChecklist"})}a.prototype=new r,a.prototype.toArray=function(){return{pmschecklistid:this.pmschecklist.id,json:this.json,updateddatetime:this.updateddatetime}},a.prototype.render=function(){return o.get("workorder/"+this.parent.id+"/"+this.path+"/"+this.id+"/render")},t.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(1015)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function i(t){this.name="badRequestError",this.statusCode=t.status.code,this.code=t.entity.errorCode,this.message=t.entity.errorDescription}i.prototype=Error.prototype,t.exports=i},function(t,e){function i(t){this.name="idNotFoundError",this.message=t||""}i.prototype=Error.prototype,t.exports=i},,function(t,e,i){var o={"./AccidentalDamageDeposit":445,"./AccidentalDamageDeposit.js":445,"./Account":76,"./Account.js":76,"./AccountValueType":276,"./AccountValueType.js":276,"./AccountingDateDefinition":277,"./AccountingDateDefinition.js":277,"./AccountingPeriod":278,"./AccountingPeriod.js":278,"./Actor":32,"./Actor.js":32,"./ActorCategory":225,"./ActorCategory.js":225,"./ActorContactDetailAddress":165,"./ActorContactDetailAddress.js":165,"./ActorContactDetailOther":118,"./ActorContactDetailOther.js":118,"./ActorContactDetailPermission":279,"./ActorContactDetailPermission.js":279,"./ActorContactDetailPhone":280,"./ActorContactDetailPhone.js":280,"./ActorDevice":446,"./ActorDevice.js":446,"./ActorDocument":447,"./ActorDocument.js":447,"./ActorInstance":281,"./ActorInstance.js":281,"./ActorLocation":448,"./ActorLocation.js":448,"./ActorManagedActivity":283,"./ActorManagedActivity.js":283,"./ActorNote":258,"./ActorNote.js":258,"./ActorPaymentRefund":449,"./ActorPaymentRefund.js":449,"./ActorProgram":167,"./ActorProgram.js":167,"./ActorSecurity":285,"./ActorSecurity.js":285,"./ActorSetting":286,"./ActorSetting.js":286,"./ActorVatRegistrationPeriod":450,"./ActorVatRegistrationPeriod.js":450,"./Actors":451,"./Actors.js":451,"./Address":93,"./Address.js":93,"./Affiliate":452,"./Affiliate.js":452,"./AffiliateApiKey":287,"./AffiliateApiKey.js":287,"./AffiliateBlockPeriod":288,"./AffiliateBlockPeriod.js":288,"./AffiliatePropertyBlockPeriod":289,"./AffiliatePropertyBlockPeriod.js":289,"./Agency":75,"./Agency.js":75,"./AgencyBookingType":453,"./AgencyBookingType.js":453,"./AgencyCollection":454,"./AgencyCollection.js":454,"./AmountLimitType":169,"./AmountLimitType.js":169,"./AnswerOption":455,"./AnswerOption.js":455,"./AnswerOptionGroup":456,"./AnswerOptionGroup.js":456,"./ApprovalType":217,"./ApprovalType.js":217,"./AssessmentGrade":441,"./AssessmentGrade.js":441,"./Attribute":141,"./Attribute.js":141,"./AttributeGroup":221,"./AttributeGroup.js":221,"./AttributeOption":222,"./AttributeOption.js":222,"./AvailableBreak":457,"./AvailableBreak.js":457,"./AvailableDay":218,"./AvailableDay.js":218,"./Bacs":458,"./Bacs.js":458,"./BankAccount":290,"./BankAccount.js":290,"./BedType":253,"./BedType.js":253,"./BedTypeRoomType":252,"./BedTypeRoomType.js":252,"./Booking":83,"./Booking.js":83,"./BookingApproval":459,"./BookingApproval.js":459,"./BookingBrand":84,"./BookingBrand.js":84,"./BookingCancellationAction":460,"./BookingCancellationAction.js":460,"./BookingCustomer":269,"./BookingCustomer.js":269,"./BookingDocument":270,"./BookingDocument.js":270,"./BookingEnquiry":461,"./BookingEnquiry.js":461,"./BookingEnquiryExtra":462,"./BookingEnquiryExtra.js":462,"./BookingEvent":248,"./BookingEvent.js":248,"./BookingExtra":170,"./BookingExtra.js":170,"./BookingGuest":271,"./BookingGuest.js":271,"./BookingNote":291,"./BookingNote.js":291,"./BookingPayment":292,"./BookingPayment.js":292,"./BookingPaymentitem":463,"./BookingPaymentitem.js":463,"./BookingProperty":293,"./BookingProperty.js":293,"./BookingReason":294,"./BookingReason.js":294,"./BookingRefund":464,"./BookingRefund.js":464,"./BookingRoom":295,"./BookingRoom.js":295,"./BookingSecurityDeposit":272,"./BookingSecurityDeposit.js":272,"./BookingSecurityDepositHold":465,"./BookingSecurityDepositHold.js":465,"./BookingSecurityDepositWithhold":466,"./BookingSecurityDepositWithhold.js":466,"./BookingService":273,"./BookingService.js":273,"./BookingServiceCharge":296,"./BookingServiceCharge.js":296,"./BookingSupplier":164,"./BookingSupplier.js":164,"./BookingVehicle":297,"./BookingVehicle.js":297,"./BookingVoucher":299,"./BookingVoucher.js":299,"./Bookings":467,"./Bookings.js":467,"./BrandExtra":440,"./BrandExtra.js":440,"./BrandSource":305,"./BrandSource.js":305,"./Branding":58,"./Branding.js":58,"./BrandingExtra":468,"./BrandingExtra.js":468,"./BrandingGroup":469,"./BrandingGroup.js":469,"./BrandingLeadTimePeriod":470,"./BrandingLeadTimePeriod.js":470,"./Brochure":306,"./Brochure.js":306,"./BrochureRequest":471,"./BrochureRequest.js":471,"./CancellationAction":472,"./CancellationAction.js":472,"./CancellationReason":473,"./CancellationReason.js":473,"./CancellationReasonGroup":307,"./CancellationReasonGroup.js":307,"./Category":224,"./Category.js":224,"./ChangeDayTemplate":239,"./ChangeDayTemplate.js":239,"./ChangeDayTemplateDay":474,"./ChangeDayTemplateDay.js":474,"./ChangeDayTemplateRule":240,"./ChangeDayTemplateRule.js":240,"./ChangeHistory":475,"./ChangeHistory.js":475,"./Channel":309,"./Channel.js":309,"./ChannelInformationCategory":476,"./ChannelInformationCategory.js":476,"./ChannelPropertyBranding":477,"./ChannelPropertyBranding.js":477,"./ChannelPropertyBrandingInformationCategory":313,"./ChannelPropertyBrandingInformationCategory.js":313,"./ChannelSetting":311,"./ChannelSetting.js":311,"./ChannelSettingType":312,"./ChannelSettingType.js":312,"./ChannelSettingValue":310,"./ChannelSettingValue.js":310,"./ChargingPeriod":173,"./ChargingPeriod.js":173,"./Collection":5,"./Collection.js":5,"./Complaint":314,"./Complaint.js":314,"./ComplaintAssignment":478,"./ComplaintAssignment.js":478,"./ComplaintBookingExtra":479,"./ComplaintBookingExtra.js":479,"./ComplaintDiscountExtra":317,"./ComplaintDiscountExtra.js":317,"./ComplaintReason":316,"./ComplaintReason.js":316,"./ComplaintSource":315,"./ComplaintSource.js":315,"./ComplaintStatus":480,"./ComplaintStatus.js":480,"./Contact":442,"./Contact.js":442,"./ContactDocument":318,"./ContactDocument.js":318,"./ContactEntity":319,"./ContactEntity.js":319,"./ContactMethodElement":228,"./ContactMethodElement.js":228,"./ContactMethodSubtype":481,"./ContactMethodSubtype.js":481,"./ContactMethodType":227,"./ContactMethodType.js":227,"./ContactPreference":117,"./ContactPreference.js":117,"./ContactReason":320,"./ContactReason.js":320,"./ContactSchedule":482,"./ContactSchedule.js":482,"./ContactSchedulePeriod":483,"./ContactSchedulePeriod.js":483,"./ContactSend":484,"./ContactSend.js":484,"./ContactType":485,"./ContactType.js":485,"./CopyPricing":486,"./CopyPricing.js":486,"./CostItemCode":100,"./CostItemCode.js":100,"./CostItemCodeOwnerChargeCode":487,"./CostItemCodeOwnerChargeCode.js":487,"./Country":220,"./Country.js":220,"./CreditorPaymentMethod":488,"./CreditorPaymentMethod.js":488,"./CronTask":489,"./CronTask.js":489,"./Currency":31,"./Currency.js":31,"./Customer":99,"./Customer.js":99,"./CustomerDocument":256,"./CustomerDocument.js":256,"./CustomerEmailList":321,"./CustomerEmailList.js":321,"./CustomerMarketingBrand":490,"./CustomerMarketingBrand.js":490,"./CustomerPayment":101,"./CustomerPayment.js":101,"./CustomerSource":322,"./CustomerSource.js":322,"./DateToUse":491,"./DateToUse.js":491,"./DepositAmount":492,"./DepositAmount.js":492,"./DepositAmountExtra":493,"./DepositAmountExtra.js":493,"./DepositAmountType":326,"./DepositAmountType.js":326,"./DescriptionType":327,"./DescriptionType.js":327,"./Document":46,"./Document.js":46,"./DocumentAssociation":74,"./DocumentAssociation.js":74,"./DocumentBaseTag":146,"./DocumentBaseTag.js":146,"./DocumentTag":494,"./DocumentTag.js":494,"./DoubleEntryDefinition":328,"./DoubleEntryDefinition.js":328,"./Encoding":216,"./Encoding.js":216,"./Entity":39,"./Entity.js":39,"./EntityLink":4,"./EntityLink.js":4,"./Entry":495,"./Entry.js":495,"./EntryDefinition":496,"./EntryDefinition.js":496,"./EntryDefinitionCostItemCode":497,"./EntryDefinitionCostItemCode.js":497,"./EntryDefinitionExtraBranding":498,"./EntryDefinitionExtraBranding.js":498,"./EntryDefinitionOwnerChargeCode":499,"./EntryDefinitionOwnerChargeCode.js":499,"./EntryDefinitionPaymentMethod":500,"./EntryDefinitionPaymentMethod.js":500,"./EventLog":501,"./EventLog.js":501,"./EventType":502,"./EventType.js":502,"./ExchangeRate":121,"./ExchangeRate.js":121,"./ExchangeRateIssue":503,"./ExchangeRateIssue.js":503,"./ExchangeRateIssueRate":332,"./ExchangeRateIssueRate.js":332,"./ExchangeRateIssueType":331,"./ExchangeRateIssueType.js":331,"./Extra":67,"./Extra.js":67,"./ExtraBookingReason":504,"./ExtraBookingReason.js":504,"./ExtraBranding":152,"./ExtraBranding.js":152,"./ExtraBrandingConfiguration":236,"./ExtraBrandingConfiguration.js":236,"./ExtraBrandingConfigurationAffiliateOverride":505,"./ExtraBrandingConfigurationAffiliateOverride.js":505,"./ExtraBrandingPricing":237,"./ExtraBrandingPricing.js":237,"./ExtraBrandingPricingAmountPriceType":506,"./ExtraBrandingPricingAmountPriceType.js":506,"./ExtraBrandingPricingRangeElement":507,"./ExtraBrandingPricingRangeElement.js":507,"./ExtraBrandingPricingRangeElementPriceType":508,"./ExtraBrandingPricingRangeElementPriceType.js":508,"./ExtraGroup":223,"./ExtraGroup.js":223,"./Feature":437,"./Feature.js":437,"./File":111,"./File.js":111,"./FilterCollection":110,"./FilterCollection.js":110,"./Flag":333,"./Flag.js":333,"./FlagType":334,"./FlagType.js":334,"./GlobalSearch":509,"./GlobalSearch.js":509,"./Grouping":176,"./Grouping.js":176,"./GroupingCollection":510,"./GroupingCollection.js":510,"./GroupingValue":177,"./GroupingValue.js":177,"./GuestAgeRange":511,"./GuestAgeRange.js":511,"./GuestType":512,"./GuestType.js":512,"./HistoryEntry":308,"./HistoryEntry.js":308,"./Image":155,"./Image.js":155,"./InformationCategory":172,"./InformationCategory.js":172,"./Inspection":513,"./Inspection.js":513,"./InspectionType":178,"./InspectionType.js":178,"./InstructionType":336,"./InstructionType.js":336,"./Job":514,"./Job.js":514,"./JobItem":515,"./JobItem.js":515,"./JobItemResponse":516,"./JobItemResponse.js":516,"./JobType":337,"./JobType.js":337,"./KeyCheck":517,"./KeyCheck.js":517,"./KeyCheckReason":179,"./KeyCheckReason.js":179,"./KeySet":340,"./KeySet.js":340,"./KeyTag":341,"./KeyTag.js":341,"./KeyUserType":338,"./KeyUserType.js":338,"./KeysBookingBrand":518,"./KeysBookingBrand.js":518,"./Keyy":519,"./Keyy.js":519,"./LabelQueue":520,"./LabelQueue.js":520,"./LabelTemplate":521,"./LabelTemplate.js":521,"./LabelTemplatePaperSize":342,"./LabelTemplatePaperSize.js":342,"./Language":144,"./Language.js":144,"./ManagedActivity":156,"./ManagedActivity.js":156,"./ManagedActivityService":522,"./ManagedActivityService.js":522,"./ManagedService":157,"./ManagedService.js":157,"./MarketingBrand":63,"./MarketingBrand.js":63,"./MarketingBrandEmailList":142,"./MarketingBrandEmailList.js":142,"./Mimetype":145,"./Mimetype.js":145,"./MultiBrandTemplateBookingBrand":343,"./MultiBrandTemplateBookingBrand.js":343,"./MultiBrandTemplateMarketingBrand":344,"./MultiBrandTemplateMarketingBrand.js":344,"./MultiCollection":335,"./MultiCollection.js":335,"./Note":97,"./Note.js":97,"./NoteActor":260,"./NoteActor.js":260,"./NoteFilterCollection":96,"./NoteFilterCollection.js":96,"./NoteText":259,"./NoteText.js":259,"./NoteType":161,"./NoteType.js":161,"./Office":282,"./Office.js":282,"./Owner":69,"./Owner.js":69,"./OwnerBookingType":523,"./OwnerBookingType.js":523,"./OwnerCharge":180,"./OwnerCharge.js":180,"./OwnerChargeAmountType":103,"./OwnerChargeAmountType.js":103,"./OwnerChargeCode":47,"./OwnerChargeCode.js":47,"./OwnerChargeImport":524,"./OwnerChargeImport.js":524,"./OwnerDocument":525,"./OwnerDocument.js":525,"./OwnerEnquiryAction":526,"./OwnerEnquiryAction.js":526,"./OwnerEnquiryActionType":346,"./OwnerEnquiryActionType.js":346,"./OwnerEnquiryInactiveReason":527,"./OwnerEnquiryInactiveReason.js":527,"./OwnerPayment":528,"./OwnerPayment.js":528,"./OwnerPaymentSelection":529,"./OwnerPaymentSelection.js":529,"./OwnerPaymentSelectionBookingBrand":347,"./OwnerPaymentSelectionBookingBrand.js":347,"./OwnerPaymentSelectionProperty":348,"./OwnerPaymentSelectionProperty.js":348,"./OwnerPaymentTerm":349,"./OwnerPaymentTerm.js":349,"./OwnerPaymentTermExtra":350,"./OwnerPaymentTermExtra.js":350,"./OwnerPaymentType":530,"./OwnerPaymentType.js":530,"./OwnerStatement":531,"./OwnerStatement.js":531,"./ParkingPermit":351,"./ParkingPermit.js":351,"./ParkingPermitHolidayPeriod":352,"./ParkingPermitHolidayPeriod.js":352,"./PartySizePrice":234,"./PartySizePrice.js":234,"./PartySizePriceType":235,"./PartySizePriceType.js":235,"./PartySizePricing":113,"./PartySizePricing.js":113,"./PaymentItem":532,"./PaymentItem.js":532,"./PaymentMethod":120,"./PaymentMethod.js":120,"./PaymentMethodType":325,"./PaymentMethodType.js":325,"./PersonalisedBrochure":533,"./PersonalisedBrochure.js":533,"./PmsChecklist":534,"./PmsChecklist.js":534,"./PmsInvoice":535,"./PmsInvoice.js":535,"./PmsInvoiceOwnerCharge":536,"./PmsInvoiceOwnerCharge.js":536,"./Postcode":537,"./Postcode.js":537,"./PotentialBookingType":538,"./PotentialBookingType.js":538,"./PotentialDuplicate":257,"./PotentialDuplicate.js":257,"./PriceBand":151,"./PriceBand.js":151,"./PriceMinimum":443,"./PriceMinimum.js":443,"./PriceOverride":233,"./PriceOverride.js":233,"./PricePeriod":241,"./PricePeriod.js":241,"./PriceType":148,"./PriceType.js":148,"./PriceTypeBranding":147,"./PriceTypeBranding.js":147,"./PriceTypeStartDay":539,"./PriceTypeStartDay.js":539,"./PricingGroup":540,"./PricingGroup.js":540,"./PricingGroupYear":181,"./PricingGroupYear.js":181,"./PricingGroupYearPriceBand":354,"./PricingGroupYearPriceBand.js":354,"./PricingImportExport":541,"./PricingImportExport.js":541,"./PricingMethod":542,"./PricingMethod.js":542,"./PricingMethodBranding":543,"./PricingMethodBranding.js":543,"./PricingPeriod":115,"./PricingPeriod.js":115,"./Program":284,"./Program.js":284,"./PromotePeriod":544,"./PromotePeriod.js":544,"./Promotion":163,"./Promotion.js":163,"./Properties":545,"./Properties.js":545,"./Property":82,"./Property.js":82,"./PropertyAddress":546,"./PropertyAddress.js":546,"./PropertyAnswer":547,"./PropertyAnswer.js":547,"./PropertyAnswerDocument":355,"./PropertyAnswerDocument.js":355,"./PropertyApproval":356,"./PropertyApproval.js":356,"./PropertyAttribute":548,"./PropertyAttribute.js":548,"./PropertyAvailability":549,"./PropertyAvailability.js":549,"./PropertyBookingBrand":550,"./PropertyBookingBrand.js":550,"./PropertyBookingBrandInstruction":551,"./PropertyBookingBrandInstruction.js":551,"./PropertyBranding":112,"./PropertyBranding.js":112,"./PropertyBrandingChangeDayTemplate":238,"./PropertyBrandingChangeDayTemplate.js":238,"./PropertyBrandingPrice":232,"./PropertyBrandingPrice.js":232,"./PropertyBrandingPricing":552,"./PropertyBrandingPricing.js":552,"./PropertyBrandingPricingYear":553,"./PropertyBrandingPricingYear.js":553,"./PropertyBrandingSpecialoffer":554,"./PropertyBrandingSpecialoffer.js":554,"./PropertyBrandingStatus":555,"./PropertyBrandingStatus.js":555,"./PropertyBrandingYearPriceband":150,"./PropertyBrandingYearPriceband.js":150,"./PropertyBrochure":184,"./PropertyBrochure.js":184,"./PropertyComment":556,"./PropertyComment.js":556,"./PropertyCommission":359,"./PropertyCommission.js":359,"./PropertyDescription":557,"./PropertyDescription.js":557,"./PropertyDocument":154,"./PropertyDocument.js":154,"./PropertyGroupingValue":360,"./PropertyGroupingValue.js":360,"./PropertyHousekeeping":558,"./PropertyHousekeeping.js":558,"./PropertyHousekeepingSupplier":559,"./PropertyHousekeepingSupplier.js":559,"./PropertyLink":361,"./PropertyLink.js":361,"./PropertyLinkHolidayPeriod":362,"./PropertyLinkHolidayPeriod.js":362,"./PropertyMarketingBrand":560,"./PropertyMarketingBrand.js":560,"./PropertyNote":183,"./PropertyNote.js":183,"./PropertyNoteCategory":358,"./PropertyNoteCategory.js":358,"./PropertyNoteConfirmation":561,"./PropertyNoteConfirmation.js":561,"./PropertyOffice":249,"./PropertyOffice.js":249,"./PropertyOwner":242,"./PropertyOwner.js":242,"./PropertyOwnerPaymentTerm":363,"./PropertyOwnerPaymentTerm.js":363,"./PropertyQuestion":562,"./PropertyQuestion.js":562,"./PropertyQuestionCategory":182,"./PropertyQuestionCategory.js":182,"./PropertyRoom":159,"./PropertyRoom.js":159,"./PropertyRoomType":160,"./PropertyRoomType.js":160,"./PropertySecurityDeposit":563,"./PropertySecurityDeposit.js":563,"./PropertySecurityFeature":250,"./PropertySecurityFeature.js":250,"./PropertySupplier":243,"./PropertySupplier.js":243,"./PropertySupplierDateRange":244,"./PropertySupplierDateRange.js":244,"./PropertySupplierService":245,"./PropertySupplierService.js":245,"./PropertyTabsUser":255,"./PropertyTabsUser.js":255,"./PropertyTabsUserVisit":564,"./PropertyTabsUserVisit.js":564,"./PropertyTarget":254,"./PropertyTarget.js":254,"./Reason":565,"./Reason.js":565,"./ReducedOccupancyPrice":94,"./ReducedOccupancyPrice.js":94,"./Report":364,"./Report.js":364,"./ReportParameter":365,"./ReportParameter.js":365,"./ReportRun":366,"./ReportRun.js":366,"./Role":339,"./Role.js":339,"./RoleReason":166,"./RoleReason.js":166,"./RoomType":116,"./RoomType.js":116,"./SagePayPayment":174,"./SagePayPayment.js":174,"./SalesChannel":149,"./SalesChannel.js":149,"./ScheduledEvent":566,"./ScheduledEvent.js":566,"./ScheduledEventTemplateContactMethod":367,"./ScheduledEventTemplateContactMethod.js":367,"./SecurityFeature":251,"./SecurityFeature.js":251,"./SecurityGroup":168,"./SecurityGroup.js":168,"./SecurityGroupRole":567,"./SecurityGroupRole.js":567,"./SecurityRole":119,"./SecurityRole.js":119,"./ServiceContract":568,"./ServiceContract.js":568,"./ServiceContractType":246,"./ServiceContractType.js":246,"./Setting":569,"./Setting.js":569,"./SettingEntity":380,"./SettingEntity.js":380,"./SettingType":570,"./SettingType.js":570,"./SettingValue":381,"./SettingValue.js":381,"./SettingValueOption":571,"./SettingValueOption.js":571,"./SettingValueType":572,"./SettingValueType.js":572,"./SingleEntity":0,"./SingleEntity.js":0,"./Source":323,"./Source.js":323,"./SourceCategory":324,"./SourceCategory.js":324,"./SourceMarketingBrand":171,"./SourceMarketingBrand.js":171,"./SpecialOffer":162,"./SpecialOffer.js":162,"./SpecialOfferAttribute":268,"./SpecialOfferAttribute.js":268,"./SpecialOfferBookingPeriod":267,"./SpecialOfferBookingPeriod.js":267,"./SpecialOfferBranding":261,"./SpecialOfferBranding.js":261,"./SpecialOfferDiscountExtra":573,"./SpecialOfferDiscountExtra.js":573,"./SpecialOfferDiscountedExtra":574,"./SpecialOfferDiscountedExtra.js":574,"./SpecialOfferHolidayPeriod":266,"./SpecialOfferHolidayPeriod.js":266,"./SpecialOfferLeadTimePeriod":575,"./SpecialOfferLeadTimePeriod.js":575,"./SpecialOfferMarketingBranding":262,"./SpecialOfferMarketingBranding.js":262,"./SpecialOfferPropertyBranding":576,"./SpecialOfferPropertyBranding.js":576,"./SpecialOfferSalesChannel":263,"./SpecialOfferSalesChannel.js":263,"./SpecialOfferTemplateType":577,"./SpecialOfferTemplateType.js":577,"./SpecialOfferWebsiteSection":264,"./SpecialOfferWebsiteSection.js":264,"./StaticCollection":40,"./StaticCollection.js":40,"./Status":153,"./Status.js":153,"./StatusReason":357,"./StatusReason.js":357,"./Supplier":98,"./Supplier.js":98,"./SupplierDayPlan":578,"./SupplierDayPlan.js":578,"./SupplierDocument":579,"./SupplierDocument.js":579,"./SupplierHoliday":274,"./SupplierHoliday.js":274,"./SupplierInvoice":580,"./SupplierInvoice.js":580,"./SupplierInvoiceItem":102,"./SupplierInvoiceItem.js":102,"./SupplierInvoiceItemPayment":345,"./SupplierInvoiceItemPayment.js":345,"./SupplierPayment":581,"./SupplierPayment.js":581,"./SupplierServiceCharge":158,"./SupplierServiceCharge.js":158,"./SupplierServiceContract":444,"./SupplierServiceContract.js":444,"./SupplierServiceEvent":247,"./SupplierServiceEvent.js":247,"./SupplierWorkType":582,"./SupplierWorkType.js":582,"./SupplierWorkingDay":275,"./SupplierWorkingDay.js":275,"./SymfonyRoute":439,"./SymfonyRoute.js":439,"./TabsEvent":583,"./TabsEvent.js":583,"./TabsEventTransactionDefinition":584,"./TabsEventTransactionDefinition.js":584,"./TabsUser":95,"./TabsUser.js":95,"./TabsUserGroup":585,"./TabsUserGroup.js":585,"./TabsUserGroupMember":586,"./TabsUserGroupMember.js":586,"./Template":143,"./Template.js":143,"./TemplateContactMethod":226,"./TemplateContactMethod.js":226,"./TemplateContactMethodAttachment":230,"./TemplateContactMethodAttachment.js":230,"./TemplateContactMethodAttachmentBranding":382,"./TemplateContactMethodAttachmentBranding.js":382,"./TemplateContactMethodAttachmentProperty":231,"./TemplateContactMethodAttachmentProperty.js":231,"./TemplateContactMethodBranding":383,"./TemplateContactMethodBranding.js":383,"./TemplateContactMethodContactSchedule":587,"./TemplateContactMethodContactSchedule.js":587,"./TemplateElement":229,"./TemplateElement.js":229,"./TemplateRoleReason":384,"./TemplateRoleReason.js":384,"./TemplateSource":588,"./TemplateSource.js":588,"./TemplateTarget":589,"./TemplateTarget.js":589,"./TemplateTargetSource":590,"./TemplateTargetSource.js":590,"./TextItem":591,"./TextItem.js":591,"./Ticket":592,"./Ticket.js":592,"./TicketAttachment":394,"./TicketAttachment.js":394,"./TicketBrand":386,"./TicketBrand.js":386,"./TicketHistory":392,"./TicketHistory.js":392,"./TicketMessage":391,"./TicketMessage.js":391,"./TicketNote":393,"./TicketNote.js":393,"./TicketPriority":390,"./TicketPriority.js":390,"./TicketStatus":389,"./TicketStatus.js":389,"./TicketTerm":388,"./TicketTerm.js":388,"./TicketTermType":593,"./TicketTermType.js":593,"./TicketTermValue":387,"./TicketTermValue.js":387,"./TicketTime":395,"./TicketTime.js":395,"./TicketUser":385,"./TicketUser.js":385,"./Title":438,"./Title.js":438,"./Transaction":329,"./Transaction.js":329,"./TransactionDefinition":175,"./TransactionDefinition.js":175,"./TransactionSource":330,"./TransactionSource.js":330,"./TriggerEvent":594,"./TriggerEvent.js":594,"./Unit":219,"./Unit.js":219,"./UpdatePricing":595,"./UpdatePricing.js":595,"./VatBand":68,"./VatBand.js":68,"./VatRate":353,"./VatRate.js":353,"./VatRegistrationPeriod":596,"./VatRegistrationPeriod.js":596,"./Vehicle":298,"./Vehicle.js":298,"./Voucher":300,"./Voucher.js":300,"./VoucherBookingPeriod":301,"./VoucherBookingPeriod.js":301,"./VoucherHolidayPeriod":302,"./VoucherHolidayPeriod.js":302,"./VoucherRestriction":303,"./VoucherRestriction.js":303,"./VoucherSource":304,"./VoucherSource.js":304,"./WebBooking":597,"./WebBooking.js":597,"./WebsiteSection":265,"./WebsiteSection.js":265,"./WorkOrder":368,"./WorkOrder.js":368,"./WorkOrderActor":376,"./WorkOrderActor.js":376,"./WorkOrderAssociation":377,"./WorkOrderAssociation.js":377,"./WorkOrderDocument":378,"./WorkOrderDocument.js":378,"./WorkOrderExpense":374,"./WorkOrderExpense.js":374,"./WorkOrderExpenseTemplate":598,"./WorkOrderExpenseTemplate.js":598,"./WorkOrderInvoice":599,"./WorkOrderInvoice.js":599,"./WorkOrderNote":379,"./WorkOrderNote.js":379,"./WorkOrderOwner":600,"./WorkOrderOwner.js":600,"./WorkOrderOwnerCharge":375,"./WorkOrderOwnerCharge.js":375,"./WorkOrderOwnerChargeTemplate":396,"./WorkOrderOwnerChargeTemplate.js":396,"./WorkOrderPmsChecklist":601,"./WorkOrderPmsChecklist.js":601,"./WorkOrderStatusHistory":369,"./WorkOrderStatusHistory.js":369,"./WorkOrderStatusHistorySubStatus":185,"./WorkOrderStatusHistorySubStatus.js":185,"./WorkOrderSubStatus":370,"./WorkOrderSubStatus.js":370,"./WorkOrderSubStatusNext":371,"./WorkOrderSubStatusNext.js":371,"./WorkOrderSubStatusTemplate":372,"./WorkOrderSubStatusTemplate.js":372,"./WorkOrderSubStatusTemplateAssignee":373,"./WorkOrderSubStatusTemplateAssignee.js":373,"./WorkOrderSupplier":122,"./WorkOrderSupplier.js":122,"./WorkType":186,"./WorkType.js":186,"./ZendeskTicket":397,"./ZendeskTicket.js":397,"./nodeOAuth":435,"./nodeOAuth.js":435,"./platoJsClient":29,"./platoJsClient.js":29};function r(t){var e=n(t);return i(e)}function n(t){var e=o[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}r.keys=function(){return Object.keys(o)},r.resolve=n,t.exports=r,r.id=1004},,,,,,function(t){t.exports={name:"toccstyles",version:"1.0.2",author:"Alex Wyett",contributors:[],scripts:{newelement:"node src/newelement.js",createelements:"node src/createelements.js",rebuild:"node src/rebuild.js",buildcss:"node src/buildcss.js",watchcss:"node src/watchcss.js",postinstall:"node src/postinstall.js",upload:"node src/uploadToS3.js",stylelint:"stylelint '**/*.scss'; exit 0"},vendorCopy:[{from:"node_modules/@fortawesome/fontawesome-pro/webfonts",to:"src/scss/fonts/fontawesome"}],dependencies:{"@fortawesome/fontawesome-pro":"^5.8.2","aws-sdk":"^2.462.0",dotenv:"^8.0.0","fs-extra":"^7.0.1","node-sass":"^4.12.0",tabsutils:"git+ssh://git@bitbucket.org/carltonsoftware/tabsutils.git","vendor-copy":"^2.0.0"},files:["dist/{css,js}/*.{css,js,map}","src/scss/**/*.scss"],style:"dist/1.0.2/vanilla/index.css",sass:"src/scss/vanilla.scss",main:"main.js",repository:{type:"git",url:"git+https://github.com/twbs/bootstrap.git"},license:"MIT",devDependencies:{stylelint:"^13.6.1","stylelint-config-standard":"^20.0.0"}}},function(t){t.exports={component:[{name:"iconmedia",short:"Icon media",description:"A media element with an icon",createdby:"Tabs System User"},{name:"content",short:"Content area",description:"A content area component",createdby:"Tabs System User"},{name:"pricesummary",short:"Price summary",description:"A price summary table",createdby:"Tabs System User"},{name:"propertyattribute",short:"Property attribute",description:"A property attribute and icon",createdby:"Tabs System User"},{name:"pager",short:"Pager",description:"A pagination bar",createdby:"Tabs System User"},{name:"reassurance",short:"Reassurance",description:"Reassurance component.  Similar to icon media.  A link with an icon and description.",createdby:"Tabs System User"},{name:"breadcrumb",short:"Breadcrumb",description:"A breadcrumb navigation component.",createdby:"Tabs System User"},{name:"customerreview",short:"Customer review",description:"A customer review element.  Includes title, body and date elements.",createdby:"Tabs System User"},{name:"callout",short:"Callout",description:"A callout component",createdby:"Tabs System User"},{name:"marketingmessage",short:"Marketing Message",description:"A marketing message component",createdby:"Tabs System User"},{name:"notification",short:"Notifcation",description:"A notification bar component.",createdby:"Tabs System User"},{name:"overlay",short:"Overlay",description:"An overlay element",createdby:"Tabs System User"},{name:"thumbmenu",short:"Thumb menu",description:"Quick navigation menu for mobile use sitting at the bottom of the viewport.",createdby:"Tabs System User"},{name:"button-group",short:"Button group",description:"Group buttons together on a single line.",createdby:"Tabs System User"},{name:"buttonlabel",short:"Button Label",description:"A component consisting of a button and a label",createdby:"Tabs System User"},{name:"imagetile",short:"Image Tile",description:"An image tile with text overlay",createdby:"Tabs System User"}],element:[{name:"detail",short:"Detail",description:"A detail element",createdby:"Tabs System User"},{name:"slogan",short:"Slogan",description:"a site slogan",createdby:"Tabs System User"},{name:"strapline",short:"Strapline",description:"A strapline element",createdby:"Tabs System User"},{name:"comment",short:"Comment",description:"A comment element",createdby:"Tabs System User"},{name:"socialmedialink",short:"Social Media Link",description:"A social media link showing an icon of the platform.",createdby:"Tabs System User"},{name:"list",short:"List",description:"A list element",createdby:"Tabs System User"},{name:"subtitle",short:"Sub Title",description:"A sub title element.",createdby:"Tabs System User"},{name:"figure",short:"Figure",description:"A figure element with caption",createdby:"Tabs System User"},{name:"button",short:"Button",description:"A button element",createdby:"Tabs System User"},{name:"label",short:"Label",description:"A label element",createdby:"Tabs System User"},{name:"booleansliderswitch",short:"Boolean Slider Switch",description:"On off slider button",createdby:"Tabs System User"},{name:"spinner",short:"Spinner",description:"A spinner element",createdby:"Tabs System User"}],layout:[{name:"tabletcolumn",short:"Tablet columns",description:"A special tablet only column layout",createdby:"Tabs System User"},{name:"grid",short:"Grid",description:"A grid layout system for TOCC",createdby:"Tabs System User"}]}},,,,function(t,e,i){"use strict";i.r(e);var o={};i.r(o),i.d(o,"getCollection",function(){return A}),i.d(o,"whoAmi",function(){return q}),i.d(o,"logOut",function(){return T}),i.d(o,"addUpdateActorSettingValueByIndex",function(){return C}),i.d(o,"selectMarketingBrand",function(){return E});i(691),i(752);var r=i(1),n=i.n(r),a=i(687),s=i.n(a),c=i(35),p=i(399),h=i(105),d=i(689),u=i(41),l="https://toccstyles.originalcottages.co.uk/";"localhost"===window.location.hostname&&(l="/css/");var m=l+i(104).version,y=i(1012),b=function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(i.state=o.type,o.status&&(i.status=o.status),o.error&&(i.error=o.error),o.type){case"GET_COLLECTION_START":case"GET_COLLECTION_SUCCESS":case"GET_COLLECTION_ERROR":i[o.hash]=o.collection}switch(o.type){case"UPDATE_ENTITY_START":case"UPDATE_ENTITY_SUCCESS":case"UPDATE_ENTITY_ERROR":if(!(t=y.get(i,o.objectpath)))return i}switch(o.type){case"UPDATE_ITEM_IN_STATE_COLLECTION_START":case"UPDATE_ITEM_IN_STATE_COLLECTION_SUCCESS":case"UPDATE_ITEM_IN_STATE_COLLECTION_ERROR":if(!(e=y.get(i,o.objectpath)))return i;o.entity.updating="UPDATE_ITEM_IN_STATE_COLLECTION_START"===o.type,o.entity.updated="UPDATE_ITEM_IN_STATE_COLLECTION_SUCCESS"===o.type,e.getEntityById(o.entityid)?(o.newentityid&&(o.entity.id=o.newentityid),e.updateElementById(o.entityid,o.entity)):e.push(o.entity),o.error&&(o.error.namespace=o.objectpath),y(i).set(o.objectpath,e)}switch(o.type){case"GET_COLLECTION_START":case"GET_COLLECTION_SUCCESS":case"GET_COLLECTION_ERROR":return Object(u.a)({},i);case"UPDATE_ENTITY_START":return t.updating=!0,t.updated=!1,t.error=void 0,y.set(i,o.objectpath,t),Object(u.a)({},i,{updating:!0});case"UPDATE_ENTITY_SUCCESS":return o.entity.updating=!1,o.entity.updated=!0,o.entity.error=void 0,y.set(i,o.objectpath,o.entity),Object(u.a)({},i,{updating:!1});case"UPDATE_ENTITY_ERROR":return o.entity.updating=!1,o.entity.updated=!1,o.entity.error=o.error,y.set(i,o.objectpath,o.entity),Object(u.a)({},i,{updating:!1});case"UPDATE_ITEM_IN_STATE_COLLECTION_START":return Object(u.a)({},i,{collectionupdating:!0});case"UPDATE_ITEM_IN_STATE_COLLECTION_SUCCESS":return Object(u.a)({},i,{collectionupdating:!1});case"UPDATE_ITEM_IN_STATE_COLLECTION_ERROR":return Object(u.a)({},i,{error:o.error,collectionupdating:!1});case"CURRENTUSER_SETTING_START":return Object(u.a)({},i,{updatingsettings:!0});case"CURRENTUSER_SETTING_SUCCESS":return Object(u.a)({},i,{updatingsettings:!1});case"GET_CURRENTUSER_SUCCESS":return Object(u.a)({},i,{user:o.user});case"SELECT_MARKETINGBRAND":var r=Math.round(1e9*Math.random(),2),n={toccfonts:m+"/fonts/"+o.marketingBrand.id+".css?r="+r,toccstyles:m+"/"+o.marketingBrand.id+"/index.css?r="+r};for(var a in n)if(document.getElementById(a))document.getElementById(a).href=n[a];else{var s=document.getElementsByTagName("HEAD")[0],c=document.createElement("link");c.rel="stylesheet",c.id=a,c.type="text/css",c.href=n[a],s.appendChild(c)}return Object(u.a)({},i,{selectedMarketingBrand:o.marketingBrand});case"GET_CURRENTUSER_ERROR":case"LOGOUT":return Object(u.a)({},i,{user:void 0});default:return i}},g=Object(h.c)({Tabs:b});var f=i(24),w=i(25),v=i(27),k=i(26),x=i(28),P=i(23),j=function(t,e,i,o,r,n){var a=c.common[t],s=new a,p=new c.FilterCollection({path:s.path,object:a});return p.page=e||1,p.limit=i||10,p.orderBy=r||"",p.removeAllFilters(),p.addFilters(o||{}),n&&(p.fields=n),p},A=function(t,e,i,o,r,n,a){return e||(e=t.toLowerCase()),function(s){var c=j(t,i,o,r,n,a);return s({type:"GET_COLLECTION_START",collection:c,hash:e}),c.fetch().then(function(t){s({type:"GET_COLLECTION_SUCCESS",collection:t,hash:e})}).catch(function(t){s({type:"GET_COLLECTION_ERROR",error:t,hash:e})})}},S=function(t,e){return t.settings.filter(function(t){return t.name===e}).shift()},q=function(){return function(t){var e=this;return t({type:"GET_CURRENTUSER_START"}),c.client.getInstance().whoAmi().then(function(i){var o=new(c.common.ActorInstance.call(e,i.entity.type.toLowerCase()))(i.entity.id);o.mutateResponse(i.entity);var r=S(o,"toccstyleguide__selectedMarketingBrand"),n={id:"vanilla",name:"Vanilla"};r&&(n=r.getDecodedValue().pop()||n),t({type:"SELECT_MARKETINGBRAND",marketingBrand:n}),c.client.getInstance().getRootCacheable().then(function(e){for(var i in e.entity.static){var r=j(i);t({type:"GET_COLLECTION_START",collection:r,hash:i}),r.mutateResponse(e.entity.static[i]),t({type:"GET_COLLECTION_SUCCESS",collection:r,hash:i})}t({type:"GET_CURRENTUSER_SUCCESS",user:o})})}).catch(function(e){t({type:"GET_CURRENTUSER_ERROR",error:e})})}},T=function(){return function(t){c.client.getInstance().oAuthLogout(),t({type:"LOGOUT"})}},C=function(t,e,i,o,r){return function(n){n({type:"CURRENTUSER_SETTING_START"});var a=S(t,e);if(a?a.value=a.getDecodedValue()||[]:((a=new c.common.ActorSetting).parent=t,a.name=e,a.value=[]),null===i){var s=a.getDecodedValue()||[];s.length>1&&o>0?s.splice(1,o):-1===o?s=[]:s.shift(),a.value=s}else"number"===typeof o&&a.value[o]?(i.updated=new Date,a.value[o]=i):(i.created=new Date,a.value.push(i));a.value=JSON.stringify(a.value),n({type:"UPDATE_ITEM_IN_STATE_COLLECTION_SUCCESS",entity:a,objectpath:"user.settings"}),(a.id?a.update():a.create()).then(function(){n({type:"CURRENTUSER_SETTING_SUCCESS"}),"function"===typeof r&&r.call(this)}).catch(function(t){n({type:"CURRENTUSER_SETTING_ERROR",error:t})})}},E=function(t,e){return function(i){i(C(t,"toccstyleguide__selectedMarketingBrand",null===e?e:{id:e.id,name:e.name},null===e?-1:0,function(){i({type:"SELECT_MARKETINGBRAND",marketingBrand:e})}))}},B=Object(p.b)(function(t){return Object(u.a)({},t)},Object(u.a)({},o)),O=B(function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"container NotFoundScreen"},n.a.createElement("h1",null,"Sorry :("),n.a.createElement("p",null,"Page not found"))}}]),e}(n.a.Component)),R=B(function(t){function e(t){var i;return Object(f.a)(this,e),i=Object(v.a)(this,Object(k.a)(e).call(this,t)),t.logOut(),i}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){return null}}]),e}(n.a.Component)),D=i(64),_=i(104).elements,I=function(t){return _[t.element]?n.a.createElement("aside",{className:"menu"},n.a.createElement("h3",null,t.element.charAt(0).toUpperCase()+t.element.slice(1)),n.a.createElement("ul",{className:"menu-list"},_[t.element].map(function(e,i){return n.a.createElement("li",{key:i},n.a.createElement(D.b,{to:{pathname:"/"+t.element+"/"+e.name}},e.short))}))):null},N=function(t){var e=["container"];return t.className&&e.push(t.className),n.a.createElement("section",{className:"hero "+t.size},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:e.join(" ")},t.children)))},U=i(104).elements,M=B(function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){return U[this.props.match.params.element]&&0!==U[this.props.match.params.element].length?n.a.createElement("div",{className:"container ElementListScreen"},n.a.createElement(N,null,n.a.createElement(I,{element:this.props.match.params.element}))):n.a.createElement(O,null)}}]),e}(n.a.Component)),L=m,F=i(104).elements,G=B(function(t){function e(t){var i;return Object(f.a)(this,e),(i=Object(v.a)(this,Object(k.a)(e).call(this,t))).state={loadingHtml:!1,loadingCss:!1,html:"",css:"",view:"Preview"},i}return Object(x.a)(e,t),Object(w.a)(e,[{key:"getMb",value:function(t){var e={id:"vanilla"};return t||(t=this.props),t.Tabs.selectedMarketingBrand&&(e=t.Tabs.selectedMarketingBrand),e}},{key:"getFontsPath",value:function(t){return L+"/fonts/"+t.id+".css"}},{key:"getCssPath",value:function(t){return L+"/"+t.id+"/index.css"}},{key:"componentDidUpdate",value:function(t){this.props.match.params.element===t.match.params.element&&this.props.match.params.item===t.match.params.item||(this.loadHtml(),this.loadCss())}},{key:"loadHtml",value:function(){var t=this;this.setState({loadingHtml:!0},function(){fetch("/snippets/"+t.props.match.params.element+"/"+t.props.match.params.item+".html").then(function(e){e.text().then(function(e){t.setState({loadingHtml:!1,html:e})})})})}},{key:"loadCss",value:function(){var t=this,e=this.getMb();this.setState({loadingCss:!0},function(){fetch(L+"/"+e.id+"/"+t.props.match.params.element+"/"+t.props.match.params.item+"/"+t.props.match.params.item+".css").then(function(e){e.text().then(function(e){t.setState({loadingCss:!1,css:e})})})})}},{key:"componentDidMount",value:function(){this.loadHtml(),this.loadCss()}},{key:"setView",value:function(t){this.setState({view:t.target.innerHTML})}},{key:"render",value:function(){var t=this;if(!F[this.props.match.params.element]||0===F[this.props.match.params.element].length)return n.a.createElement(O,null);var e=F[this.props.match.params.element].filter(function(e){return e.name===t.props.match.params.item}).shift();if(!e)return n.a.createElement(O,null);var i=this.getCssPath(this.getMb()),o=this.getFontsPath(this.getMb()),r=L+"/"+this.getMb().id+"/"+this.props.match.params.element+"/"+this.props.match.params.item+"/"+this.props.match.params.item+".css";return n.a.createElement("div",{className:"container ElementListScreen"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column"},this.state.loadingHtml&&n.a.createElement("p",null,"Loading preview"),n.a.createElement("div",{className:"content"},n.a.createElement("h2",null,e.short),n.a.createElement("p",null,e.description)),n.a.createElement("div",{className:"tags is-small"},["Preview","HTML","CSS","Use"].map(function(e,i){var o=["tag"];return t.state.view===e&&o.push("is-primary"),n.a.createElement("a",{key:i,onClick:t.setView.bind(t),className:o.join(" ")},e)})),"Preview"===this.state.view&&n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.html}}),"HTML"===this.state.view&&n.a.createElement("pre",null,this.state.html),"CSS"===this.state.view&&n.a.createElement("pre",null,this.state.css),"Use"===this.state.view&&n.a.createElement("div",{className:"content"},n.a.createElement("h3",null,"Usage instructions"),n.a.createElement("ol",null,n.a.createElement("li",null,"Add the following into the <head> tag:",n.a.createElement("pre",null,'<link rel="stylesheet" type="text/css" href="',o,'" />'),n.a.createElement("pre",null,'<link rel="stylesheet" type="text/css" href="',i,'/index.css" />')),n.a.createElement("li",null,"Alternatively, if you just want the css for this component, add the following:",n.a.createElement("pre",null,'<link rel="stylesheet" type="text/css" href="',o,'" />'),n.a.createElement("pre",null,'<link rel="stylesheet" type="text/css" href="',r,'" />')),n.a.createElement("li",null,"Use the html shown in the markup tab to create your element."))),this.props.children)))}}]),e}(n.a.Component)),W=i(104).version;function V(t,e){return function(i){function o(t){var e;return Object(f.a)(this,o),(e=Object(v.a)(this,Object(k.a)(o).call(this,t)))._ref=n.a.createRef(),e.state={value:null,loading:!0},e}return Object(x.a)(o,i),Object(w.a)(o,[{key:"componentDidMount",value:function(){setTimeout(function(){if(this._ref.current){var t=window.getComputedStyle(this._ref.current);this.setState({value:t[e],loading:!1})}}.bind(this),1e3)}},{key:"render",value:function(){return n.a.createElement(t,Object.assign({cssRef:this._ref,cssLoading:this.state.loading,cssValue:this.state.value},this.props))}}]),o}(n.a.Component)}var z=B(function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){var t=null;this.props.Tabs.selectedMarketingBrand&&"vanilla"!==this.props.Tabs.selectedMarketingBrand.id&&this.props.Tabs.MarketingBrand&&(t=this.props.Tabs.MarketingBrand.getEntityById(this.props.Tabs.selectedMarketingBrand.id));var e=["one","two","three","four","five","six","seven","eight","darkgrey","lightgrey","reallylightgrey","almostwhite"],i=V(function(t){return n.a.createElement("h5",{ref:t.cssRef},"Title font: ",t.cssLoading&&"...",!t.cssLoading&&t.cssValue)},"fontFamily"),o=V(function(t){return n.a.createElement("p",{ref:t.cssRef},"Body font: ",t.cssLoading&&"...",!t.cssLoading&&t.cssValue)},"fontFamily"),r=V(function(t){return n.a.createElement("blockquote",{className:"oc-slogan",ref:t.cssRef},"Slogan font: ",t.cssLoading&&"...",!t.cssLoading&&t.cssValue)},"fontFamily");return n.a.createElement("section",{className:"hero"},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"oc-content"},n.a.createElement("h1",null,"The Original Cottage Company",n.a.createElement("small",{className:"oc-subtitle"},"Style Guide version: ",W)),n.a.createElement("p",null,"This site is intended to be a store of the components used in TOCC web applications."),n.a.createElement("p",null,"You will be able to browse components by type and see the marketing brand variances by selecting brand from the navigation bar above."),n.a.createElement("h4",null,"Globals ",t&&n.a.createElement("span",null,"for ",t.name)),n.a.createElement("h5",null,"Colours"),n.a.createElement("ul",{className:"oc-list--inline oc-clear__margin--small"},e.map(function(t,e){var i=V(function(t){return n.a.createElement("span",{ref:t.cssRef,style:{border:"1px solid #CCC",textShadow:"1px 1px 0px #CCC"},className:"oc-label bg--"+t.color},t.color,": ",t.cssLoading&&"...",!t.cssLoading&&t.cssValue)},"backgroundColor");return n.a.createElement("li",{key:e},n.a.createElement(i,{color:t}))})),n.a.createElement("h5",null,"Border colours"),n.a.createElement("ul",{className:"oc-list--inline oc-clear__margin--small"},e.map(function(t,e){return n.a.createElement("li",{key:e},n.a.createElement("span",{className:"oc-label c--one bg--almostwhite bd--"+t},".bd--",t))})),n.a.createElement("h5",null,"Background colours"),n.a.createElement("ul",{className:"oc-list--inline oc-clear__margin--small"},e.map(function(t,e){return n.a.createElement("li",{key:e},n.a.createElement("span",{style:{border:"1px solid #CCC",textShadow:"1px 1px 0px #CCC",color:"white"},className:"oc-label bg--"+t},".bg--",t))})),n.a.createElement("h5",null,"Fonts"),n.a.createElement(i,null),n.a.createElement(o,null)),n.a.createElement(r,null))))}}]),e}(n.a.Component)),H=function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"toggleClass",value:function(t){var e=document.getElementById(t.target.dataset.target);t.target.classList.toggle("is-active"),e.classList.toggle("is-active")}},{key:"render",value:function(){return n.a.createElement("a",{href:"#",role:"button",className:this.props.className,onClick:this.toggleClass,"data-target":this.props.target},this.props.children)}}]),e}(n.a.Component),K=i(104).elements,Y=B(function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"getElementLinks",value:function(){return Object.keys(K).map(function(t,e){return n.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable",key:e},n.a.createElement("a",{href:"#",className:"navbar-link"},t.charAt(0).toUpperCase()+t.slice(1)+"s"),n.a.createElement("div",{className:"navbar-dropdown"},K[t].map(function(e,i){return n.a.createElement(D.b,{className:"navbar-item",to:{pathname:"/"+t+"/"+e.name},key:i},e.short)})))})}},{key:"whoAmi",value:function(){c.client.getInstance().whoAmi()}},{key:"render",value:function(){var t=this,e=null;return this.props.Tabs.selectedMarketingBrand&&"vanilla"!==this.props.Tabs.selectedMarketingBrand.id&&this.props.Tabs.MarketingBrand&&(e=this.props.Tabs.MarketingBrand.getEntityById(this.props.Tabs.selectedMarketingBrand.id)),n.a.createElement("nav",{className:"navbar"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement("a",{className:"navbar-item",href:"/"},n.a.createElement("img",{src:"/img/logo.gif",alt:"The Original Cottage Company"})),this.props.Tabs.user&&n.a.createElement("div",{className:"navbar-item"},this.props.Tabs.user.getFullName()),"LOGOUT"===this.props.Tabs.state&&n.a.createElement("div",{className:"navbar-item"},"You have been logged out"),n.a.createElement("div",{className:"navbar-item"},n.a.createElement("div",{className:"buttons"},!this.props.Tabs.user&&"GET_CURRENTUSER_START"!==this.props.Tabs.state&&n.a.createElement("button",{className:"button is-light",onClick:this.whoAmi.bind(this)},"Login"),this.props.Tabs.user&&n.a.createElement(D.b,{className:"button is-light",to:{pathname:"/logout"}},"Log out"))),n.a.createElement(H,{className:"navbar-burger burger",target:"mainnavsection"},n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}))),n.a.createElement("div",{id:"mainnavsection",className:"navbar-menu"},"LOGOUT"!==this.props.Tabs.state&&n.a.createElement("div",{className:"navbar-start"},n.a.createElement(D.b,{className:"navbar-item",to:{pathname:"/"}},"Home"),this.getElementLinks(),n.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},n.a.createElement("a",{href:"#",className:"navbar-link"},this.props.Tabs.selectedMarketingBrand?this.props.Tabs.selectedMarketingBrand.name:"Vanilla"," Theme",this.props.Tabs.selectedMarketingBrand?" ("+this.props.Tabs.selectedMarketingBrand.id+")":null),this.props.Tabs.MarketingBrand&&n.a.createElement("div",{className:"navbar-dropdown"},n.a.createElement("a",{href:"#",onClick:function(){t.props.selectMarketingBrand(t.props.Tabs.user,{id:"vanilla",name:"Vanilla"})},className:"navbar-item"},"Vanilla"),this.props.Tabs.MarketingBrand.filter(function(t,e){return[9,7,2,13,16,17,20,14].indexOf(t.id)<0}).map(function(e,i){return n.a.createElement("a",{key:i,href:"#",onClick:function(){t.props.selectMarketingBrand(t.props.Tabs.user,e)},className:"navbar-item"},e.name," (",e.id,")")}))),e&&e.website&&n.a.createElement("div",{className:"navbar-item"},n.a.createElement("a",{href:e.website,target:"_blank",rel:"noopener noreferrer"},"View website"))))))}}]),e}(n.a.Component)),J=(i(686),i(104).elements),Q=B(function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"getElementLinks",value:function(){return Object.keys(J).map(function(t,e){return n.a.createElement("div",{className:"column is-3",key:e},n.a.createElement("p",null,n.a.createElement("strong",null,t.charAt(0).toUpperCase()+t.slice(1)+"s")),n.a.createElement("ul",{className:"oc-list"},J[t].map(function(e,i){return n.a.createElement("li",{key:i},n.a.createElement(D.b,{to:{pathname:"/"+t+"/"+e.name}},e.short))})))})}},{key:"render",value:function(){return n.a.createElement(D.a,null,n.a.createElement(Y,null),"GET_CURRENTUSER_START"===this.props.Tabs.state&&n.a.createElement("div",{className:"container",style:{minHeight:"70vh",paddingTop:"2rem"}},n.a.createElement("p",null,"Please wait...")),"GET_CURRENTUSER_START"!==this.props.Tabs.state&&n.a.createElement("div",{style:{minHeight:"70vh",paddingTop:"2rem"}},this.props.children),n.a.createElement("footer",{className:"footer",style:{minHeight:"30vh"}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-3"},n.a.createElement("p",null,n.a.createElement("strong",null,"TOCC Style Guide")," by ",n.a.createElement("a",{href:"https://www.originalcottages.co.uk",target:"_blank",rel:"noopener noreferrer"},"IT/Marketing"),".")),"GET_CURRENTUSER_START"!==this.props.Tabs.state&&this.getElementLinks()))))}}]),e}(n.a.Component)),Z=B(function(t){function e(t){var i;return Object(f.a)(this,e),i=Object(v.a)(this,Object(k.a)(e).call(this,t)),t.whoAmi(),i}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){return n.a.createElement(Q,null,n.a.createElement(P.c,null,n.a.createElement(P.a,{exact:!0,path:"/",component:z}),n.a.createElement(P.a,{exact:!0,path:"/logout",component:R}),n.a.createElement(P.a,{exact:!0,path:"/:element",component:M}),n.a.createElement(P.a,{exact:!0,path:"/:element/:item",component:G}),n.a.createElement(P.a,{component:O})))}}]),e}(n.a.Component)),X=function(t){return n.a.createElement(N,{className:"has-text-centered"},t.children)},$=function(t){function e(){return Object(f.a)(this,e),Object(v.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(w.a)(e,[{key:"render",value:function(){return n.a.createElement(Q,null,n.a.createElement(X,{size:"is-large"},n.a.createElement("h1",{className:"title"},"You are not logged in")))}}]),e}(n.a.Component);i(1014);var tt={apiRoot:"https://toccl.api.tabs-software.co.uk",apiPrefix:"/v2",oAuthRedirectUrl:window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/oauth.html",clientId:"16_2jgop2ihc0sg0sgwccskk0c0804k4ogw40s44ccgs4c8g0wgw4"};if("localhost"!==window.location.hostname&&(tt.authPath="https://sso.originalcottages.co.uk/app/theoriginalcottagecompany_toccstyleguide_1/exk47j75qqzddtjAN357/sso/saml",tt.oAuthWithoutHost=!0),c.client.getInstance().setInstance(tt),window.location.hash&&window.location.hash.length>30){c.client.getInstance().oAuthCallback(window.location.hash);var et=window.location.protocol+"//"+window.location.hostname;window.location.port&&window.location.port.length>0&&(et=et.concat(":"+window.location.port)),window.location=et}s.a.render(n.a.createElement(p.a,{store:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h.d)(g,t,Object(h.a)(d.a))}()},!c.client.getInstance().token&&n.a.createElement($,null),c.client.getInstance().token&&n.a.createElement(Z,null)),document.getElementById("root"))}],[[690,1,2]]]);
//# sourceMappingURL=main.5a6599cd.chunk.js.map